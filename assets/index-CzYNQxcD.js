function gI(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Qt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function C1(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var k1={exports:{}},Mu={},A1={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var il=Symbol.for("react.element"),yI=Symbol.for("react.portal"),vI=Symbol.for("react.fragment"),_I=Symbol.for("react.strict_mode"),xI=Symbol.for("react.profiler"),wI=Symbol.for("react.provider"),bI=Symbol.for("react.context"),EI=Symbol.for("react.forward_ref"),TI=Symbol.for("react.suspense"),II=Symbol.for("react.memo"),SI=Symbol.for("react.lazy"),z0=Symbol.iterator;function CI(t){return t===null||typeof t!="object"?null:(t=z0&&t[z0]||t["@@iterator"],typeof t=="function"?t:null)}var R1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P1=Object.assign,N1={};function po(t,e,n){this.props=t,this.context=e,this.refs=N1,this.updater=n||R1}po.prototype.isReactComponent={};po.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};po.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function j1(){}j1.prototype=po.prototype;function qp(t,e,n){this.props=t,this.context=e,this.refs=N1,this.updater=n||R1}var Hp=qp.prototype=new j1;Hp.constructor=qp;P1(Hp,po.prototype);Hp.isPureReactComponent=!0;var q0=Array.isArray,O1=Object.prototype.hasOwnProperty,Wp={current:null},D1={key:!0,ref:!0,__self:!0,__source:!0};function L1(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)O1.call(e,r)&&!D1.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),d=0;d<a;d++)l[d]=arguments[d+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:il,type:t,key:i,ref:o,props:s,_owner:Wp.current}}function kI(t,e){return{$$typeof:il,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Gp(t){return typeof t=="object"&&t!==null&&t.$$typeof===il}function AI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var H0=/\/+/g;function Gd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?AI(""+t.key):e.toString(36)}function _c(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case il:case yI:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Gd(o,0):r,q0(s)?(n="",t!=null&&(n=t.replace(H0,"$&/")+"/"),_c(s,e,n,"",function(d){return d})):s!=null&&(Gp(s)&&(s=kI(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(H0,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",q0(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Gd(i,a);o+=_c(i,e,n,l,s)}else if(l=CI(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Gd(i,a++),o+=_c(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Bl(t,e,n){if(t==null)return t;var r=[],s=0;return _c(t,r,"","",function(i){return e.call(n,i,s++)}),r}function RI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ct={current:null},xc={transition:null},PI={ReactCurrentDispatcher:Ct,ReactCurrentBatchConfig:xc,ReactCurrentOwner:Wp};function M1(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:Bl,forEach:function(t,e,n){Bl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Bl(t,function(){e++}),e},toArray:function(t){return Bl(t,function(e){return e})||[]},only:function(t){if(!Gp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ue.Component=po;ue.Fragment=vI;ue.Profiler=xI;ue.PureComponent=qp;ue.StrictMode=_I;ue.Suspense=TI;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PI;ue.act=M1;ue.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=P1({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Wp.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)O1.call(e,l)&&!D1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var d=0;d<l;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:il,type:t.type,key:s,ref:i,props:r,_owner:o}};ue.createContext=function(t){return t={$$typeof:bI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:wI,_context:t},t.Consumer=t};ue.createElement=L1;ue.createFactory=function(t){var e=L1.bind(null,t);return e.type=t,e};ue.createRef=function(){return{current:null}};ue.forwardRef=function(t){return{$$typeof:EI,render:t}};ue.isValidElement=Gp;ue.lazy=function(t){return{$$typeof:SI,_payload:{_status:-1,_result:t},_init:RI}};ue.memo=function(t,e){return{$$typeof:II,type:t,compare:e===void 0?null:e}};ue.startTransition=function(t){var e=xc.transition;xc.transition={};try{t()}finally{xc.transition=e}};ue.unstable_act=M1;ue.useCallback=function(t,e){return Ct.current.useCallback(t,e)};ue.useContext=function(t){return Ct.current.useContext(t)};ue.useDebugValue=function(){};ue.useDeferredValue=function(t){return Ct.current.useDeferredValue(t)};ue.useEffect=function(t,e){return Ct.current.useEffect(t,e)};ue.useId=function(){return Ct.current.useId()};ue.useImperativeHandle=function(t,e,n){return Ct.current.useImperativeHandle(t,e,n)};ue.useInsertionEffect=function(t,e){return Ct.current.useInsertionEffect(t,e)};ue.useLayoutEffect=function(t,e){return Ct.current.useLayoutEffect(t,e)};ue.useMemo=function(t,e){return Ct.current.useMemo(t,e)};ue.useReducer=function(t,e,n){return Ct.current.useReducer(t,e,n)};ue.useRef=function(t){return Ct.current.useRef(t)};ue.useState=function(t){return Ct.current.useState(t)};ue.useSyncExternalStore=function(t,e,n){return Ct.current.useSyncExternalStore(t,e,n)};ue.useTransition=function(){return Ct.current.useTransition()};ue.version="18.3.1";A1.exports=ue;var O=A1.exports;const xe=zp(O),NI=gI({__proto__:null,default:xe},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jI=O,OI=Symbol.for("react.element"),DI=Symbol.for("react.fragment"),LI=Object.prototype.hasOwnProperty,MI=jI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,FI={key:!0,ref:!0,__self:!0,__source:!0};function F1(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)LI.call(e,r)&&!FI.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:OI,type:t,key:i,ref:o,props:s,_owner:MI.current}}Mu.Fragment=DI;Mu.jsx=F1;Mu.jsxs=F1;k1.exports=Mu;var u=k1.exports,U1={exports:{}},Jt={},V1={exports:{}},$1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,z){var H=V.length;V.push(z);e:for(;0<H;){var Q=H-1>>>1,J=V[Q];if(0<s(J,z))V[Q]=z,V[H]=J,H=Q;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var z=V[0],H=V.pop();if(H!==z){V[0]=H;e:for(var Q=0,J=V.length,te=J>>>1;Q<te;){var we=2*(Q+1)-1,be=V[we],le=we+1,et=V[le];if(0>s(be,H))le<J&&0>s(et,be)?(V[Q]=et,V[le]=H,Q=le):(V[Q]=be,V[we]=H,Q=we);else if(le<J&&0>s(et,H))V[Q]=et,V[le]=H,Q=le;else break e}}return z}function s(V,z){var H=V.sortIndex-z.sortIndex;return H!==0?H:V.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],d=[],h=1,p=null,g=3,w=!1,k=!1,N=!1,P=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(V){for(var z=n(d);z!==null;){if(z.callback===null)r(d);else if(z.startTime<=V)r(d),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(d)}}function j(V){if(N=!1,C(V),!k)if(n(l)!==null)k=!0,M(U);else{var z=n(d);z!==null&&$(j,z.startTime-V)}}function U(V,z){k=!1,N&&(N=!1,A(y),y=-1),w=!0;var H=g;try{for(C(z),p=n(l);p!==null&&(!(p.expirationTime>z)||V&&!b());){var Q=p.callback;if(typeof Q=="function"){p.callback=null,g=p.priorityLevel;var J=Q(p.expirationTime<=z);z=t.unstable_now(),typeof J=="function"?p.callback=J:p===n(l)&&r(l),C(z)}else r(l);p=n(l)}if(p!==null)var te=!0;else{var we=n(d);we!==null&&$(j,we.startTime-z),te=!1}return te}finally{p=null,g=H,w=!1}}var L=!1,v=null,y=-1,x=5,R=-1;function b(){return!(t.unstable_now()-R<x)}function I(){if(v!==null){var V=t.unstable_now();R=V;var z=!0;try{z=v(!0,V)}finally{z?_():(L=!1,v=null)}}else L=!1}var _;if(typeof E=="function")_=function(){E(I)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,T=D.port2;D.port1.onmessage=I,_=function(){T.postMessage(null)}}else _=function(){P(I,0)};function M(V){v=V,L||(L=!0,_())}function $(V,z){y=P(function(){V(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){k||w||(k=!0,M(U))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(g){case 1:case 2:case 3:var z=3;break;default:z=g}var H=g;g=z;try{return V()}finally{g=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,z){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var H=g;g=V;try{return z()}finally{g=H}},t.unstable_scheduleCallback=function(V,z,H){var Q=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?Q+H:Q):H=Q,V){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=H+J,V={id:h++,callback:z,priorityLevel:V,startTime:H,expirationTime:J,sortIndex:-1},H>Q?(V.sortIndex=H,e(d,V),n(l)===null&&V===n(d)&&(N?(A(y),y=-1):N=!0,$(j,H-Q))):(V.sortIndex=J,e(l,V),k||w||(k=!0,M(U))),V},t.unstable_shouldYield=b,t.unstable_wrapCallback=function(V){var z=g;return function(){var H=g;g=z;try{return V.apply(this,arguments)}finally{g=H}}}})($1);V1.exports=$1;var UI=V1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VI=O,Yt=UI;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var B1=new Set,Aa={};function Ys(t,e){Qi(t,e),Qi(t+"Capture",e)}function Qi(t,e){for(Aa[t]=e,t=0;t<e.length;t++)B1.add(e[t])}var Zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yh=Object.prototype.hasOwnProperty,$I=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,W0={},G0={};function BI(t){return Yh.call(G0,t)?!0:Yh.call(W0,t)?!1:$I.test(t)?G0[t]=!0:(W0[t]=!0,!1)}function zI(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function qI(t,e,n,r){if(e===null||typeof e>"u"||zI(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function kt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var at={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){at[t]=new kt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];at[e]=new kt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){at[t]=new kt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){at[t]=new kt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){at[t]=new kt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){at[t]=new kt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){at[t]=new kt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){at[t]=new kt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){at[t]=new kt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Kp=/[\-:]([a-z])/g;function Qp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Kp,Qp);at[e]=new kt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Kp,Qp);at[e]=new kt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Kp,Qp);at[e]=new kt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){at[t]=new kt(t,1,!1,t.toLowerCase(),null,!1,!1)});at.xlinkHref=new kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){at[t]=new kt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Yp(t,e,n,r){var s=at.hasOwnProperty(e)?at[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qI(e,n,s,r)&&(n=null),r||s===null?BI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var cr=VI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zl=Symbol.for("react.element"),xi=Symbol.for("react.portal"),wi=Symbol.for("react.fragment"),Jp=Symbol.for("react.strict_mode"),Jh=Symbol.for("react.profiler"),z1=Symbol.for("react.provider"),q1=Symbol.for("react.context"),Xp=Symbol.for("react.forward_ref"),Xh=Symbol.for("react.suspense"),Zh=Symbol.for("react.suspense_list"),Zp=Symbol.for("react.memo"),br=Symbol.for("react.lazy"),H1=Symbol.for("react.offscreen"),K0=Symbol.iterator;function $o(t){return t===null||typeof t!="object"?null:(t=K0&&t[K0]||t["@@iterator"],typeof t=="function"?t:null)}var Me=Object.assign,Kd;function Xo(t){if(Kd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Kd=e&&e[1]||""}return`
`+Kd+t}var Qd=!1;function Yd(t,e){if(!t||Qd)return"";Qd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Qd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Xo(t):""}function HI(t){switch(t.tag){case 5:return Xo(t.type);case 16:return Xo("Lazy");case 13:return Xo("Suspense");case 19:return Xo("SuspenseList");case 0:case 2:case 15:return t=Yd(t.type,!1),t;case 11:return t=Yd(t.type.render,!1),t;case 1:return t=Yd(t.type,!0),t;default:return""}}function ef(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case wi:return"Fragment";case xi:return"Portal";case Jh:return"Profiler";case Jp:return"StrictMode";case Xh:return"Suspense";case Zh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case q1:return(t.displayName||"Context")+".Consumer";case z1:return(t._context.displayName||"Context")+".Provider";case Xp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Zp:return e=t.displayName||null,e!==null?e:ef(t.type)||"Memo";case br:e=t._payload,t=t._init;try{return ef(t(e))}catch{}}return null}function WI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ef(e);case 8:return e===Jp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function W1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function GI(t){var e=W1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ql(t){t._valueTracker||(t._valueTracker=GI(t))}function G1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=W1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Bc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function tf(t,e){var n=e.checked;return Me({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Q0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Xr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function K1(t,e){e=e.checked,e!=null&&Yp(t,"checked",e,!1)}function nf(t,e){K1(t,e);var n=Xr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?rf(t,e.type,n):e.hasOwnProperty("defaultValue")&&rf(t,e.type,Xr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Y0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function rf(t,e,n){(e!=="number"||Bc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Zo=Array.isArray;function Di(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Xr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function sf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return Me({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function J0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(Zo(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Xr(n)}}function Q1(t,e){var n=Xr(e.value),r=Xr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function X0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Y1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function of(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Y1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Hl,J1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Hl=Hl||document.createElement("div"),Hl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Hl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ra(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ca={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KI=["Webkit","ms","Moz","O"];Object.keys(ca).forEach(function(t){KI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ca[e]=ca[t]})});function X1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ca.hasOwnProperty(t)&&ca[t]?(""+e).trim():e+"px"}function Z1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=X1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var QI=Me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function af(t,e){if(e){if(QI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function lf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cf=null;function em(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var uf=null,Li=null,Mi=null;function Z0(t){if(t=ll(t)){if(typeof uf!="function")throw Error(W(280));var e=t.stateNode;e&&(e=Bu(e),uf(t.stateNode,t.type,e))}}function ex(t){Li?Mi?Mi.push(t):Mi=[t]:Li=t}function tx(){if(Li){var t=Li,e=Mi;if(Mi=Li=null,Z0(t),e)for(t=0;t<e.length;t++)Z0(e[t])}}function nx(t,e){return t(e)}function rx(){}var Jd=!1;function sx(t,e,n){if(Jd)return t(e,n);Jd=!0;try{return nx(t,e,n)}finally{Jd=!1,(Li!==null||Mi!==null)&&(rx(),tx())}}function Pa(t,e){var n=t.stateNode;if(n===null)return null;var r=Bu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var df=!1;if(Zn)try{var Bo={};Object.defineProperty(Bo,"passive",{get:function(){df=!0}}),window.addEventListener("test",Bo,Bo),window.removeEventListener("test",Bo,Bo)}catch{df=!1}function YI(t,e,n,r,s,i,o,a,l){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var ua=!1,zc=null,qc=!1,hf=null,JI={onError:function(t){ua=!0,zc=t}};function XI(t,e,n,r,s,i,o,a,l){ua=!1,zc=null,YI.apply(JI,arguments)}function ZI(t,e,n,r,s,i,o,a,l){if(XI.apply(this,arguments),ua){if(ua){var d=zc;ua=!1,zc=null}else throw Error(W(198));qc||(qc=!0,hf=d)}}function Js(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ix(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ey(t){if(Js(t)!==t)throw Error(W(188))}function eS(t){var e=t.alternate;if(!e){if(e=Js(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return ey(s),t;if(i===r)return ey(s),e;i=i.sibling}throw Error(W(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function ox(t){return t=eS(t),t!==null?ax(t):null}function ax(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ax(t);if(e!==null)return e;t=t.sibling}return null}var lx=Yt.unstable_scheduleCallback,ty=Yt.unstable_cancelCallback,tS=Yt.unstable_shouldYield,nS=Yt.unstable_requestPaint,Be=Yt.unstable_now,rS=Yt.unstable_getCurrentPriorityLevel,tm=Yt.unstable_ImmediatePriority,cx=Yt.unstable_UserBlockingPriority,Hc=Yt.unstable_NormalPriority,sS=Yt.unstable_LowPriority,ux=Yt.unstable_IdlePriority,Fu=null,Nn=null;function iS(t){if(Nn&&typeof Nn.onCommitFiberRoot=="function")try{Nn.onCommitFiberRoot(Fu,t,void 0,(t.current.flags&128)===128)}catch{}}var xn=Math.clz32?Math.clz32:lS,oS=Math.log,aS=Math.LN2;function lS(t){return t>>>=0,t===0?32:31-(oS(t)/aS|0)|0}var Wl=64,Gl=4194304;function ea(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Wc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=ea(a):(i&=o,i!==0&&(r=ea(i)))}else o=n&~s,o!==0?r=ea(o):i!==0&&(r=ea(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-xn(e),s=1<<n,r|=t[n],e&=~s;return r}function cS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uS(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-xn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=cS(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function ff(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function dx(){var t=Wl;return Wl<<=1,!(Wl&4194240)&&(Wl=64),t}function Xd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ol(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xn(e),t[e]=n}function dS(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-xn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function nm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-xn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ee=0;function hx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var fx,rm,px,mx,gx,pf=!1,Kl=[],Vr=null,$r=null,Br=null,Na=new Map,ja=new Map,Ir=[],hS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ny(t,e){switch(t){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":$r=null;break;case"mouseover":case"mouseout":Br=null;break;case"pointerover":case"pointerout":Na.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ja.delete(e.pointerId)}}function zo(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ll(e),e!==null&&rm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function fS(t,e,n,r,s){switch(e){case"focusin":return Vr=zo(Vr,t,e,n,r,s),!0;case"dragenter":return $r=zo($r,t,e,n,r,s),!0;case"mouseover":return Br=zo(Br,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Na.set(i,zo(Na.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ja.set(i,zo(ja.get(i)||null,t,e,n,r,s)),!0}return!1}function yx(t){var e=Es(t.target);if(e!==null){var n=Js(e);if(n!==null){if(e=n.tag,e===13){if(e=ix(n),e!==null){t.blockedOn=e,gx(t.priority,function(){px(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=mf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);cf=r,n.target.dispatchEvent(r),cf=null}else return e=ll(n),e!==null&&rm(e),t.blockedOn=n,!1;e.shift()}return!0}function ry(t,e,n){wc(t)&&n.delete(e)}function pS(){pf=!1,Vr!==null&&wc(Vr)&&(Vr=null),$r!==null&&wc($r)&&($r=null),Br!==null&&wc(Br)&&(Br=null),Na.forEach(ry),ja.forEach(ry)}function qo(t,e){t.blockedOn===e&&(t.blockedOn=null,pf||(pf=!0,Yt.unstable_scheduleCallback(Yt.unstable_NormalPriority,pS)))}function Oa(t){function e(s){return qo(s,t)}if(0<Kl.length){qo(Kl[0],t);for(var n=1;n<Kl.length;n++){var r=Kl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Vr!==null&&qo(Vr,t),$r!==null&&qo($r,t),Br!==null&&qo(Br,t),Na.forEach(e),ja.forEach(e),n=0;n<Ir.length;n++)r=Ir[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ir.length&&(n=Ir[0],n.blockedOn===null);)yx(n),n.blockedOn===null&&Ir.shift()}var Fi=cr.ReactCurrentBatchConfig,Gc=!0;function mS(t,e,n,r){var s=Ee,i=Fi.transition;Fi.transition=null;try{Ee=1,sm(t,e,n,r)}finally{Ee=s,Fi.transition=i}}function gS(t,e,n,r){var s=Ee,i=Fi.transition;Fi.transition=null;try{Ee=4,sm(t,e,n,r)}finally{Ee=s,Fi.transition=i}}function sm(t,e,n,r){if(Gc){var s=mf(t,e,n,r);if(s===null)lh(t,e,r,Kc,n),ny(t,r);else if(fS(s,t,e,n,r))r.stopPropagation();else if(ny(t,r),e&4&&-1<hS.indexOf(t)){for(;s!==null;){var i=ll(s);if(i!==null&&fx(i),i=mf(t,e,n,r),i===null&&lh(t,e,r,Kc,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else lh(t,e,r,null,n)}}var Kc=null;function mf(t,e,n,r){if(Kc=null,t=em(r),t=Es(t),t!==null)if(e=Js(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ix(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Kc=t,null}function vx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rS()){case tm:return 1;case cx:return 4;case Hc:case sS:return 16;case ux:return 536870912;default:return 16}default:return 16}}var Nr=null,im=null,bc=null;function _x(){if(bc)return bc;var t,e=im,n=e.length,r,s="value"in Nr?Nr.value:Nr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return bc=s.slice(t,1<r?1-r:void 0)}function Ec(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ql(){return!0}function sy(){return!1}function Xt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ql:sy,this.isPropagationStopped=sy,this}return Me(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ql)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ql)},persist:function(){},isPersistent:Ql}),e}var mo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},om=Xt(mo),al=Me({},mo,{view:0,detail:0}),yS=Xt(al),Zd,eh,Ho,Uu=Me({},al,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:am,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ho&&(Ho&&t.type==="mousemove"?(Zd=t.screenX-Ho.screenX,eh=t.screenY-Ho.screenY):eh=Zd=0,Ho=t),Zd)},movementY:function(t){return"movementY"in t?t.movementY:eh}}),iy=Xt(Uu),vS=Me({},Uu,{dataTransfer:0}),_S=Xt(vS),xS=Me({},al,{relatedTarget:0}),th=Xt(xS),wS=Me({},mo,{animationName:0,elapsedTime:0,pseudoElement:0}),bS=Xt(wS),ES=Me({},mo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),TS=Xt(ES),IS=Me({},mo,{data:0}),oy=Xt(IS),SS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=kS[t])?!!e[t]:!1}function am(){return AS}var RS=Me({},al,{key:function(t){if(t.key){var e=SS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ec(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?CS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:am,charCode:function(t){return t.type==="keypress"?Ec(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ec(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),PS=Xt(RS),NS=Me({},Uu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ay=Xt(NS),jS=Me({},al,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:am}),OS=Xt(jS),DS=Me({},mo,{propertyName:0,elapsedTime:0,pseudoElement:0}),LS=Xt(DS),MS=Me({},Uu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),FS=Xt(MS),US=[9,13,27,32],lm=Zn&&"CompositionEvent"in window,da=null;Zn&&"documentMode"in document&&(da=document.documentMode);var VS=Zn&&"TextEvent"in window&&!da,xx=Zn&&(!lm||da&&8<da&&11>=da),ly=" ",cy=!1;function wx(t,e){switch(t){case"keyup":return US.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var bi=!1;function $S(t,e){switch(t){case"compositionend":return bx(e);case"keypress":return e.which!==32?null:(cy=!0,ly);case"textInput":return t=e.data,t===ly&&cy?null:t;default:return null}}function BS(t,e){if(bi)return t==="compositionend"||!lm&&wx(t,e)?(t=_x(),bc=im=Nr=null,bi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return xx&&e.locale!=="ko"?null:e.data;default:return null}}var zS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!zS[t.type]:e==="textarea"}function Ex(t,e,n,r){ex(r),e=Qc(e,"onChange"),0<e.length&&(n=new om("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ha=null,Da=null;function qS(t){Ox(t,0)}function Vu(t){var e=Ii(t);if(G1(e))return t}function HS(t,e){if(t==="change")return e}var Tx=!1;if(Zn){var nh;if(Zn){var rh="oninput"in document;if(!rh){var dy=document.createElement("div");dy.setAttribute("oninput","return;"),rh=typeof dy.oninput=="function"}nh=rh}else nh=!1;Tx=nh&&(!document.documentMode||9<document.documentMode)}function hy(){ha&&(ha.detachEvent("onpropertychange",Ix),Da=ha=null)}function Ix(t){if(t.propertyName==="value"&&Vu(Da)){var e=[];Ex(e,Da,t,em(t)),sx(qS,e)}}function WS(t,e,n){t==="focusin"?(hy(),ha=e,Da=n,ha.attachEvent("onpropertychange",Ix)):t==="focusout"&&hy()}function GS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vu(Da)}function KS(t,e){if(t==="click")return Vu(e)}function QS(t,e){if(t==="input"||t==="change")return Vu(e)}function YS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var En=typeof Object.is=="function"?Object.is:YS;function La(t,e){if(En(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Yh.call(e,s)||!En(t[s],e[s]))return!1}return!0}function fy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function py(t,e){var n=fy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fy(n)}}function Sx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Sx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Cx(){for(var t=window,e=Bc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Bc(t.document)}return e}function cm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function JS(t){var e=Cx(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Sx(n.ownerDocument.documentElement,n)){if(r!==null&&cm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=py(n,i);var o=py(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var XS=Zn&&"documentMode"in document&&11>=document.documentMode,Ei=null,gf=null,fa=null,yf=!1;function my(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yf||Ei==null||Ei!==Bc(r)||(r=Ei,"selectionStart"in r&&cm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fa&&La(fa,r)||(fa=r,r=Qc(gf,"onSelect"),0<r.length&&(e=new om("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ei)))}function Yl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ti={animationend:Yl("Animation","AnimationEnd"),animationiteration:Yl("Animation","AnimationIteration"),animationstart:Yl("Animation","AnimationStart"),transitionend:Yl("Transition","TransitionEnd")},sh={},kx={};Zn&&(kx=document.createElement("div").style,"AnimationEvent"in window||(delete Ti.animationend.animation,delete Ti.animationiteration.animation,delete Ti.animationstart.animation),"TransitionEvent"in window||delete Ti.transitionend.transition);function $u(t){if(sh[t])return sh[t];if(!Ti[t])return t;var e=Ti[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in kx)return sh[t]=e[n];return t}var Ax=$u("animationend"),Rx=$u("animationiteration"),Px=$u("animationstart"),Nx=$u("transitionend"),jx=new Map,gy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function os(t,e){jx.set(t,e),Ys(e,[t])}for(var ih=0;ih<gy.length;ih++){var oh=gy[ih],ZS=oh.toLowerCase(),eC=oh[0].toUpperCase()+oh.slice(1);os(ZS,"on"+eC)}os(Ax,"onAnimationEnd");os(Rx,"onAnimationIteration");os(Px,"onAnimationStart");os("dblclick","onDoubleClick");os("focusin","onFocus");os("focusout","onBlur");os(Nx,"onTransitionEnd");Qi("onMouseEnter",["mouseout","mouseover"]);Qi("onMouseLeave",["mouseout","mouseover"]);Qi("onPointerEnter",["pointerout","pointerover"]);Qi("onPointerLeave",["pointerout","pointerover"]);Ys("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ys("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ys("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ys("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ys("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ys("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ta="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tC=new Set("cancel close invalid load scroll toggle".split(" ").concat(ta));function yy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ZI(r,e,void 0,t),t.currentTarget=null}function Ox(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,d=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;yy(s,a,d),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,d=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;yy(s,a,d),i=l}}}if(qc)throw t=hf,qc=!1,hf=null,t}function Ae(t,e){var n=e[bf];n===void 0&&(n=e[bf]=new Set);var r=t+"__bubble";n.has(r)||(Dx(e,t,2,!1),n.add(r))}function ah(t,e,n){var r=0;e&&(r|=4),Dx(n,t,r,e)}var Jl="_reactListening"+Math.random().toString(36).slice(2);function Ma(t){if(!t[Jl]){t[Jl]=!0,B1.forEach(function(n){n!=="selectionchange"&&(tC.has(n)||ah(n,!1,t),ah(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Jl]||(e[Jl]=!0,ah("selectionchange",!1,e))}}function Dx(t,e,n,r){switch(vx(e)){case 1:var s=mS;break;case 4:s=gS;break;default:s=sm}n=s.bind(null,e,n,t),s=void 0,!df||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function lh(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Es(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}sx(function(){var d=i,h=em(n),p=[];e:{var g=jx.get(t);if(g!==void 0){var w=om,k=t;switch(t){case"keypress":if(Ec(n)===0)break e;case"keydown":case"keyup":w=PS;break;case"focusin":k="focus",w=th;break;case"focusout":k="blur",w=th;break;case"beforeblur":case"afterblur":w=th;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=iy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=_S;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=OS;break;case Ax:case Rx:case Px:w=bS;break;case Nx:w=LS;break;case"scroll":w=yS;break;case"wheel":w=FS;break;case"copy":case"cut":case"paste":w=TS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=ay}var N=(e&4)!==0,P=!N&&t==="scroll",A=N?g!==null?g+"Capture":null:g;N=[];for(var E=d,C;E!==null;){C=E;var j=C.stateNode;if(C.tag===5&&j!==null&&(C=j,A!==null&&(j=Pa(E,A),j!=null&&N.push(Fa(E,j,C)))),P)break;E=E.return}0<N.length&&(g=new w(g,k,null,n,h),p.push({event:g,listeners:N}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",g&&n!==cf&&(k=n.relatedTarget||n.fromElement)&&(Es(k)||k[er]))break e;if((w||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,w?(k=n.relatedTarget||n.toElement,w=d,k=k?Es(k):null,k!==null&&(P=Js(k),k!==P||k.tag!==5&&k.tag!==6)&&(k=null)):(w=null,k=d),w!==k)){if(N=iy,j="onMouseLeave",A="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(N=ay,j="onPointerLeave",A="onPointerEnter",E="pointer"),P=w==null?g:Ii(w),C=k==null?g:Ii(k),g=new N(j,E+"leave",w,n,h),g.target=P,g.relatedTarget=C,j=null,Es(h)===d&&(N=new N(A,E+"enter",k,n,h),N.target=C,N.relatedTarget=P,j=N),P=j,w&&k)t:{for(N=w,A=k,E=0,C=N;C;C=hi(C))E++;for(C=0,j=A;j;j=hi(j))C++;for(;0<E-C;)N=hi(N),E--;for(;0<C-E;)A=hi(A),C--;for(;E--;){if(N===A||A!==null&&N===A.alternate)break t;N=hi(N),A=hi(A)}N=null}else N=null;w!==null&&vy(p,g,w,N,!1),k!==null&&P!==null&&vy(p,P,k,N,!0)}}e:{if(g=d?Ii(d):window,w=g.nodeName&&g.nodeName.toLowerCase(),w==="select"||w==="input"&&g.type==="file")var U=HS;else if(uy(g))if(Tx)U=QS;else{U=GS;var L=WS}else(w=g.nodeName)&&w.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(U=KS);if(U&&(U=U(t,d))){Ex(p,U,n,h);break e}L&&L(t,g,d),t==="focusout"&&(L=g._wrapperState)&&L.controlled&&g.type==="number"&&rf(g,"number",g.value)}switch(L=d?Ii(d):window,t){case"focusin":(uy(L)||L.contentEditable==="true")&&(Ei=L,gf=d,fa=null);break;case"focusout":fa=gf=Ei=null;break;case"mousedown":yf=!0;break;case"contextmenu":case"mouseup":case"dragend":yf=!1,my(p,n,h);break;case"selectionchange":if(XS)break;case"keydown":case"keyup":my(p,n,h)}var v;if(lm)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else bi?wx(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(xx&&n.locale!=="ko"&&(bi||y!=="onCompositionStart"?y==="onCompositionEnd"&&bi&&(v=_x()):(Nr=h,im="value"in Nr?Nr.value:Nr.textContent,bi=!0)),L=Qc(d,y),0<L.length&&(y=new oy(y,t,null,n,h),p.push({event:y,listeners:L}),v?y.data=v:(v=bx(n),v!==null&&(y.data=v)))),(v=VS?$S(t,n):BS(t,n))&&(d=Qc(d,"onBeforeInput"),0<d.length&&(h=new oy("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:d}),h.data=v))}Ox(p,e)})}function Fa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Qc(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Pa(t,n),i!=null&&r.unshift(Fa(t,i,s)),i=Pa(t,e),i!=null&&r.push(Fa(t,i,s))),t=t.return}return r}function hi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function vy(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,d=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&d!==null&&(a=d,s?(l=Pa(n,i),l!=null&&o.unshift(Fa(n,l,a))):s||(l=Pa(n,i),l!=null&&o.push(Fa(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var nC=/\r\n?/g,rC=/\u0000|\uFFFD/g;function _y(t){return(typeof t=="string"?t:""+t).replace(nC,`
`).replace(rC,"")}function Xl(t,e,n){if(e=_y(e),_y(t)!==e&&n)throw Error(W(425))}function Yc(){}var vf=null,_f=null;function xf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wf=typeof setTimeout=="function"?setTimeout:void 0,sC=typeof clearTimeout=="function"?clearTimeout:void 0,xy=typeof Promise=="function"?Promise:void 0,iC=typeof queueMicrotask=="function"?queueMicrotask:typeof xy<"u"?function(t){return xy.resolve(null).then(t).catch(oC)}:wf;function oC(t){setTimeout(function(){throw t})}function ch(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Oa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Oa(e)}function zr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function wy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var go=Math.random().toString(36).slice(2),kn="__reactFiber$"+go,Ua="__reactProps$"+go,er="__reactContainer$"+go,bf="__reactEvents$"+go,aC="__reactListeners$"+go,lC="__reactHandles$"+go;function Es(t){var e=t[kn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[er]||n[kn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=wy(t);t!==null;){if(n=t[kn])return n;t=wy(t)}return e}t=n,n=t.parentNode}return null}function ll(t){return t=t[kn]||t[er],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ii(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function Bu(t){return t[Ua]||null}var Ef=[],Si=-1;function as(t){return{current:t}}function Re(t){0>Si||(t.current=Ef[Si],Ef[Si]=null,Si--)}function Ce(t,e){Si++,Ef[Si]=t.current,t.current=e}var Zr={},vt=as(Zr),Dt=as(!1),Ms=Zr;function Yi(t,e){var n=t.type.contextTypes;if(!n)return Zr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Lt(t){return t=t.childContextTypes,t!=null}function Jc(){Re(Dt),Re(vt)}function by(t,e,n){if(vt.current!==Zr)throw Error(W(168));Ce(vt,e),Ce(Dt,n)}function Lx(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(W(108,WI(t)||"Unknown",s));return Me({},n,r)}function Xc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zr,Ms=vt.current,Ce(vt,t),Ce(Dt,Dt.current),!0}function Ey(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=Lx(t,e,Ms),r.__reactInternalMemoizedMergedChildContext=t,Re(Dt),Re(vt),Ce(vt,t)):Re(Dt),Ce(Dt,n)}var Wn=null,zu=!1,uh=!1;function Mx(t){Wn===null?Wn=[t]:Wn.push(t)}function cC(t){zu=!0,Mx(t)}function ls(){if(!uh&&Wn!==null){uh=!0;var t=0,e=Ee;try{var n=Wn;for(Ee=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Wn=null,zu=!1}catch(s){throw Wn!==null&&(Wn=Wn.slice(t+1)),lx(tm,ls),s}finally{Ee=e,uh=!1}}return null}var Ci=[],ki=0,Zc=null,eu=0,en=[],tn=0,Fs=null,Gn=1,Kn="";function ys(t,e){Ci[ki++]=eu,Ci[ki++]=Zc,Zc=t,eu=e}function Fx(t,e,n){en[tn++]=Gn,en[tn++]=Kn,en[tn++]=Fs,Fs=t;var r=Gn;t=Kn;var s=32-xn(r)-1;r&=~(1<<s),n+=1;var i=32-xn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Gn=1<<32-xn(e)+s|n<<s|r,Kn=i+t}else Gn=1<<i|n<<s|r,Kn=t}function um(t){t.return!==null&&(ys(t,1),Fx(t,1,0))}function dm(t){for(;t===Zc;)Zc=Ci[--ki],Ci[ki]=null,eu=Ci[--ki],Ci[ki]=null;for(;t===Fs;)Fs=en[--tn],en[tn]=null,Kn=en[--tn],en[tn]=null,Gn=en[--tn],en[tn]=null}var Wt=null,qt=null,Ne=!1,vn=null;function Ux(t,e){var n=nn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ty(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Wt=t,qt=zr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Wt=t,qt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Fs!==null?{id:Gn,overflow:Kn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=nn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Wt=t,qt=null,!0):!1;default:return!1}}function Tf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function If(t){if(Ne){var e=qt;if(e){var n=e;if(!Ty(t,e)){if(Tf(t))throw Error(W(418));e=zr(n.nextSibling);var r=Wt;e&&Ty(t,e)?Ux(r,n):(t.flags=t.flags&-4097|2,Ne=!1,Wt=t)}}else{if(Tf(t))throw Error(W(418));t.flags=t.flags&-4097|2,Ne=!1,Wt=t}}}function Iy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wt=t}function Zl(t){if(t!==Wt)return!1;if(!Ne)return Iy(t),Ne=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!xf(t.type,t.memoizedProps)),e&&(e=qt)){if(Tf(t))throw Vx(),Error(W(418));for(;e;)Ux(t,e),e=zr(e.nextSibling)}if(Iy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){qt=zr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}qt=null}}else qt=Wt?zr(t.stateNode.nextSibling):null;return!0}function Vx(){for(var t=qt;t;)t=zr(t.nextSibling)}function Ji(){qt=Wt=null,Ne=!1}function hm(t){vn===null?vn=[t]:vn.push(t)}var uC=cr.ReactCurrentBatchConfig;function Wo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function ec(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Sy(t){var e=t._init;return e(t._payload)}function $x(t){function e(A,E){if(t){var C=A.deletions;C===null?(A.deletions=[E],A.flags|=16):C.push(E)}}function n(A,E){if(!t)return null;for(;E!==null;)e(A,E),E=E.sibling;return null}function r(A,E){for(A=new Map;E!==null;)E.key!==null?A.set(E.key,E):A.set(E.index,E),E=E.sibling;return A}function s(A,E){return A=Gr(A,E),A.index=0,A.sibling=null,A}function i(A,E,C){return A.index=C,t?(C=A.alternate,C!==null?(C=C.index,C<E?(A.flags|=2,E):C):(A.flags|=2,E)):(A.flags|=1048576,E)}function o(A){return t&&A.alternate===null&&(A.flags|=2),A}function a(A,E,C,j){return E===null||E.tag!==6?(E=yh(C,A.mode,j),E.return=A,E):(E=s(E,C),E.return=A,E)}function l(A,E,C,j){var U=C.type;return U===wi?h(A,E,C.props.children,j,C.key):E!==null&&(E.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===br&&Sy(U)===E.type)?(j=s(E,C.props),j.ref=Wo(A,E,C),j.return=A,j):(j=Rc(C.type,C.key,C.props,null,A.mode,j),j.ref=Wo(A,E,C),j.return=A,j)}function d(A,E,C,j){return E===null||E.tag!==4||E.stateNode.containerInfo!==C.containerInfo||E.stateNode.implementation!==C.implementation?(E=vh(C,A.mode,j),E.return=A,E):(E=s(E,C.children||[]),E.return=A,E)}function h(A,E,C,j,U){return E===null||E.tag!==7?(E=As(C,A.mode,j,U),E.return=A,E):(E=s(E,C),E.return=A,E)}function p(A,E,C){if(typeof E=="string"&&E!==""||typeof E=="number")return E=yh(""+E,A.mode,C),E.return=A,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case zl:return C=Rc(E.type,E.key,E.props,null,A.mode,C),C.ref=Wo(A,null,E),C.return=A,C;case xi:return E=vh(E,A.mode,C),E.return=A,E;case br:var j=E._init;return p(A,j(E._payload),C)}if(Zo(E)||$o(E))return E=As(E,A.mode,C,null),E.return=A,E;ec(A,E)}return null}function g(A,E,C,j){var U=E!==null?E.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return U!==null?null:a(A,E,""+C,j);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case zl:return C.key===U?l(A,E,C,j):null;case xi:return C.key===U?d(A,E,C,j):null;case br:return U=C._init,g(A,E,U(C._payload),j)}if(Zo(C)||$o(C))return U!==null?null:h(A,E,C,j,null);ec(A,C)}return null}function w(A,E,C,j,U){if(typeof j=="string"&&j!==""||typeof j=="number")return A=A.get(C)||null,a(E,A,""+j,U);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case zl:return A=A.get(j.key===null?C:j.key)||null,l(E,A,j,U);case xi:return A=A.get(j.key===null?C:j.key)||null,d(E,A,j,U);case br:var L=j._init;return w(A,E,C,L(j._payload),U)}if(Zo(j)||$o(j))return A=A.get(C)||null,h(E,A,j,U,null);ec(E,j)}return null}function k(A,E,C,j){for(var U=null,L=null,v=E,y=E=0,x=null;v!==null&&y<C.length;y++){v.index>y?(x=v,v=null):x=v.sibling;var R=g(A,v,C[y],j);if(R===null){v===null&&(v=x);break}t&&v&&R.alternate===null&&e(A,v),E=i(R,E,y),L===null?U=R:L.sibling=R,L=R,v=x}if(y===C.length)return n(A,v),Ne&&ys(A,y),U;if(v===null){for(;y<C.length;y++)v=p(A,C[y],j),v!==null&&(E=i(v,E,y),L===null?U=v:L.sibling=v,L=v);return Ne&&ys(A,y),U}for(v=r(A,v);y<C.length;y++)x=w(v,A,y,C[y],j),x!==null&&(t&&x.alternate!==null&&v.delete(x.key===null?y:x.key),E=i(x,E,y),L===null?U=x:L.sibling=x,L=x);return t&&v.forEach(function(b){return e(A,b)}),Ne&&ys(A,y),U}function N(A,E,C,j){var U=$o(C);if(typeof U!="function")throw Error(W(150));if(C=U.call(C),C==null)throw Error(W(151));for(var L=U=null,v=E,y=E=0,x=null,R=C.next();v!==null&&!R.done;y++,R=C.next()){v.index>y?(x=v,v=null):x=v.sibling;var b=g(A,v,R.value,j);if(b===null){v===null&&(v=x);break}t&&v&&b.alternate===null&&e(A,v),E=i(b,E,y),L===null?U=b:L.sibling=b,L=b,v=x}if(R.done)return n(A,v),Ne&&ys(A,y),U;if(v===null){for(;!R.done;y++,R=C.next())R=p(A,R.value,j),R!==null&&(E=i(R,E,y),L===null?U=R:L.sibling=R,L=R);return Ne&&ys(A,y),U}for(v=r(A,v);!R.done;y++,R=C.next())R=w(v,A,y,R.value,j),R!==null&&(t&&R.alternate!==null&&v.delete(R.key===null?y:R.key),E=i(R,E,y),L===null?U=R:L.sibling=R,L=R);return t&&v.forEach(function(I){return e(A,I)}),Ne&&ys(A,y),U}function P(A,E,C,j){if(typeof C=="object"&&C!==null&&C.type===wi&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case zl:e:{for(var U=C.key,L=E;L!==null;){if(L.key===U){if(U=C.type,U===wi){if(L.tag===7){n(A,L.sibling),E=s(L,C.props.children),E.return=A,A=E;break e}}else if(L.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===br&&Sy(U)===L.type){n(A,L.sibling),E=s(L,C.props),E.ref=Wo(A,L,C),E.return=A,A=E;break e}n(A,L);break}else e(A,L);L=L.sibling}C.type===wi?(E=As(C.props.children,A.mode,j,C.key),E.return=A,A=E):(j=Rc(C.type,C.key,C.props,null,A.mode,j),j.ref=Wo(A,E,C),j.return=A,A=j)}return o(A);case xi:e:{for(L=C.key;E!==null;){if(E.key===L)if(E.tag===4&&E.stateNode.containerInfo===C.containerInfo&&E.stateNode.implementation===C.implementation){n(A,E.sibling),E=s(E,C.children||[]),E.return=A,A=E;break e}else{n(A,E);break}else e(A,E);E=E.sibling}E=vh(C,A.mode,j),E.return=A,A=E}return o(A);case br:return L=C._init,P(A,E,L(C._payload),j)}if(Zo(C))return k(A,E,C,j);if($o(C))return N(A,E,C,j);ec(A,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,E!==null&&E.tag===6?(n(A,E.sibling),E=s(E,C),E.return=A,A=E):(n(A,E),E=yh(C,A.mode,j),E.return=A,A=E),o(A)):n(A,E)}return P}var Xi=$x(!0),Bx=$x(!1),tu=as(null),nu=null,Ai=null,fm=null;function pm(){fm=Ai=nu=null}function mm(t){var e=tu.current;Re(tu),t._currentValue=e}function Sf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ui(t,e){nu=t,fm=Ai=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ot=!0),t.firstContext=null)}function on(t){var e=t._currentValue;if(fm!==t)if(t={context:t,memoizedValue:e,next:null},Ai===null){if(nu===null)throw Error(W(308));Ai=t,nu.dependencies={lanes:0,firstContext:t}}else Ai=Ai.next=t;return e}var Ts=null;function gm(t){Ts===null?Ts=[t]:Ts.push(t)}function zx(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,gm(e)):(n.next=s.next,s.next=n),e.interleaved=n,tr(t,r)}function tr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Er=!1;function ym(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Xn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function qr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ge&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,tr(t,n)}return s=r.interleaved,s===null?(e.next=e,gm(r)):(e.next=s.next,s.next=e),r.interleaved=e,tr(t,n)}function Tc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,nm(t,n)}}function Cy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ru(t,e,n,r){var s=t.updateQueue;Er=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,d=l.next;l.next=null,o===null?i=d:o.next=d,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=d:a.next=d,h.lastBaseUpdate=l))}if(i!==null){var p=s.baseState;o=0,h=d=l=null,a=i;do{var g=a.lane,w=a.eventTime;if((r&g)===g){h!==null&&(h=h.next={eventTime:w,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var k=t,N=a;switch(g=e,w=n,N.tag){case 1:if(k=N.payload,typeof k=="function"){p=k.call(w,p,g);break e}p=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=N.payload,g=typeof k=="function"?k.call(w,p,g):k,g==null)break e;p=Me({},p,g);break e;case 2:Er=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[a]:g.push(a))}else w={eventTime:w,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(d=h=w,l=p):h=h.next=w,o|=g;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;g=a,a=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(h===null&&(l=p),s.baseState=l,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Vs|=o,t.lanes=o,t.memoizedState=p}}function ky(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(W(191,s));s.call(r)}}}var cl={},jn=as(cl),Va=as(cl),$a=as(cl);function Is(t){if(t===cl)throw Error(W(174));return t}function vm(t,e){switch(Ce($a,e),Ce(Va,t),Ce(jn,cl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:of(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=of(e,t)}Re(jn),Ce(jn,e)}function Zi(){Re(jn),Re(Va),Re($a)}function Hx(t){Is($a.current);var e=Is(jn.current),n=of(e,t.type);e!==n&&(Ce(Va,t),Ce(jn,n))}function _m(t){Va.current===t&&(Re(jn),Re(Va))}var De=as(0);function su(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var dh=[];function xm(){for(var t=0;t<dh.length;t++)dh[t]._workInProgressVersionPrimary=null;dh.length=0}var Ic=cr.ReactCurrentDispatcher,hh=cr.ReactCurrentBatchConfig,Us=0,Le=null,Ge=null,Xe=null,iu=!1,pa=!1,Ba=0,dC=0;function ht(){throw Error(W(321))}function wm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!En(t[n],e[n]))return!1;return!0}function bm(t,e,n,r,s,i){if(Us=i,Le=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ic.current=t===null||t.memoizedState===null?mC:gC,t=n(r,s),pa){i=0;do{if(pa=!1,Ba=0,25<=i)throw Error(W(301));i+=1,Xe=Ge=null,e.updateQueue=null,Ic.current=yC,t=n(r,s)}while(pa)}if(Ic.current=ou,e=Ge!==null&&Ge.next!==null,Us=0,Xe=Ge=Le=null,iu=!1,e)throw Error(W(300));return t}function Em(){var t=Ba!==0;return Ba=0,t}function Sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?Le.memoizedState=Xe=t:Xe=Xe.next=t,Xe}function an(){if(Ge===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=Ge.next;var e=Xe===null?Le.memoizedState:Xe.next;if(e!==null)Xe=e,Ge=t;else{if(t===null)throw Error(W(310));Ge=t,t={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},Xe===null?Le.memoizedState=Xe=t:Xe=Xe.next=t}return Xe}function za(t,e){return typeof e=="function"?e(t):e}function fh(t){var e=an(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=Ge,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,d=i;do{var h=d.lane;if((Us&h)===h)l!==null&&(l=l.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var p={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};l===null?(a=l=p,o=r):l=l.next=p,Le.lanes|=h,Vs|=h}d=d.next}while(d!==null&&d!==i);l===null?o=r:l.next=a,En(r,e.memoizedState)||(Ot=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Le.lanes|=i,Vs|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ph(t){var e=an(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);En(i,e.memoizedState)||(Ot=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Wx(){}function Gx(t,e){var n=Le,r=an(),s=e(),i=!En(r.memoizedState,s);if(i&&(r.memoizedState=s,Ot=!0),r=r.queue,Tm(Yx.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Xe!==null&&Xe.memoizedState.tag&1){if(n.flags|=2048,qa(9,Qx.bind(null,n,r,s,e),void 0,null),Ze===null)throw Error(W(349));Us&30||Kx(n,e,s)}return s}function Kx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Qx(t,e,n,r){e.value=n,e.getSnapshot=r,Jx(e)&&Xx(t)}function Yx(t,e,n){return n(function(){Jx(e)&&Xx(t)})}function Jx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!En(t,n)}catch{return!0}}function Xx(t){var e=tr(t,1);e!==null&&wn(e,t,1,-1)}function Ay(t){var e=Sn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:t},e.queue=t,t=t.dispatch=pC.bind(null,Le,t),[e.memoizedState,t]}function qa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Zx(){return an().memoizedState}function Sc(t,e,n,r){var s=Sn();Le.flags|=t,s.memoizedState=qa(1|e,n,void 0,r===void 0?null:r)}function qu(t,e,n,r){var s=an();r=r===void 0?null:r;var i=void 0;if(Ge!==null){var o=Ge.memoizedState;if(i=o.destroy,r!==null&&wm(r,o.deps)){s.memoizedState=qa(e,n,i,r);return}}Le.flags|=t,s.memoizedState=qa(1|e,n,i,r)}function Ry(t,e){return Sc(8390656,8,t,e)}function Tm(t,e){return qu(2048,8,t,e)}function ew(t,e){return qu(4,2,t,e)}function tw(t,e){return qu(4,4,t,e)}function nw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function rw(t,e,n){return n=n!=null?n.concat([t]):null,qu(4,4,nw.bind(null,e,t),n)}function Im(){}function sw(t,e){var n=an();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function iw(t,e){var n=an();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ow(t,e,n){return Us&21?(En(n,e)||(n=dx(),Le.lanes|=n,Vs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ot=!0),t.memoizedState=n)}function hC(t,e){var n=Ee;Ee=n!==0&&4>n?n:4,t(!0);var r=hh.transition;hh.transition={};try{t(!1),e()}finally{Ee=n,hh.transition=r}}function aw(){return an().memoizedState}function fC(t,e,n){var r=Wr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},lw(t))cw(e,n);else if(n=zx(t,e,n,r),n!==null){var s=St();wn(n,t,r,s),uw(n,e,r)}}function pC(t,e,n){var r=Wr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(lw(t))cw(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,En(a,o)){var l=e.interleaved;l===null?(s.next=s,gm(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=zx(t,e,s,r),n!==null&&(s=St(),wn(n,t,r,s),uw(n,e,r))}}function lw(t){var e=t.alternate;return t===Le||e!==null&&e===Le}function cw(t,e){pa=iu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function uw(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,nm(t,n)}}var ou={readContext:on,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useInsertionEffect:ht,useLayoutEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useMutableSource:ht,useSyncExternalStore:ht,useId:ht,unstable_isNewReconciler:!1},mC={readContext:on,useCallback:function(t,e){return Sn().memoizedState=[t,e===void 0?null:e],t},useContext:on,useEffect:Ry,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Sc(4194308,4,nw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Sc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Sc(4,2,t,e)},useMemo:function(t,e){var n=Sn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Sn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=fC.bind(null,Le,t),[r.memoizedState,t]},useRef:function(t){var e=Sn();return t={current:t},e.memoizedState=t},useState:Ay,useDebugValue:Im,useDeferredValue:function(t){return Sn().memoizedState=t},useTransition:function(){var t=Ay(!1),e=t[0];return t=hC.bind(null,t[1]),Sn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Le,s=Sn();if(Ne){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),Ze===null)throw Error(W(349));Us&30||Kx(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Ry(Yx.bind(null,r,i,t),[t]),r.flags|=2048,qa(9,Qx.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Sn(),e=Ze.identifierPrefix;if(Ne){var n=Kn,r=Gn;n=(r&~(1<<32-xn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ba++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=dC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},gC={readContext:on,useCallback:sw,useContext:on,useEffect:Tm,useImperativeHandle:rw,useInsertionEffect:ew,useLayoutEffect:tw,useMemo:iw,useReducer:fh,useRef:Zx,useState:function(){return fh(za)},useDebugValue:Im,useDeferredValue:function(t){var e=an();return ow(e,Ge.memoizedState,t)},useTransition:function(){var t=fh(za)[0],e=an().memoizedState;return[t,e]},useMutableSource:Wx,useSyncExternalStore:Gx,useId:aw,unstable_isNewReconciler:!1},yC={readContext:on,useCallback:sw,useContext:on,useEffect:Tm,useImperativeHandle:rw,useInsertionEffect:ew,useLayoutEffect:tw,useMemo:iw,useReducer:ph,useRef:Zx,useState:function(){return ph(za)},useDebugValue:Im,useDeferredValue:function(t){var e=an();return Ge===null?e.memoizedState=t:ow(e,Ge.memoizedState,t)},useTransition:function(){var t=ph(za)[0],e=an().memoizedState;return[t,e]},useMutableSource:Wx,useSyncExternalStore:Gx,useId:aw,unstable_isNewReconciler:!1};function mn(t,e){if(t&&t.defaultProps){e=Me({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Cf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Me({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Hu={isMounted:function(t){return(t=t._reactInternals)?Js(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=St(),s=Wr(t),i=Xn(r,s);i.payload=e,n!=null&&(i.callback=n),e=qr(t,i,s),e!==null&&(wn(e,t,s,r),Tc(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=St(),s=Wr(t),i=Xn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=qr(t,i,s),e!==null&&(wn(e,t,s,r),Tc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=St(),r=Wr(t),s=Xn(n,r);s.tag=2,e!=null&&(s.callback=e),e=qr(t,s,r),e!==null&&(wn(e,t,r,n),Tc(e,t,r))}};function Py(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!La(n,r)||!La(s,i):!0}function dw(t,e,n){var r=!1,s=Zr,i=e.contextType;return typeof i=="object"&&i!==null?i=on(i):(s=Lt(e)?Ms:vt.current,r=e.contextTypes,i=(r=r!=null)?Yi(t,s):Zr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Ny(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Hu.enqueueReplaceState(e,e.state,null)}function kf(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},ym(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=on(i):(i=Lt(e)?Ms:vt.current,s.context=Yi(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Cf(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Hu.enqueueReplaceState(s,s.state,null),ru(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function eo(t,e){try{var n="",r=e;do n+=HI(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function mh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Af(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var vC=typeof WeakMap=="function"?WeakMap:Map;function hw(t,e,n){n=Xn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){lu||(lu=!0,Uf=r),Af(t,e)},n}function fw(t,e,n){n=Xn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Af(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Af(t,e),typeof r!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function jy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new vC;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=NC.bind(null,t,e,n),e.then(t,t))}function Oy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Dy(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Xn(-1,1),e.tag=2,qr(n,e,1))),n.lanes|=1),t)}var _C=cr.ReactCurrentOwner,Ot=!1;function Et(t,e,n,r){e.child=t===null?Bx(e,null,n,r):Xi(e,t.child,n,r)}function Ly(t,e,n,r,s){n=n.render;var i=e.ref;return Ui(e,s),r=bm(t,e,n,r,i,s),n=Em(),t!==null&&!Ot?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,nr(t,e,s)):(Ne&&n&&um(e),e.flags|=1,Et(t,e,r,s),e.child)}function My(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!jm(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,pw(t,e,i,r,s)):(t=Rc(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:La,n(o,r)&&t.ref===e.ref)return nr(t,e,s)}return e.flags|=1,t=Gr(i,r),t.ref=e.ref,t.return=e,e.child=t}function pw(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(La(i,r)&&t.ref===e.ref)if(Ot=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ot=!0);else return e.lanes=t.lanes,nr(t,e,s)}return Rf(t,e,n,r,s)}function mw(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(Pi,zt),zt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ce(Pi,zt),zt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ce(Pi,zt),zt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ce(Pi,zt),zt|=r;return Et(t,e,s,n),e.child}function gw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Rf(t,e,n,r,s){var i=Lt(n)?Ms:vt.current;return i=Yi(e,i),Ui(e,s),n=bm(t,e,n,r,i,s),r=Em(),t!==null&&!Ot?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,nr(t,e,s)):(Ne&&r&&um(e),e.flags|=1,Et(t,e,n,s),e.child)}function Fy(t,e,n,r,s){if(Lt(n)){var i=!0;Xc(e)}else i=!1;if(Ui(e,s),e.stateNode===null)Cc(t,e),dw(e,n,r),kf(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=on(d):(d=Lt(n)?Ms:vt.current,d=Yi(e,d));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==d)&&Ny(e,o,r,d),Er=!1;var g=e.memoizedState;o.state=g,ru(e,r,o,s),l=e.memoizedState,a!==r||g!==l||Dt.current||Er?(typeof h=="function"&&(Cf(e,n,h,r),l=e.memoizedState),(a=Er||Py(e,n,a,r,g,l,d))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,qx(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:mn(e.type,a),o.props=d,p=e.pendingProps,g=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=on(l):(l=Lt(n)?Ms:vt.current,l=Yi(e,l));var w=n.getDerivedStateFromProps;(h=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||g!==l)&&Ny(e,o,r,l),Er=!1,g=e.memoizedState,o.state=g,ru(e,r,o,s);var k=e.memoizedState;a!==p||g!==k||Dt.current||Er?(typeof w=="function"&&(Cf(e,n,w,r),k=e.memoizedState),(d=Er||Py(e,n,d,r,g,k,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,k,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,k,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=k),o.props=r,o.state=k,o.context=l,r=d):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return Pf(t,e,n,r,i,s)}function Pf(t,e,n,r,s,i){gw(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Ey(e,n,!1),nr(t,e,i);r=e.stateNode,_C.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Xi(e,t.child,null,i),e.child=Xi(e,null,a,i)):Et(t,e,a,i),e.memoizedState=r.state,s&&Ey(e,n,!0),e.child}function yw(t){var e=t.stateNode;e.pendingContext?by(t,e.pendingContext,e.pendingContext!==e.context):e.context&&by(t,e.context,!1),vm(t,e.containerInfo)}function Uy(t,e,n,r,s){return Ji(),hm(s),e.flags|=256,Et(t,e,n,r),e.child}var Nf={dehydrated:null,treeContext:null,retryLane:0};function jf(t){return{baseLanes:t,cachePool:null,transitions:null}}function vw(t,e,n){var r=e.pendingProps,s=De.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ce(De,s&1),t===null)return If(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ku(o,r,0,null),t=As(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=jf(n),e.memoizedState=Nf,t):Sm(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return xC(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Gr(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Gr(a,i):(i=As(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?jf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Nf,r}return i=t.child,t=i.sibling,r=Gr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Sm(t,e){return e=Ku({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function tc(t,e,n,r){return r!==null&&hm(r),Xi(e,t.child,null,n),t=Sm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function xC(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=mh(Error(W(422))),tc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Ku({mode:"visible",children:r.children},s,0,null),i=As(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Xi(e,t.child,null,o),e.child.memoizedState=jf(o),e.memoizedState=Nf,i);if(!(e.mode&1))return tc(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(W(419)),r=mh(i,r,void 0),tc(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ot||a){if(r=Ze,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,tr(t,s),wn(r,t,s,-1))}return Nm(),r=mh(Error(W(421))),tc(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=jC.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,qt=zr(s.nextSibling),Wt=e,Ne=!0,vn=null,t!==null&&(en[tn++]=Gn,en[tn++]=Kn,en[tn++]=Fs,Gn=t.id,Kn=t.overflow,Fs=e),e=Sm(e,r.children),e.flags|=4096,e)}function Vy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Sf(t.return,e,n)}function gh(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function _w(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Et(t,e,r.children,n),r=De.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vy(t,n,e);else if(t.tag===19)Vy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ce(De,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&su(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),gh(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&su(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}gh(e,!0,n,null,i);break;case"together":gh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Cc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function nr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Vs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=Gr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Gr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function wC(t,e,n){switch(e.tag){case 3:yw(e),Ji();break;case 5:Hx(e);break;case 1:Lt(e.type)&&Xc(e);break;case 4:vm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ce(tu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ce(De,De.current&1),e.flags|=128,null):n&e.child.childLanes?vw(t,e,n):(Ce(De,De.current&1),t=nr(t,e,n),t!==null?t.sibling:null);Ce(De,De.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return _w(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ce(De,De.current),r)break;return null;case 22:case 23:return e.lanes=0,mw(t,e,n)}return nr(t,e,n)}var xw,Of,ww,bw;xw=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Of=function(){};ww=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Is(jn.current);var i=null;switch(n){case"input":s=tf(t,s),r=tf(t,r),i=[];break;case"select":s=Me({},s,{value:void 0}),r=Me({},r,{value:void 0}),i=[];break;case"textarea":s=sf(t,s),r=sf(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Yc)}af(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Aa.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var l=r[d];if(a=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&l!==a&&(l!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(d,n)),n=l;else d==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(d,l)):d==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(d,""+l):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Aa.hasOwnProperty(d)?(l!=null&&d==="onScroll"&&Ae("scroll",t),i||a===l||(i=[])):(i=i||[]).push(d,l))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};bw=function(t,e,n,r){n!==r&&(e.flags|=4)};function Go(t,e){if(!Ne)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function bC(t,e,n){var r=e.pendingProps;switch(dm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(e),null;case 1:return Lt(e.type)&&Jc(),ft(e),null;case 3:return r=e.stateNode,Zi(),Re(Dt),Re(vt),xm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Zl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,vn!==null&&(Bf(vn),vn=null))),Of(t,e),ft(e),null;case 5:_m(e);var s=Is($a.current);if(n=e.type,t!==null&&e.stateNode!=null)ww(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return ft(e),null}if(t=Is(jn.current),Zl(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[kn]=e,r[Ua]=i,t=(e.mode&1)!==0,n){case"dialog":Ae("cancel",r),Ae("close",r);break;case"iframe":case"object":case"embed":Ae("load",r);break;case"video":case"audio":for(s=0;s<ta.length;s++)Ae(ta[s],r);break;case"source":Ae("error",r);break;case"img":case"image":case"link":Ae("error",r),Ae("load",r);break;case"details":Ae("toggle",r);break;case"input":Q0(r,i),Ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ae("invalid",r);break;case"textarea":J0(r,i),Ae("invalid",r)}af(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Xl(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Xl(r.textContent,a,t),s=["children",""+a]):Aa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ae("scroll",r)}switch(n){case"input":ql(r),Y0(r,i,!0);break;case"textarea":ql(r),X0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Yc)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Y1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[kn]=e,t[Ua]=r,xw(t,e,!1,!1),e.stateNode=t;e:{switch(o=lf(n,r),n){case"dialog":Ae("cancel",t),Ae("close",t),s=r;break;case"iframe":case"object":case"embed":Ae("load",t),s=r;break;case"video":case"audio":for(s=0;s<ta.length;s++)Ae(ta[s],t);s=r;break;case"source":Ae("error",t),s=r;break;case"img":case"image":case"link":Ae("error",t),Ae("load",t),s=r;break;case"details":Ae("toggle",t),s=r;break;case"input":Q0(t,r),s=tf(t,r),Ae("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Me({},r,{value:void 0}),Ae("invalid",t);break;case"textarea":J0(t,r),s=sf(t,r),Ae("invalid",t);break;default:s=r}af(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Z1(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&J1(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ra(t,l):typeof l=="number"&&Ra(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Aa.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ae("scroll",t):l!=null&&Yp(t,i,l,o))}switch(n){case"input":ql(t),Y0(t,r,!1);break;case"textarea":ql(t),X0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Xr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Di(t,!!r.multiple,i,!1):r.defaultValue!=null&&Di(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Yc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ft(e),null;case 6:if(t&&e.stateNode!=null)bw(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=Is($a.current),Is(jn.current),Zl(e)){if(r=e.stateNode,n=e.memoizedProps,r[kn]=e,(i=r.nodeValue!==n)&&(t=Wt,t!==null))switch(t.tag){case 3:Xl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Xl(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[kn]=e,e.stateNode=r}return ft(e),null;case 13:if(Re(De),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ne&&qt!==null&&e.mode&1&&!(e.flags&128))Vx(),Ji(),e.flags|=98560,i=!1;else if(i=Zl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(W(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(W(317));i[kn]=e}else Ji(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ft(e),i=!1}else vn!==null&&(Bf(vn),vn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||De.current&1?Qe===0&&(Qe=3):Nm())),e.updateQueue!==null&&(e.flags|=4),ft(e),null);case 4:return Zi(),Of(t,e),t===null&&Ma(e.stateNode.containerInfo),ft(e),null;case 10:return mm(e.type._context),ft(e),null;case 17:return Lt(e.type)&&Jc(),ft(e),null;case 19:if(Re(De),i=e.memoizedState,i===null)return ft(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Go(i,!1);else{if(Qe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=su(t),o!==null){for(e.flags|=128,Go(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ce(De,De.current&1|2),e.child}t=t.sibling}i.tail!==null&&Be()>to&&(e.flags|=128,r=!0,Go(i,!1),e.lanes=4194304)}else{if(!r)if(t=su(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Go(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ne)return ft(e),null}else 2*Be()-i.renderingStartTime>to&&n!==1073741824&&(e.flags|=128,r=!0,Go(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Be(),e.sibling=null,n=De.current,Ce(De,r?n&1|2:n&1),e):(ft(e),null);case 22:case 23:return Pm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?zt&1073741824&&(ft(e),e.subtreeFlags&6&&(e.flags|=8192)):ft(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function EC(t,e){switch(dm(e),e.tag){case 1:return Lt(e.type)&&Jc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Zi(),Re(Dt),Re(vt),xm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return _m(e),null;case 13:if(Re(De),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));Ji()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Re(De),null;case 4:return Zi(),null;case 10:return mm(e.type._context),null;case 22:case 23:return Pm(),null;case 24:return null;default:return null}}var nc=!1,gt=!1,TC=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Ri(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ue(t,e,r)}else n.current=null}function Df(t,e,n){try{n()}catch(r){Ue(t,e,r)}}var $y=!1;function IC(t,e){if(vf=Gc,t=Cx(),cm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,d=0,h=0,p=t,g=null;t:for(;;){for(var w;p!==n||s!==0&&p.nodeType!==3||(a=o+s),p!==i||r!==0&&p.nodeType!==3||(l=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(w=p.firstChild)!==null;)g=p,p=w;for(;;){if(p===t)break t;if(g===n&&++d===s&&(a=o),g===i&&++h===r&&(l=o),(w=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=w}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(_f={focusedElem:t,selectionRange:n},Gc=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var k=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var N=k.memoizedProps,P=k.memoizedState,A=e.stateNode,E=A.getSnapshotBeforeUpdate(e.elementType===e.type?N:mn(e.type,N),P);A.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(j){Ue(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return k=$y,$y=!1,k}function ma(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Df(e,n,i)}s=s.next}while(s!==r)}}function Wu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Lf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Ew(t){var e=t.alternate;e!==null&&(t.alternate=null,Ew(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[kn],delete e[Ua],delete e[bf],delete e[aC],delete e[lC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Tw(t){return t.tag===5||t.tag===3||t.tag===4}function By(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Tw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Yc));else if(r!==4&&(t=t.child,t!==null))for(Mf(t,e,n),t=t.sibling;t!==null;)Mf(t,e,n),t=t.sibling}function Ff(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ff(t,e,n),t=t.sibling;t!==null;)Ff(t,e,n),t=t.sibling}var rt=null,gn=!1;function yr(t,e,n){for(n=n.child;n!==null;)Iw(t,e,n),n=n.sibling}function Iw(t,e,n){if(Nn&&typeof Nn.onCommitFiberUnmount=="function")try{Nn.onCommitFiberUnmount(Fu,n)}catch{}switch(n.tag){case 5:gt||Ri(n,e);case 6:var r=rt,s=gn;rt=null,yr(t,e,n),rt=r,gn=s,rt!==null&&(gn?(t=rt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):rt.removeChild(n.stateNode));break;case 18:rt!==null&&(gn?(t=rt,n=n.stateNode,t.nodeType===8?ch(t.parentNode,n):t.nodeType===1&&ch(t,n),Oa(t)):ch(rt,n.stateNode));break;case 4:r=rt,s=gn,rt=n.stateNode.containerInfo,gn=!0,yr(t,e,n),rt=r,gn=s;break;case 0:case 11:case 14:case 15:if(!gt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Df(n,e,o),s=s.next}while(s!==r)}yr(t,e,n);break;case 1:if(!gt&&(Ri(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ue(n,e,a)}yr(t,e,n);break;case 21:yr(t,e,n);break;case 22:n.mode&1?(gt=(r=gt)||n.memoizedState!==null,yr(t,e,n),gt=r):yr(t,e,n);break;default:yr(t,e,n)}}function zy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new TC),e.forEach(function(r){var s=OC.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function fn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:rt=a.stateNode,gn=!1;break e;case 3:rt=a.stateNode.containerInfo,gn=!0;break e;case 4:rt=a.stateNode.containerInfo,gn=!0;break e}a=a.return}if(rt===null)throw Error(W(160));Iw(i,o,s),rt=null,gn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(d){Ue(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Sw(e,t),e=e.sibling}function Sw(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(fn(e,t),In(t),r&4){try{ma(3,t,t.return),Wu(3,t)}catch(N){Ue(t,t.return,N)}try{ma(5,t,t.return)}catch(N){Ue(t,t.return,N)}}break;case 1:fn(e,t),In(t),r&512&&n!==null&&Ri(n,n.return);break;case 5:if(fn(e,t),In(t),r&512&&n!==null&&Ri(n,n.return),t.flags&32){var s=t.stateNode;try{Ra(s,"")}catch(N){Ue(t,t.return,N)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&K1(s,i),lf(a,o);var d=lf(a,i);for(o=0;o<l.length;o+=2){var h=l[o],p=l[o+1];h==="style"?Z1(s,p):h==="dangerouslySetInnerHTML"?J1(s,p):h==="children"?Ra(s,p):Yp(s,h,p,d)}switch(a){case"input":nf(s,i);break;case"textarea":Q1(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var w=i.value;w!=null?Di(s,!!i.multiple,w,!1):g!==!!i.multiple&&(i.defaultValue!=null?Di(s,!!i.multiple,i.defaultValue,!0):Di(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ua]=i}catch(N){Ue(t,t.return,N)}}break;case 6:if(fn(e,t),In(t),r&4){if(t.stateNode===null)throw Error(W(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(N){Ue(t,t.return,N)}}break;case 3:if(fn(e,t),In(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Oa(e.containerInfo)}catch(N){Ue(t,t.return,N)}break;case 4:fn(e,t),In(t);break;case 13:fn(e,t),In(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Am=Be())),r&4&&zy(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(gt=(d=gt)||h,fn(e,t),gt=d):fn(e,t),In(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(Y=t,h=t.child;h!==null;){for(p=Y=h;Y!==null;){switch(g=Y,w=g.child,g.tag){case 0:case 11:case 14:case 15:ma(4,g,g.return);break;case 1:Ri(g,g.return);var k=g.stateNode;if(typeof k.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,k.props=e.memoizedProps,k.state=e.memoizedState,k.componentWillUnmount()}catch(N){Ue(r,n,N)}}break;case 5:Ri(g,g.return);break;case 22:if(g.memoizedState!==null){Hy(p);continue}}w!==null?(w.return=g,Y=w):Hy(p)}h=h.sibling}e:for(h=null,p=t;;){if(p.tag===5){if(h===null){h=p;try{s=p.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=X1("display",o))}catch(N){Ue(t,t.return,N)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(N){Ue(t,t.return,N)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:fn(e,t),In(t),r&4&&zy(t);break;case 21:break;default:fn(e,t),In(t)}}function In(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Tw(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ra(s,""),r.flags&=-33);var i=By(t);Ff(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=By(t);Mf(t,a,o);break;default:throw Error(W(161))}}catch(l){Ue(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function SC(t,e,n){Y=t,Cw(t)}function Cw(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var s=Y,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||nc;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||gt;a=nc;var d=gt;if(nc=o,(gt=l)&&!d)for(Y=s;Y!==null;)o=Y,l=o.child,o.tag===22&&o.memoizedState!==null?Wy(s):l!==null?(l.return=o,Y=l):Wy(s);for(;i!==null;)Y=i,Cw(i),i=i.sibling;Y=s,nc=a,gt=d}qy(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Y=i):qy(t)}}function qy(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:gt||Wu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!gt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:mn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&ky(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ky(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&Oa(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}gt||e.flags&512&&Lf(e)}catch(g){Ue(e,e.return,g)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function Hy(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function Wy(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Wu(4,e)}catch(l){Ue(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Ue(e,s,l)}}var i=e.return;try{Lf(e)}catch(l){Ue(e,i,l)}break;case 5:var o=e.return;try{Lf(e)}catch(l){Ue(e,o,l)}}}catch(l){Ue(e,e.return,l)}if(e===t){Y=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Y=a;break}Y=e.return}}var CC=Math.ceil,au=cr.ReactCurrentDispatcher,Cm=cr.ReactCurrentOwner,rn=cr.ReactCurrentBatchConfig,ge=0,Ze=null,He=null,it=0,zt=0,Pi=as(0),Qe=0,Ha=null,Vs=0,Gu=0,km=0,ga=null,Pt=null,Am=0,to=1/0,Hn=null,lu=!1,Uf=null,Hr=null,rc=!1,jr=null,cu=0,ya=0,Vf=null,kc=-1,Ac=0;function St(){return ge&6?Be():kc!==-1?kc:kc=Be()}function Wr(t){return t.mode&1?ge&2&&it!==0?it&-it:uC.transition!==null?(Ac===0&&(Ac=dx()),Ac):(t=Ee,t!==0||(t=window.event,t=t===void 0?16:vx(t.type)),t):1}function wn(t,e,n,r){if(50<ya)throw ya=0,Vf=null,Error(W(185));ol(t,n,r),(!(ge&2)||t!==Ze)&&(t===Ze&&(!(ge&2)&&(Gu|=n),Qe===4&&Sr(t,it)),Mt(t,r),n===1&&ge===0&&!(e.mode&1)&&(to=Be()+500,zu&&ls()))}function Mt(t,e){var n=t.callbackNode;uS(t,e);var r=Wc(t,t===Ze?it:0);if(r===0)n!==null&&ty(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ty(n),e===1)t.tag===0?cC(Gy.bind(null,t)):Mx(Gy.bind(null,t)),iC(function(){!(ge&6)&&ls()}),n=null;else{switch(hx(r)){case 1:n=tm;break;case 4:n=cx;break;case 16:n=Hc;break;case 536870912:n=ux;break;default:n=Hc}n=Dw(n,kw.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function kw(t,e){if(kc=-1,Ac=0,ge&6)throw Error(W(327));var n=t.callbackNode;if(Vi()&&t.callbackNode!==n)return null;var r=Wc(t,t===Ze?it:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=uu(t,r);else{e=r;var s=ge;ge|=2;var i=Rw();(Ze!==t||it!==e)&&(Hn=null,to=Be()+500,ks(t,e));do try{RC();break}catch(a){Aw(t,a)}while(!0);pm(),au.current=i,ge=s,He!==null?e=0:(Ze=null,it=0,e=Qe)}if(e!==0){if(e===2&&(s=ff(t),s!==0&&(r=s,e=$f(t,s))),e===1)throw n=Ha,ks(t,0),Sr(t,r),Mt(t,Be()),n;if(e===6)Sr(t,r);else{if(s=t.current.alternate,!(r&30)&&!kC(s)&&(e=uu(t,r),e===2&&(i=ff(t),i!==0&&(r=i,e=$f(t,i))),e===1))throw n=Ha,ks(t,0),Sr(t,r),Mt(t,Be()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:vs(t,Pt,Hn);break;case 3:if(Sr(t,r),(r&130023424)===r&&(e=Am+500-Be(),10<e)){if(Wc(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){St(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=wf(vs.bind(null,t,Pt,Hn),e);break}vs(t,Pt,Hn);break;case 4:if(Sr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-xn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Be()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*CC(r/1960))-r,10<r){t.timeoutHandle=wf(vs.bind(null,t,Pt,Hn),r);break}vs(t,Pt,Hn);break;case 5:vs(t,Pt,Hn);break;default:throw Error(W(329))}}}return Mt(t,Be()),t.callbackNode===n?kw.bind(null,t):null}function $f(t,e){var n=ga;return t.current.memoizedState.isDehydrated&&(ks(t,e).flags|=256),t=uu(t,e),t!==2&&(e=Pt,Pt=n,e!==null&&Bf(e)),t}function Bf(t){Pt===null?Pt=t:Pt.push.apply(Pt,t)}function kC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!En(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Sr(t,e){for(e&=~km,e&=~Gu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-xn(e),r=1<<n;t[n]=-1,e&=~r}}function Gy(t){if(ge&6)throw Error(W(327));Vi();var e=Wc(t,0);if(!(e&1))return Mt(t,Be()),null;var n=uu(t,e);if(t.tag!==0&&n===2){var r=ff(t);r!==0&&(e=r,n=$f(t,r))}if(n===1)throw n=Ha,ks(t,0),Sr(t,e),Mt(t,Be()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,vs(t,Pt,Hn),Mt(t,Be()),null}function Rm(t,e){var n=ge;ge|=1;try{return t(e)}finally{ge=n,ge===0&&(to=Be()+500,zu&&ls())}}function $s(t){jr!==null&&jr.tag===0&&!(ge&6)&&Vi();var e=ge;ge|=1;var n=rn.transition,r=Ee;try{if(rn.transition=null,Ee=1,t)return t()}finally{Ee=r,rn.transition=n,ge=e,!(ge&6)&&ls()}}function Pm(){zt=Pi.current,Re(Pi)}function ks(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,sC(n)),He!==null)for(n=He.return;n!==null;){var r=n;switch(dm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Jc();break;case 3:Zi(),Re(Dt),Re(vt),xm();break;case 5:_m(r);break;case 4:Zi();break;case 13:Re(De);break;case 19:Re(De);break;case 10:mm(r.type._context);break;case 22:case 23:Pm()}n=n.return}if(Ze=t,He=t=Gr(t.current,null),it=zt=e,Qe=0,Ha=null,km=Gu=Vs=0,Pt=ga=null,Ts!==null){for(e=0;e<Ts.length;e++)if(n=Ts[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Ts=null}return t}function Aw(t,e){do{var n=He;try{if(pm(),Ic.current=ou,iu){for(var r=Le.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}iu=!1}if(Us=0,Xe=Ge=Le=null,pa=!1,Ba=0,Cm.current=null,n===null||n.return===null){Qe=1,Ha=e,He=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=it,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=l,h=a,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var w=Oy(o);if(w!==null){w.flags&=-257,Dy(w,o,a,i,e),w.mode&1&&jy(i,d,e),e=w,l=d;var k=e.updateQueue;if(k===null){var N=new Set;N.add(l),e.updateQueue=N}else k.add(l);break e}else{if(!(e&1)){jy(i,d,e),Nm();break e}l=Error(W(426))}}else if(Ne&&a.mode&1){var P=Oy(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),Dy(P,o,a,i,e),hm(eo(l,a));break e}}i=l=eo(l,a),Qe!==4&&(Qe=2),ga===null?ga=[i]:ga.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var A=hw(i,l,e);Cy(i,A);break e;case 1:a=l;var E=i.type,C=i.stateNode;if(!(i.flags&128)&&(typeof E.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Hr===null||!Hr.has(C)))){i.flags|=65536,e&=-e,i.lanes|=e;var j=fw(i,a,e);Cy(i,j);break e}}i=i.return}while(i!==null)}Nw(n)}catch(U){e=U,He===n&&n!==null&&(He=n=n.return);continue}break}while(!0)}function Rw(){var t=au.current;return au.current=ou,t===null?ou:t}function Nm(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),Ze===null||!(Vs&268435455)&&!(Gu&268435455)||Sr(Ze,it)}function uu(t,e){var n=ge;ge|=2;var r=Rw();(Ze!==t||it!==e)&&(Hn=null,ks(t,e));do try{AC();break}catch(s){Aw(t,s)}while(!0);if(pm(),ge=n,au.current=r,He!==null)throw Error(W(261));return Ze=null,it=0,Qe}function AC(){for(;He!==null;)Pw(He)}function RC(){for(;He!==null&&!tS();)Pw(He)}function Pw(t){var e=Ow(t.alternate,t,zt);t.memoizedProps=t.pendingProps,e===null?Nw(t):He=e,Cm.current=null}function Nw(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=EC(n,e),n!==null){n.flags&=32767,He=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qe=6,He=null;return}}else if(n=bC(n,e,zt),n!==null){He=n;return}if(e=e.sibling,e!==null){He=e;return}He=e=t}while(e!==null);Qe===0&&(Qe=5)}function vs(t,e,n){var r=Ee,s=rn.transition;try{rn.transition=null,Ee=1,PC(t,e,n,r)}finally{rn.transition=s,Ee=r}return null}function PC(t,e,n,r){do Vi();while(jr!==null);if(ge&6)throw Error(W(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(dS(t,i),t===Ze&&(He=Ze=null,it=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||rc||(rc=!0,Dw(Hc,function(){return Vi(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=rn.transition,rn.transition=null;var o=Ee;Ee=1;var a=ge;ge|=4,Cm.current=null,IC(t,n),Sw(n,t),JS(_f),Gc=!!vf,_f=vf=null,t.current=n,SC(n),nS(),ge=a,Ee=o,rn.transition=i}else t.current=n;if(rc&&(rc=!1,jr=t,cu=s),i=t.pendingLanes,i===0&&(Hr=null),iS(n.stateNode),Mt(t,Be()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(lu)throw lu=!1,t=Uf,Uf=null,t;return cu&1&&t.tag!==0&&Vi(),i=t.pendingLanes,i&1?t===Vf?ya++:(ya=0,Vf=t):ya=0,ls(),null}function Vi(){if(jr!==null){var t=hx(cu),e=rn.transition,n=Ee;try{if(rn.transition=null,Ee=16>t?16:t,jr===null)var r=!1;else{if(t=jr,jr=null,cu=0,ge&6)throw Error(W(331));var s=ge;for(ge|=4,Y=t.current;Y!==null;){var i=Y,o=i.child;if(Y.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var d=a[l];for(Y=d;Y!==null;){var h=Y;switch(h.tag){case 0:case 11:case 15:ma(8,h,i)}var p=h.child;if(p!==null)p.return=h,Y=p;else for(;Y!==null;){h=Y;var g=h.sibling,w=h.return;if(Ew(h),h===d){Y=null;break}if(g!==null){g.return=w,Y=g;break}Y=w}}}var k=i.alternate;if(k!==null){var N=k.child;if(N!==null){k.child=null;do{var P=N.sibling;N.sibling=null,N=P}while(N!==null)}}Y=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Y=o;else e:for(;Y!==null;){if(i=Y,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ma(9,i,i.return)}var A=i.sibling;if(A!==null){A.return=i.return,Y=A;break e}Y=i.return}}var E=t.current;for(Y=E;Y!==null;){o=Y;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,Y=C;else e:for(o=E;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Wu(9,a)}}catch(U){Ue(a,a.return,U)}if(a===o){Y=null;break e}var j=a.sibling;if(j!==null){j.return=a.return,Y=j;break e}Y=a.return}}if(ge=s,ls(),Nn&&typeof Nn.onPostCommitFiberRoot=="function")try{Nn.onPostCommitFiberRoot(Fu,t)}catch{}r=!0}return r}finally{Ee=n,rn.transition=e}}return!1}function Ky(t,e,n){e=eo(n,e),e=hw(t,e,1),t=qr(t,e,1),e=St(),t!==null&&(ol(t,1,e),Mt(t,e))}function Ue(t,e,n){if(t.tag===3)Ky(t,t,n);else for(;e!==null;){if(e.tag===3){Ky(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Hr===null||!Hr.has(r))){t=eo(n,t),t=fw(e,t,1),e=qr(e,t,1),t=St(),e!==null&&(ol(e,1,t),Mt(e,t));break}}e=e.return}}function NC(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=St(),t.pingedLanes|=t.suspendedLanes&n,Ze===t&&(it&n)===n&&(Qe===4||Qe===3&&(it&130023424)===it&&500>Be()-Am?ks(t,0):km|=n),Mt(t,e)}function jw(t,e){e===0&&(t.mode&1?(e=Gl,Gl<<=1,!(Gl&130023424)&&(Gl=4194304)):e=1);var n=St();t=tr(t,e),t!==null&&(ol(t,e,n),Mt(t,n))}function jC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),jw(t,n)}function OC(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),jw(t,n)}var Ow;Ow=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Dt.current)Ot=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ot=!1,wC(t,e,n);Ot=!!(t.flags&131072)}else Ot=!1,Ne&&e.flags&1048576&&Fx(e,eu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Cc(t,e),t=e.pendingProps;var s=Yi(e,vt.current);Ui(e,n),s=bm(null,e,r,t,s,n);var i=Em();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Lt(r)?(i=!0,Xc(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ym(e),s.updater=Hu,e.stateNode=s,s._reactInternals=e,kf(e,r,t,n),e=Pf(null,e,r,!0,i,n)):(e.tag=0,Ne&&i&&um(e),Et(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Cc(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=LC(r),t=mn(r,t),s){case 0:e=Rf(null,e,r,t,n);break e;case 1:e=Fy(null,e,r,t,n);break e;case 11:e=Ly(null,e,r,t,n);break e;case 14:e=My(null,e,r,mn(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:mn(r,s),Rf(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:mn(r,s),Fy(t,e,r,s,n);case 3:e:{if(yw(e),t===null)throw Error(W(387));r=e.pendingProps,i=e.memoizedState,s=i.element,qx(t,e),ru(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=eo(Error(W(423)),e),e=Uy(t,e,r,n,s);break e}else if(r!==s){s=eo(Error(W(424)),e),e=Uy(t,e,r,n,s);break e}else for(qt=zr(e.stateNode.containerInfo.firstChild),Wt=e,Ne=!0,vn=null,n=Bx(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ji(),r===s){e=nr(t,e,n);break e}Et(t,e,r,n)}e=e.child}return e;case 5:return Hx(e),t===null&&If(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,xf(r,s)?o=null:i!==null&&xf(r,i)&&(e.flags|=32),gw(t,e),Et(t,e,o,n),e.child;case 6:return t===null&&If(e),null;case 13:return vw(t,e,n);case 4:return vm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Xi(e,null,r,n):Et(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:mn(r,s),Ly(t,e,r,s,n);case 7:return Et(t,e,e.pendingProps,n),e.child;case 8:return Et(t,e,e.pendingProps.children,n),e.child;case 12:return Et(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ce(tu,r._currentValue),r._currentValue=o,i!==null)if(En(i.value,o)){if(i.children===s.children&&!Dt.current){e=nr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Xn(-1,n&-n),l.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?l.next=l:(l.next=h.next,h.next=l),d.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Sf(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Sf(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Et(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ui(e,n),s=on(s),r=r(s),e.flags|=1,Et(t,e,r,n),e.child;case 14:return r=e.type,s=mn(r,e.pendingProps),s=mn(r.type,s),My(t,e,r,s,n);case 15:return pw(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:mn(r,s),Cc(t,e),e.tag=1,Lt(r)?(t=!0,Xc(e)):t=!1,Ui(e,n),dw(e,r,s),kf(e,r,s,n),Pf(null,e,r,!0,t,n);case 19:return _w(t,e,n);case 22:return mw(t,e,n)}throw Error(W(156,e.tag))};function Dw(t,e){return lx(t,e)}function DC(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(t,e,n,r){return new DC(t,e,n,r)}function jm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function LC(t){if(typeof t=="function")return jm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Xp)return 11;if(t===Zp)return 14}return 2}function Gr(t,e){var n=t.alternate;return n===null?(n=nn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Rc(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")jm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case wi:return As(n.children,s,i,e);case Jp:o=8,s|=8;break;case Jh:return t=nn(12,n,e,s|2),t.elementType=Jh,t.lanes=i,t;case Xh:return t=nn(13,n,e,s),t.elementType=Xh,t.lanes=i,t;case Zh:return t=nn(19,n,e,s),t.elementType=Zh,t.lanes=i,t;case H1:return Ku(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case z1:o=10;break e;case q1:o=9;break e;case Xp:o=11;break e;case Zp:o=14;break e;case br:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=nn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function As(t,e,n,r){return t=nn(7,t,r,e),t.lanes=n,t}function Ku(t,e,n,r){return t=nn(22,t,r,e),t.elementType=H1,t.lanes=n,t.stateNode={isHidden:!1},t}function yh(t,e,n){return t=nn(6,t,null,e),t.lanes=n,t}function vh(t,e,n){return e=nn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function MC(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xd(0),this.expirationTimes=Xd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xd(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Om(t,e,n,r,s,i,o,a,l){return t=new MC(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=nn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ym(i),t}function FC(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Lw(t){if(!t)return Zr;t=t._reactInternals;e:{if(Js(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Lt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(Lt(n))return Lx(t,n,e)}return e}function Mw(t,e,n,r,s,i,o,a,l){return t=Om(n,r,!0,t,s,i,o,a,l),t.context=Lw(null),n=t.current,r=St(),s=Wr(n),i=Xn(r,s),i.callback=e??null,qr(n,i,s),t.current.lanes=s,ol(t,s,r),Mt(t,r),t}function Qu(t,e,n,r){var s=e.current,i=St(),o=Wr(s);return n=Lw(n),e.context===null?e.context=n:e.pendingContext=n,e=Xn(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=qr(s,e,o),t!==null&&(wn(t,s,o,i),Tc(t,s,o)),o}function du(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Qy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Dm(t,e){Qy(t,e),(t=t.alternate)&&Qy(t,e)}function UC(){return null}var Fw=typeof reportError=="function"?reportError:function(t){console.error(t)};function Lm(t){this._internalRoot=t}Yu.prototype.render=Lm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));Qu(t,e,null,null)};Yu.prototype.unmount=Lm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;$s(function(){Qu(null,t,null,null)}),e[er]=null}};function Yu(t){this._internalRoot=t}Yu.prototype.unstable_scheduleHydration=function(t){if(t){var e=mx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ir.length&&e!==0&&e<Ir[n].priority;n++);Ir.splice(n,0,t),n===0&&yx(t)}};function Mm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ju(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Yy(){}function VC(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=du(o);i.call(d)}}var o=Mw(e,r,t,0,null,!1,!1,"",Yy);return t._reactRootContainer=o,t[er]=o.current,Ma(t.nodeType===8?t.parentNode:t),$s(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var d=du(l);a.call(d)}}var l=Om(t,0,!1,null,null,!1,!1,"",Yy);return t._reactRootContainer=l,t[er]=l.current,Ma(t.nodeType===8?t.parentNode:t),$s(function(){Qu(e,l,n,r)}),l}function Xu(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=du(o);a.call(l)}}Qu(e,o,t,s)}else o=VC(n,e,t,s,r);return du(o)}fx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ea(e.pendingLanes);n!==0&&(nm(e,n|1),Mt(e,Be()),!(ge&6)&&(to=Be()+500,ls()))}break;case 13:$s(function(){var r=tr(t,1);if(r!==null){var s=St();wn(r,t,1,s)}}),Dm(t,1)}};rm=function(t){if(t.tag===13){var e=tr(t,134217728);if(e!==null){var n=St();wn(e,t,134217728,n)}Dm(t,134217728)}};px=function(t){if(t.tag===13){var e=Wr(t),n=tr(t,e);if(n!==null){var r=St();wn(n,t,e,r)}Dm(t,e)}};mx=function(){return Ee};gx=function(t,e){var n=Ee;try{return Ee=t,e()}finally{Ee=n}};uf=function(t,e,n){switch(e){case"input":if(nf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Bu(r);if(!s)throw Error(W(90));G1(r),nf(r,s)}}}break;case"textarea":Q1(t,n);break;case"select":e=n.value,e!=null&&Di(t,!!n.multiple,e,!1)}};nx=Rm;rx=$s;var $C={usingClientEntryPoint:!1,Events:[ll,Ii,Bu,ex,tx,Rm]},Ko={findFiberByHostInstance:Es,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BC={bundleType:Ko.bundleType,version:Ko.version,rendererPackageName:Ko.rendererPackageName,rendererConfig:Ko.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ox(t),t===null?null:t.stateNode},findFiberByHostInstance:Ko.findFiberByHostInstance||UC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sc.isDisabled&&sc.supportsFiber)try{Fu=sc.inject(BC),Nn=sc}catch{}}Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$C;Jt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mm(e))throw Error(W(200));return FC(t,e,null,n)};Jt.createRoot=function(t,e){if(!Mm(t))throw Error(W(299));var n=!1,r="",s=Fw;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Om(t,1,!1,null,null,n,!1,r,s),t[er]=e.current,Ma(t.nodeType===8?t.parentNode:t),new Lm(e)};Jt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=ox(e),t=t===null?null:t.stateNode,t};Jt.flushSync=function(t){return $s(t)};Jt.hydrate=function(t,e,n){if(!Ju(e))throw Error(W(200));return Xu(null,t,e,!0,n)};Jt.hydrateRoot=function(t,e,n){if(!Mm(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Fw;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Mw(e,null,t,1,n??null,s,!1,i,o),t[er]=e.current,Ma(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Yu(e)};Jt.render=function(t,e,n){if(!Ju(e))throw Error(W(200));return Xu(null,t,e,!1,n)};Jt.unmountComponentAtNode=function(t){if(!Ju(t))throw Error(W(40));return t._reactRootContainer?($s(function(){Xu(null,null,t,!1,function(){t._reactRootContainer=null,t[er]=null})}),!0):!1};Jt.unstable_batchedUpdates=Rm;Jt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ju(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return Xu(t,e,n,!1,r)};Jt.version="18.3.1-next-f1338f8080-20240426";function Uw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Uw)}catch(t){console.error(t)}}Uw(),U1.exports=Jt;var zC=U1.exports,Vw,Jy=zC;Vw=Jy.createRoot,Jy.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wa(){return Wa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wa.apply(this,arguments)}var Or;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Or||(Or={}));const Xy="popstate";function qC(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return zf("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:hu(s)}return WC(e,n,null,t)}function We(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $w(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HC(){return Math.random().toString(36).substr(2,8)}function Zy(t,e){return{usr:t.state,key:t.key,idx:e}}function zf(t,e,n,r){return n===void 0&&(n=null),Wa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?yo(e):e,{state:n,key:e&&e.key||r||HC()})}function hu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function yo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function WC(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Or.Pop,l=null,d=h();d==null&&(d=0,o.replaceState(Wa({},o.state,{idx:d}),""));function h(){return(o.state||{idx:null}).idx}function p(){a=Or.Pop;let P=h(),A=P==null?null:P-d;d=P,l&&l({action:a,location:N.location,delta:A})}function g(P,A){a=Or.Push;let E=zf(N.location,P,A);d=h()+1;let C=Zy(E,d),j=N.createHref(E);try{o.pushState(C,"",j)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;s.location.assign(j)}i&&l&&l({action:a,location:N.location,delta:1})}function w(P,A){a=Or.Replace;let E=zf(N.location,P,A);d=h();let C=Zy(E,d),j=N.createHref(E);o.replaceState(C,"",j),i&&l&&l({action:a,location:N.location,delta:0})}function k(P){let A=s.location.origin!=="null"?s.location.origin:s.location.href,E=typeof P=="string"?P:hu(P);return E=E.replace(/ $/,"%20"),We(A,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,A)}let N={get action(){return a},get location(){return t(s,o)},listen(P){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Xy,p),l=P,()=>{s.removeEventListener(Xy,p),l=null}},createHref(P){return e(s,P)},createURL:k,encodeLocation(P){let A=k(P);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:g,replace:w,go(P){return o.go(P)}};return N}var ev;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ev||(ev={}));function GC(t,e,n){return n===void 0&&(n="/"),KC(t,e,n,!1)}function KC(t,e,n,r){let s=typeof e=="string"?yo(e):e,i=Fm(s.pathname||"/",n);if(i==null)return null;let o=Bw(t);QC(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let d=ok(i);a=sk(o[l],d,r)}return a}function Bw(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(We(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let d=Kr([r,l.relativePath]),h=n.concat(l);i.children&&i.children.length>0&&(We(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Bw(i.children,e,h,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:nk(d,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of zw(i.path))s(i,o,l)}),e}function zw(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=zw(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function QC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:rk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const YC=/^:[\w-]+$/,JC=3,XC=2,ZC=1,ek=10,tk=-2,tv=t=>t==="*";function nk(t,e){let n=t.split("/"),r=n.length;return n.some(tv)&&(r+=tk),e&&(r+=XC),n.filter(s=>!tv(s)).reduce((s,i)=>s+(YC.test(i)?JC:i===""?ZC:ek),r)}function rk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function sk(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],d=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",p=nv({path:l.relativePath,caseSensitive:l.caseSensitive,end:d},h),g=l.route;if(!p&&d&&n&&!r[r.length-1].route.index&&(p=nv({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:Kr([i,p.pathname]),pathnameBase:uk(Kr([i,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(i=Kr([i,p.pathnameBase]))}return o}function nv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=ik(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((d,h,p)=>{let{paramName:g,isOptional:w}=h;if(g==="*"){let N=a[p]||"";o=i.slice(0,i.length-N.length).replace(/(.)\/+$/,"$1")}const k=a[p];return w&&!k?d[g]=void 0:d[g]=(k||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function ik(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),$w(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function ok(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $w(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Fm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function ak(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?yo(t):t;return{pathname:n?n.startsWith("/")?n:lk(n,e):e,search:dk(r),hash:hk(s)}}function lk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function _h(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ck(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function qw(t,e){let n=ck(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Hw(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=yo(t):(s=Wa({},t),We(!s.pathname||!s.pathname.includes("?"),_h("?","pathname","search",s)),We(!s.pathname||!s.pathname.includes("#"),_h("#","pathname","hash",s)),We(!s.search||!s.search.includes("#"),_h("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;s.pathname=g.join("/")}a=p>=0?e[p]:"/"}let l=ak(s,a),d=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(d||h)&&(l.pathname+="/"),l}const Kr=t=>t.join("/").replace(/\/\/+/g,"/"),uk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),dk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,hk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function fk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Ww=["post","put","patch","delete"];new Set(Ww);const pk=["get",...Ww];new Set(pk);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ga(){return Ga=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ga.apply(this,arguments)}const Um=O.createContext(null),mk=O.createContext(null),Xs=O.createContext(null),Zu=O.createContext(null),Zs=O.createContext({outlet:null,matches:[],isDataRoute:!1}),Gw=O.createContext(null);function gk(t,e){let{relative:n}=e===void 0?{}:e;ul()||We(!1);let{basename:r,navigator:s}=O.useContext(Xs),{hash:i,pathname:o,search:a}=Qw(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Kr([r,o])),s.createHref({pathname:l,search:a,hash:i})}function ul(){return O.useContext(Zu)!=null}function ed(){return ul()||We(!1),O.useContext(Zu).location}function Kw(t){O.useContext(Xs).static||O.useLayoutEffect(t)}function ei(){let{isDataRoute:t}=O.useContext(Zs);return t?Ak():yk()}function yk(){ul()||We(!1);let t=O.useContext(Um),{basename:e,future:n,navigator:r}=O.useContext(Xs),{matches:s}=O.useContext(Zs),{pathname:i}=ed(),o=JSON.stringify(qw(s,n.v7_relativeSplatPath)),a=O.useRef(!1);return Kw(()=>{a.current=!0}),O.useCallback(function(d,h){if(h===void 0&&(h={}),!a.current)return;if(typeof d=="number"){r.go(d);return}let p=Hw(d,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Kr([e,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[e,r,o,i,t])}function Qw(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=O.useContext(Xs),{matches:s}=O.useContext(Zs),{pathname:i}=ed(),o=JSON.stringify(qw(s,r.v7_relativeSplatPath));return O.useMemo(()=>Hw(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function vk(t,e){return _k(t,e)}function _k(t,e,n,r){ul()||We(!1);let{navigator:s}=O.useContext(Xs),{matches:i}=O.useContext(Zs),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let d=ed(),h;if(e){var p;let P=typeof e=="string"?yo(e):e;l==="/"||(p=P.pathname)!=null&&p.startsWith(l)||We(!1),h=P}else h=d;let g=h.pathname||"/",w=g;if(l!=="/"){let P=l.replace(/^\//,"").split("/");w="/"+g.replace(/^\//,"").split("/").slice(P.length).join("/")}let k=GC(t,{pathname:w}),N=Tk(k&&k.map(P=>Object.assign({},P,{params:Object.assign({},a,P.params),pathname:Kr([l,s.encodeLocation?s.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?l:Kr([l,s.encodeLocation?s.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),i,n,r);return e&&N?O.createElement(Zu.Provider,{value:{location:Ga({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Or.Pop}},N):N}function xk(){let t=kk(),e=fk(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:s},n):null,null)}const wk=O.createElement(xk,null);class bk extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?O.createElement(Zs.Provider,{value:this.props.routeContext},O.createElement(Gw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ek(t){let{routeContext:e,match:n,children:r}=t,s=O.useContext(Um);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),O.createElement(Zs.Provider,{value:e},r)}function Tk(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);h>=0||We(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let p=o[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=h),p.route.id){let{loaderData:g,errors:w}=n,k=p.route.loader&&g[p.route.id]===void 0&&(!w||w[p.route.id]===void 0);if(p.route.lazy||k){l=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((h,p,g)=>{let w,k=!1,N=null,P=null;n&&(w=a&&p.route.id?a[p.route.id]:void 0,N=p.route.errorElement||wk,l&&(d<0&&g===0?(k=!0,P=null):d===g&&(k=!0,P=p.route.hydrateFallbackElement||null)));let A=e.concat(o.slice(0,g+1)),E=()=>{let C;return w?C=N:k?C=P:p.route.Component?C=O.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=h,O.createElement(Ek,{match:p,routeContext:{outlet:h,matches:A,isDataRoute:n!=null},children:C})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?O.createElement(bk,{location:n.location,revalidation:n.revalidation,component:N,error:w,children:E(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):E()},null)}var Yw=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Yw||{}),fu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(fu||{});function Ik(t){let e=O.useContext(Um);return e||We(!1),e}function Sk(t){let e=O.useContext(mk);return e||We(!1),e}function Ck(t){let e=O.useContext(Zs);return e||We(!1),e}function Jw(t){let e=Ck(),n=e.matches[e.matches.length-1];return n.route.id||We(!1),n.route.id}function kk(){var t;let e=O.useContext(Gw),n=Sk(fu.UseRouteError),r=Jw(fu.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Ak(){let{router:t}=Ik(Yw.UseNavigateStable),e=Jw(fu.UseNavigateStable),n=O.useRef(!1);return Kw(()=>{n.current=!0}),O.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Ga({fromRouteId:e},i)))},[t,e])}function Rt(t){We(!1)}function Rk(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Or.Pop,navigator:i,static:o=!1,future:a}=t;ul()&&We(!1);let l=e.replace(/^\/*/,"/"),d=O.useMemo(()=>({basename:l,navigator:i,static:o,future:Ga({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=yo(r));let{pathname:h="/",search:p="",hash:g="",state:w=null,key:k="default"}=r,N=O.useMemo(()=>{let P=Fm(h,l);return P==null?null:{location:{pathname:P,search:p,hash:g,state:w,key:k},navigationType:s}},[l,h,p,g,w,k,s]);return N==null?null:O.createElement(Xs.Provider,{value:d},O.createElement(Zu.Provider,{children:n,value:N}))}function Xw(t){let{children:e,location:n}=t;return vk(qf(e),n)}new Promise(()=>{});function qf(t,e){e===void 0&&(e=[]);let n=[];return O.Children.forEach(t,(r,s)=>{if(!O.isValidElement(r))return;let i=[...e,s];if(r.type===O.Fragment){n.push.apply(n,qf(r.props.children,i));return}r.type!==Rt&&We(!1),!r.props.index||!r.props.children||We(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=qf(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hf(){return Hf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hf.apply(this,arguments)}function Pk(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Nk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function jk(t,e){return t.button===0&&(!e||e==="_self")&&!Nk(t)}const Ok=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Dk="6";try{window.__reactRouterVersion=Dk}catch{}const Lk="startTransition",rv=NI[Lk];function Mk(t){let{basename:e,children:n,future:r,window:s}=t,i=O.useRef();i.current==null&&(i.current=qC({window:s,v5Compat:!0}));let o=i.current,[a,l]=O.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},h=O.useCallback(p=>{d&&rv?rv(()=>l(p)):l(p)},[l,d]);return O.useLayoutEffect(()=>o.listen(h),[o,h]),O.createElement(Rk,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const Fk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Uk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fi=O.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:d,preventScrollReset:h,unstable_viewTransition:p}=e,g=Pk(e,Ok),{basename:w}=O.useContext(Xs),k,N=!1;if(typeof d=="string"&&Uk.test(d)&&(k=d,Fk))try{let C=new URL(window.location.href),j=d.startsWith("//")?new URL(C.protocol+d):new URL(d),U=Fm(j.pathname,w);j.origin===C.origin&&U!=null?d=U+j.search+j.hash:N=!0}catch{}let P=gk(d,{relative:s}),A=Vk(d,{replace:o,state:a,target:l,preventScrollReset:h,relative:s,unstable_viewTransition:p});function E(C){r&&r(C),C.defaultPrevented||A(C)}return O.createElement("a",Hf({},g,{href:k||P,onClick:N||i?r:E,ref:n,target:l}))});var sv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(sv||(sv={}));var iv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(iv||(iv={}));function Vk(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=ei(),d=ed(),h=Qw(t,{relative:o});return O.useCallback(p=>{if(jk(p,n)){p.preventDefault();let g=r!==void 0?r:hu(d)===hu(h);l(t,{replace:g,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a})}},[d,l,h,r,s,n,t,i,o,a])}var nt=[];for(var xh=0;xh<256;++xh)nt.push((xh+256).toString(16).slice(1));function $k(t,e=0){return(nt[t[e+0]]+nt[t[e+1]]+nt[t[e+2]]+nt[t[e+3]]+"-"+nt[t[e+4]]+nt[t[e+5]]+"-"+nt[t[e+6]]+nt[t[e+7]]+"-"+nt[t[e+8]]+nt[t[e+9]]+"-"+nt[t[e+10]]+nt[t[e+11]]+nt[t[e+12]]+nt[t[e+13]]+nt[t[e+14]]+nt[t[e+15]]).toLowerCase()}var ic,Bk=new Uint8Array(16);function zk(){if(!ic&&(ic=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ic))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ic(Bk)}var qk=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const ov={randomUUID:qk};function Vm(t,e,n){if(ov.randomUUID&&!e&&!t)return ov.randomUUID();t=t||{};var r=t.random||(t.rng||zk)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,$k(r)}function Hk(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Zw={exports:{}};const Wk={},Gk=Object.freeze(Object.defineProperty({__proto__:null,default:Wk},Symbol.toStringTag,{value:"Module"})),Kk=C1(Gk);(function(t){/**
 * @license bcrypt.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/bcrypt.js for details
 */(function(e,n){typeof Hk=="function"&&t&&t.exports?t.exports=n():(e.dcodeIO=e.dcodeIO||{}).bcrypt=n()})(Qt,function(){var e={},n=null;function r(b){if(t&&t.exports)try{return Kk.randomBytes(b)}catch{}try{var I;return(self.crypto||self.msCrypto).getRandomValues(I=new Uint32Array(b)),Array.prototype.slice.call(I)}catch{}if(!n)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return n(b)}var s=!1;try{r(1),s=!0}catch{}n=null,e.setRandomFallback=function(b){n=b},e.genSaltSync=function(b,I){if(b=b||N,typeof b!="number")throw Error("Illegal arguments: "+typeof b+", "+typeof I);b<4?b=4:b>31&&(b=31);var _=[];return _.push("$2a$"),b<10&&_.push("0"),_.push(b.toString()),_.push("$"),_.push(p(r(k),k)),_.join("")},e.genSalt=function(b,I,_){if(typeof I=="function"&&(_=I,I=void 0),typeof b=="function"&&(_=b,b=void 0),typeof b>"u")b=N;else if(typeof b!="number")throw Error("illegal arguments: "+typeof b);function D(T){o(function(){try{T(null,e.genSaltSync(b))}catch(M){T(M)}})}if(_){if(typeof _!="function")throw Error("Illegal callback: "+typeof _);D(_)}else return new Promise(function(T,M){D(function($,V){if($){M($);return}T(V)})})},e.hashSync=function(b,I){if(typeof I>"u"&&(I=N),typeof I=="number"&&(I=e.genSaltSync(I)),typeof b!="string"||typeof I!="string")throw Error("Illegal arguments: "+typeof b+", "+typeof I);return R(b,I)},e.hash=function(b,I,_,D){function T(M){typeof b=="string"&&typeof I=="number"?e.genSalt(I,function($,V){R(b,V,M,D)}):typeof b=="string"&&typeof I=="string"?R(b,I,M,D):o(M.bind(this,Error("Illegal arguments: "+typeof b+", "+typeof I)))}if(_){if(typeof _!="function")throw Error("Illegal callback: "+typeof _);T(_)}else return new Promise(function(M,$){T(function(V,z){if(V){$(V);return}M(z)})})};function i(b,I){for(var _=0,D=0,T=0,M=b.length;T<M;++T)b.charCodeAt(T)===I.charCodeAt(T)?++_:++D;return _<0?!1:D===0}e.compareSync=function(b,I){if(typeof b!="string"||typeof I!="string")throw Error("Illegal arguments: "+typeof b+", "+typeof I);return I.length!==60?!1:i(e.hashSync(b,I.substr(0,I.length-31)),I)},e.compare=function(b,I,_,D){function T(M){if(typeof b!="string"||typeof I!="string"){o(M.bind(this,Error("Illegal arguments: "+typeof b+", "+typeof I)));return}if(I.length!==60){o(M.bind(this,null,!1));return}e.hash(b,I.substr(0,29),function($,V){$?M($):M(null,i(V,I))},D)}if(_){if(typeof _!="function")throw Error("Illegal callback: "+typeof _);T(_)}else return new Promise(function(M,$){T(function(V,z){if(V){$(V);return}M(z)})})},e.getRounds=function(b){if(typeof b!="string")throw Error("Illegal arguments: "+typeof b);return parseInt(b.split("$")[2],10)},e.getSalt=function(b){if(typeof b!="string")throw Error("Illegal arguments: "+typeof b);if(b.length!==60)throw Error("Illegal hash length: "+b.length+" != 60");return b.substring(0,29)};var o=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function a(b){var I=[],_=0;return w.encodeUTF16toUTF8(function(){return _>=b.length?null:b.charCodeAt(_++)},function(D){I.push(D)}),I}var l="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),d=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1],h=String.fromCharCode;function p(b,I){var _=0,D=[],T,M;if(I<=0||I>b.length)throw Error("Illegal len: "+I);for(;_<I;){if(T=b[_++]&255,D.push(l[T>>2&63]),T=(T&3)<<4,_>=I){D.push(l[T&63]);break}if(M=b[_++]&255,T|=M>>4&15,D.push(l[T&63]),T=(M&15)<<2,_>=I){D.push(l[T&63]);break}M=b[_++]&255,T|=M>>6&3,D.push(l[T&63]),D.push(l[M&63])}return D.join("")}function g(b,I){var _=0,D=b.length,T=0,M=[],$,V,z,H,Q,J;if(I<=0)throw Error("Illegal len: "+I);for(;_<D-1&&T<I&&(J=b.charCodeAt(_++),$=J<d.length?d[J]:-1,J=b.charCodeAt(_++),V=J<d.length?d[J]:-1,!($==-1||V==-1||(Q=$<<2>>>0,Q|=(V&48)>>4,M.push(h(Q)),++T>=I||_>=D)||(J=b.charCodeAt(_++),z=J<d.length?d[J]:-1,z==-1)||(Q=(V&15)<<4>>>0,Q|=(z&60)>>2,M.push(h(Q)),++T>=I||_>=D)));)J=b.charCodeAt(_++),H=J<d.length?d[J]:-1,Q=(z&3)<<6>>>0,Q|=H,M.push(h(Q)),++T;var te=[];for(_=0;_<T;_++)te.push(M[_].charCodeAt(0));return te}var w=function(){var b={};return b.MAX_CODEPOINT=1114111,b.encodeUTF8=function(I,_){var D=null;for(typeof I=="number"&&(D=I,I=function(){return null});D!==null||(D=I())!==null;)D<128?_(D&127):D<2048?(_(D>>6&31|192),_(D&63|128)):D<65536?(_(D>>12&15|224),_(D>>6&63|128),_(D&63|128)):(_(D>>18&7|240),_(D>>12&63|128),_(D>>6&63|128),_(D&63|128)),D=null},b.decodeUTF8=function(I,_){for(var D,T,M,$,V=function(z){z=z.slice(0,z.indexOf(null));var H=Error(z.toString());throw H.name="TruncatedError",H.bytes=z,H};(D=I())!==null;)if(!(D&128))_(D);else if((D&224)===192)(T=I())===null&&V([D,T]),_((D&31)<<6|T&63);else if((D&240)===224)((T=I())===null||(M=I())===null)&&V([D,T,M]),_((D&15)<<12|(T&63)<<6|M&63);else if((D&248)===240)((T=I())===null||(M=I())===null||($=I())===null)&&V([D,T,M,$]),_((D&7)<<18|(T&63)<<12|(M&63)<<6|$&63);else throw RangeError("Illegal starting byte: "+D)},b.UTF16toUTF8=function(I,_){for(var D,T=null;(D=T!==null?T:I())!==null;){if(D>=55296&&D<=57343&&(T=I())!==null&&T>=56320&&T<=57343){_((D-55296)*1024+T-56320+65536),T=null;continue}_(D)}T!==null&&_(T)},b.UTF8toUTF16=function(I,_){var D=null;for(typeof I=="number"&&(D=I,I=function(){return null});D!==null||(D=I())!==null;)D<=65535?_(D):(D-=65536,_((D>>10)+55296),_(D%1024+56320)),D=null},b.encodeUTF16toUTF8=function(I,_){b.UTF16toUTF8(I,function(D){b.encodeUTF8(D,_)})},b.decodeUTF8toUTF16=function(I,_){b.decodeUTF8(I,function(D){b.UTF8toUTF16(D,_)})},b.calculateCodePoint=function(I){return I<128?1:I<2048?2:I<65536?3:4},b.calculateUTF8=function(I){for(var _,D=0;(_=I())!==null;)D+=b.calculateCodePoint(_);return D},b.calculateUTF16asUTF8=function(I){var _=0,D=0;return b.UTF16toUTF8(I,function(T){++_,D+=b.calculateCodePoint(T)}),[_,D]},b}();Date.now=Date.now||function(){return+new Date};var k=16,N=10,P=16,A=100,E=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],C=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],j=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function U(b,I,_,D){var T,M=b[I],$=b[I+1];return M^=_[0],T=D[M>>>24],T+=D[256|M>>16&255],T^=D[512|M>>8&255],T+=D[768|M&255],$^=T^_[1],T=D[$>>>24],T+=D[256|$>>16&255],T^=D[512|$>>8&255],T+=D[768|$&255],M^=T^_[2],T=D[M>>>24],T+=D[256|M>>16&255],T^=D[512|M>>8&255],T+=D[768|M&255],$^=T^_[3],T=D[$>>>24],T+=D[256|$>>16&255],T^=D[512|$>>8&255],T+=D[768|$&255],M^=T^_[4],T=D[M>>>24],T+=D[256|M>>16&255],T^=D[512|M>>8&255],T+=D[768|M&255],$^=T^_[5],T=D[$>>>24],T+=D[256|$>>16&255],T^=D[512|$>>8&255],T+=D[768|$&255],M^=T^_[6],T=D[M>>>24],T+=D[256|M>>16&255],T^=D[512|M>>8&255],T+=D[768|M&255],$^=T^_[7],T=D[$>>>24],T+=D[256|$>>16&255],T^=D[512|$>>8&255],T+=D[768|$&255],M^=T^_[8],T=D[M>>>24],T+=D[256|M>>16&255],T^=D[512|M>>8&255],T+=D[768|M&255],$^=T^_[9],T=D[$>>>24],T+=D[256|$>>16&255],T^=D[512|$>>8&255],T+=D[768|$&255],M^=T^_[10],T=D[M>>>24],T+=D[256|M>>16&255],T^=D[512|M>>8&255],T+=D[768|M&255],$^=T^_[11],T=D[$>>>24],T+=D[256|$>>16&255],T^=D[512|$>>8&255],T+=D[768|$&255],M^=T^_[12],T=D[M>>>24],T+=D[256|M>>16&255],T^=D[512|M>>8&255],T+=D[768|M&255],$^=T^_[13],T=D[$>>>24],T+=D[256|$>>16&255],T^=D[512|$>>8&255],T+=D[768|$&255],M^=T^_[14],T=D[M>>>24],T+=D[256|M>>16&255],T^=D[512|M>>8&255],T+=D[768|M&255],$^=T^_[15],T=D[$>>>24],T+=D[256|$>>16&255],T^=D[512|$>>8&255],T+=D[768|$&255],M^=T^_[16],b[I]=$^_[P+1],b[I+1]=M,b}function L(b,I){for(var _=0,D=0;_<4;++_)D=D<<8|b[I]&255,I=(I+1)%b.length;return{key:D,offp:I}}function v(b,I,_){for(var D=0,T=[0,0],M=I.length,$=_.length,V,z=0;z<M;z++)V=L(b,D),D=V.offp,I[z]=I[z]^V.key;for(z=0;z<M;z+=2)T=U(T,0,I,_),I[z]=T[0],I[z+1]=T[1];for(z=0;z<$;z+=2)T=U(T,0,I,_),_[z]=T[0],_[z+1]=T[1]}function y(b,I,_,D){for(var T=0,M=[0,0],$=_.length,V=D.length,z,H=0;H<$;H++)z=L(I,T),T=z.offp,_[H]=_[H]^z.key;for(T=0,H=0;H<$;H+=2)z=L(b,T),T=z.offp,M[0]^=z.key,z=L(b,T),T=z.offp,M[1]^=z.key,M=U(M,0,_,D),_[H]=M[0],_[H+1]=M[1];for(H=0;H<V;H+=2)z=L(b,T),T=z.offp,M[0]^=z.key,z=L(b,T),T=z.offp,M[1]^=z.key,M=U(M,0,_,D),D[H]=M[0],D[H+1]=M[1]}function x(b,I,_,D,T){var M=j.slice(),$=M.length,V;if(_<4||_>31)if(V=Error("Illegal number of rounds (4-31): "+_),D){o(D.bind(this,V));return}else throw V;if(I.length!==k)if(V=Error("Illegal salt length: "+I.length+" != "+k),D){o(D.bind(this,V));return}else throw V;_=1<<_>>>0;var z,H,Q=0,J;Int32Array?(z=new Int32Array(E),H=new Int32Array(C)):(z=E.slice(),H=C.slice()),y(I,b,z,H);function te(){if(T&&T(Q/_),Q<_)for(var be=Date.now();Q<_&&(Q=Q+1,v(b,z,H),v(I,z,H),!(Date.now()-be>A)););else{for(Q=0;Q<64;Q++)for(J=0;J<$>>1;J++)U(M,J<<1,z,H);var le=[];for(Q=0;Q<$;Q++)le.push((M[Q]>>24&255)>>>0),le.push((M[Q]>>16&255)>>>0),le.push((M[Q]>>8&255)>>>0),le.push((M[Q]&255)>>>0);if(D){D(null,le);return}else return le}D&&o(te)}if(typeof D<"u")te();else for(var we;;)if(typeof(we=te())<"u")return we||[]}function R(b,I,_,D){var T;if(typeof b!="string"||typeof I!="string")if(T=Error("Invalid string / salt: Not a string"),_){o(_.bind(this,T));return}else throw T;var M,$;if(I.charAt(0)!=="$"||I.charAt(1)!=="2")if(T=Error("Invalid salt version: "+I.substring(0,2)),_){o(_.bind(this,T));return}else throw T;if(I.charAt(2)==="$")M="\0",$=3;else{if(M=I.charAt(2),M!=="a"&&M!=="b"&&M!=="y"||I.charAt(3)!=="$")if(T=Error("Invalid salt revision: "+I.substring(2,4)),_){o(_.bind(this,T));return}else throw T;$=4}if(I.charAt($+2)>"$")if(T=Error("Missing salt rounds"),_){o(_.bind(this,T));return}else throw T;var V=parseInt(I.substring($,$+1),10)*10,z=parseInt(I.substring($+1,$+2),10),H=V+z,Q=I.substring($+3,$+25);b+=M>="a"?"\0":"";var J=a(b),te=g(Q,k);function we(be){var le=[];return le.push("$2"),M>="a"&&le.push(M),le.push("$"),H<10&&le.push("0"),le.push(H.toString()),le.push("$"),le.push(p(te,te.length)),le.push(p(be,j.length*4-1)),le.join("")}if(typeof _>"u")return we(x(J,te,H));x(J,te,H,function(be,le){be?_(be,null):_(null,we(le))},D)}return e.encodeBase64=p,e.decodeBase64=g,e})})(Zw);var Qk=Zw.exports;const eb=zp(Qk),Yk="modulepreload",Jk=function(t){return"/"+t},av={},no=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=Jk(l),l in av)return;av[l]=!0;const d=l.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":Yk,d||(p.as="script"),p.crossOrigin="",p.href=l,a&&p.setAttribute("nonce",a),document.head.appendChild(p),d)return new Promise((g,w)=>{p.addEventListener("load",g),p.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Xk=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>no(async()=>{const{default:r}=await Promise.resolve().then(()=>vo);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class $m extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Zk extends $m{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class eA extends $m{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class tA extends $m{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Wf;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Wf||(Wf={}));var nA=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(h){try{d(r.next(h))}catch(p){o(p)}}function l(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?i(h.value):s(h.value).then(a,l)}d((r=r.apply(t,e||[])).next())})};class rA{constructor(e,{headers:n={},customFetch:r,region:s=Wf.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=Xk(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return nA(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(a["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(a["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:d}).catch(k=>{throw new Zk(k)}),p=h.headers.get("x-relay-error");if(p&&p==="true")throw new eA(h);if(!h.ok)throw new tA(h);let g=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),w;return g==="application/json"?w=yield h.json():g==="application/octet-stream"?w=yield h.blob():g==="text/event-stream"?w=h:g==="multipart/form-data"?w=yield h.formData():w=yield h.text(),{data:w,error:null}}catch(s){return{data:null,error:s}}})}}var Nt={},Bm={},td={},dl={},nd={},rd={},sA=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ro=sA();const iA=ro.fetch,tb=ro.fetch.bind(ro),nb=ro.Headers,oA=ro.Request,aA=ro.Response,vo=Object.freeze(Object.defineProperty({__proto__:null,Headers:nb,Request:oA,Response:aA,default:tb,fetch:iA},Symbol.toStringTag,{value:"Module"})),lA=C1(vo);var sd={};Object.defineProperty(sd,"__esModule",{value:!0});class cA extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}sd.default=cA;var rb=Qt&&Qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rd,"__esModule",{value:!0});const uA=rb(lA),dA=rb(sd);let hA=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=uA.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let d=null,h=null,p=null,g=i.status,w=i.statusText;if(i.ok){if(this.method!=="HEAD"){const A=await i.text();A===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?h=A:h=JSON.parse(A))}const N=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),P=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");N&&P&&P.length>1&&(p=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,p=null,g=406,w="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const N=await i.text();try{d=JSON.parse(N),Array.isArray(d)&&i.status===404&&(h=[],d=null,g=200,w="OK")}catch{i.status===404&&N===""?(g=204,w="No Content"):d={message:N}}if(d&&this.isMaybeSingle&&(!((l=d==null?void 0:d.details)===null||l===void 0)&&l.includes("0 rows"))&&(d=null,g=200,w="OK"),d&&this.shouldThrowOnError)throw new dA.default(d)}return{error:d,data:h,count:p,status:g,statusText:w}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}};rd.default=hA;var fA=Qt&&Qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(nd,"__esModule",{value:!0});const pA=fA(rd);let mA=class extends pA.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${d}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};nd.default=mA;var gA=Qt&&Qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(dl,"__esModule",{value:!0});const yA=gA(nd);let vA=class extends yA.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};dl.default=vA;var _A=Qt&&Qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(td,"__esModule",{value:!0});const Qo=_A(dl);let xA=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Qo.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Qo.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(l.length>0){const d=[...new Set(l)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new Qo.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Qo.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Qo.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};td.default=xA;var id={},od={};Object.defineProperty(od,"__esModule",{value:!0});od.version=void 0;od.version="0.0.0-automated";Object.defineProperty(id,"__esModule",{value:!0});id.DEFAULT_HEADERS=void 0;const wA=od;id.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${wA.version}`};var sb=Qt&&Qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bm,"__esModule",{value:!0});const bA=sb(td),EA=sb(dl),TA=id;let IA=class ib{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},TA.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new bA.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new ib(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([h,p])=>p!==void 0).map(([h,p])=>[h,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([h,p])=>{a.searchParams.append(h,p)})):(o="POST",l=n);const d=Object.assign({},this.headers);return i&&(d.Prefer=`count=${i}`),new EA.default({method:o,url:a,headers:d,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Bm.default=IA;var _o=Qt&&Qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Nt,"__esModule",{value:!0});Nt.PostgrestError=Nt.PostgrestBuilder=Nt.PostgrestTransformBuilder=Nt.PostgrestFilterBuilder=Nt.PostgrestQueryBuilder=Nt.PostgrestClient=void 0;const ob=_o(Bm);Nt.PostgrestClient=ob.default;const ab=_o(td);Nt.PostgrestQueryBuilder=ab.default;const lb=_o(dl);Nt.PostgrestFilterBuilder=lb.default;const cb=_o(nd);Nt.PostgrestTransformBuilder=cb.default;const ub=_o(rd);Nt.PostgrestBuilder=ub.default;const db=_o(sd);Nt.PostgrestError=db.default;var SA=Nt.default={PostgrestClient:ob.default,PostgrestQueryBuilder:ab.default,PostgrestFilterBuilder:lb.default,PostgrestTransformBuilder:cb.default,PostgrestBuilder:ub.default,PostgrestError:db.default};const{PostgrestClient:CA,PostgrestQueryBuilder:u8,PostgrestFilterBuilder:d8,PostgrestTransformBuilder:h8,PostgrestBuilder:f8}=SA,kA="2.10.7",AA={"X-Client-Info":`realtime-js/${kA}`},RA="1.0.0",hb=1e4,PA=1e3;var $i;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})($i||($i={}));var Bt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Bt||(Bt={}));var yn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(yn||(yn={}));var Gf;(function(t){t.websocket="websocket"})(Gf||(Gf={}));var ws;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ws||(ws={}));class NA{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const l=r.decode(e.slice(o,o+i));o=o+i;const d=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:d}}}class fb{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Se;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Se||(Se={}));const lv=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=jA(o,t,e,s),i),{})},jA=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?pb(i,o):Kf(o)},pb=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return MA(e,n)}switch(t){case Se.bool:return OA(e);case Se.float4:case Se.float8:case Se.int2:case Se.int4:case Se.int8:case Se.numeric:case Se.oid:return DA(e);case Se.json:case Se.jsonb:return LA(e);case Se.timestamp:return FA(e);case Se.abstime:case Se.date:case Se.daterange:case Se.int4range:case Se.int8range:case Se.money:case Se.reltime:case Se.text:case Se.time:case Se.timestamptz:case Se.timetz:case Se.tsrange:case Se.tstzrange:return Kf(e);default:return Kf(e)}},Kf=t=>t,OA=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},DA=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},LA=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},MA=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>pb(e,a))}return t},FA=t=>typeof t=="string"?t.replace(" ","T"):t,mb=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class wh{constructor(e,n,r={},s=hb){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var cv;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(cv||(cv={}));class va{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=va.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=va.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=va.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(d,h)=>{o[d]||(l[d]=h)}),this.map(o,(d,h)=>{const p=i[d];if(p){const g=h.map(P=>P.presence_ref),w=p.map(P=>P.presence_ref),k=h.filter(P=>w.indexOf(P.presence_ref)<0),N=p.filter(P=>g.indexOf(P.presence_ref)<0);k.length>0&&(a[d]=k),N.length>0&&(l[d]=N)}else a[d]=h}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var d;const h=(d=e[a])!==null&&d!==void 0?d:[];if(e[a]=this.cloneDeep(l),h.length>0){const p=e[a].map(w=>w.presence_ref),g=h.filter(w=>p.indexOf(w.presence_ref)<0);e[a].unshift(...g)}r(a,h,l)}),this.map(o,(a,l)=>{let d=e[a];if(!d)return;const h=l.map(p=>p.presence_ref);d=d.filter(p=>h.indexOf(p.presence_ref)<0),e[a]=d,s(a,d,l),d.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var uv;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(uv||(uv={}));var dv;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(dv||(dv={}));var hv;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(hv||(hv={}));class zm{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Bt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new wh(this,yn.join,this.params,this.timeout),this.rejoinTimer=new fb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Bt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Bt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(yn.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new va(this),this.broadcastEndpointURL=mb(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(h=>e&&e("CHANNEL_ERROR",h)),this._onClose(()=>e&&e("CLOSED"));const l={},d={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessToken&&(l.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:d},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",({postgres_changes:h})=>{var p;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),h===void 0){e&&e("SUBSCRIBED");return}else{const g=this.bindings.postgres_changes,w=(p=g==null?void 0:g.length)!==null&&p!==void 0?p:0,k=[];for(let N=0;N<w;N++){const P=g[N],{filter:{event:A,schema:E,table:C,filter:j}}=P,U=h&&h[N];if(U&&U.event===A&&U.schema===E&&U.table===C&&U.filter===j)k.push(Object.assign(Object.assign({},P),{id:U.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,e&&e("SUBSCRIBED");return}}).receive("error",h=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=l.body)===null||s===void 0?void 0:s.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const d=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Bt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(yn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new wh(this,yn.leave,{},e);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new wh(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:d,join:h}=yn;if(r&&[a,l,d,h].indexOf(o)>=0&&r!==this._joinRef())return;let g=this._onMessage(o,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(w=>{var k,N,P;return((k=w.filter)===null||k===void 0?void 0:k.event)==="*"||((P=(N=w.filter)===null||N===void 0?void 0:N.event)===null||P===void 0?void 0:P.toLocaleLowerCase())===o}).map(w=>w.callback(g,r)):(i=this.bindings[o])===null||i===void 0||i.filter(w=>{var k,N,P,A,E,C;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in w){const j=w.id,U=(k=w.filter)===null||k===void 0?void 0:k.event;return j&&((N=n.ids)===null||N===void 0?void 0:N.includes(j))&&(U==="*"||(U==null?void 0:U.toLocaleLowerCase())===((P=n.data)===null||P===void 0?void 0:P.type.toLocaleLowerCase()))}else{const j=(E=(A=w==null?void 0:w.filter)===null||A===void 0?void 0:A.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return j==="*"||j===((C=n==null?void 0:n.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===o}).map(w=>{if(typeof g=="object"&&"ids"in g){const k=g.data,{schema:N,table:P,commit_timestamp:A,type:E,errors:C}=k;g=Object.assign(Object.assign({},{schema:N,table:P,commit_timestamp:A,eventType:E,new:{},old:{},errors:C}),this._getPayloadRecords(k))}w.callback(g,r)})}_isClosed(){return this.state===Bt.closed}_isJoined(){return this.state===Bt.joined}_isJoining(){return this.state===Bt.joining}_isLeaving(){return this.state===Bt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&zm.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(yn.close,{},e)}_onError(e){this._on(yn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Bt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=lv(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=lv(e.columns,e.old_record)),n}}const UA=()=>{},VA=typeof WebSocket<"u",$A=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class BA{constructor(e,n){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=AA,this.params={},this.timeout=hb,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=UA,this.conn=null,this.sendBuffer=[],this.serializer=new NA,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>no(async()=>{const{default:l}=await Promise.resolve().then(()=>vo);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Gf.websocket}`,this.httpEndpoint=mb(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessToken=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new fb(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(VA){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new zA(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),no(async()=>{const{default:e}=await import("./browser-DDTeHxIE.js").then(n=>n.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case $i.connecting:return ws.Connecting;case $i.open:return ws.Open;case $i.closing:return ws.Closing;default:return ws.Closed}}isConnected(){return this.connectionState()===ws.Open}channel(e,n={config:{}}){const r=new zm(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(e){this.accessToken=e,this.channels.forEach(n=>{e&&n.updateJoinPayload({access_token:e}),n.joinedOnce&&n._isJoined()&&n._push(yn.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:RA}))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;(o&&o===this.pendingHeartbeatRef||s===(i==null?void 0:i.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this._sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(yn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(PA,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([$A],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class zA{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=$i.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}let qm=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Ye(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class qA extends qm{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Qf extends qm{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var HA=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(h){try{d(r.next(h))}catch(p){o(p)}}function l(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?i(h.value):s(h.value).then(a,l)}d((r=r.apply(t,e||[])).next())})};const gb=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>no(async()=>{const{default:r}=await Promise.resolve().then(()=>vo);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},WA=()=>HA(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield no(()=>Promise.resolve().then(()=>vo),void 0)).Response:Response}),Yf=t=>{if(Array.isArray(t))return t.map(n=>Yf(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Yf(r)}),e};var ti=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(h){try{d(r.next(h))}catch(p){o(p)}}function l(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?i(h.value):s(h.value).then(a,l)}d((r=r.apply(t,e||[])).next())})};const bh=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),GA=(t,e,n)=>ti(void 0,void 0,void 0,function*(){const r=yield WA();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new qA(bh(s),t.status||500))}).catch(s=>{e(new Qf(bh(s),s))}):e(new Qf(bh(t),t))}),KA=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function hl(t,e,n,r,s,i){return ti(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,KA(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>GA(l,a,r))})})}function pu(t,e,n,r){return ti(this,void 0,void 0,function*(){return hl(t,"GET",e,n,r)})}function Tr(t,e,n,r,s){return ti(this,void 0,void 0,function*(){return hl(t,"POST",e,r,s,n)})}function QA(t,e,n,r,s){return ti(this,void 0,void 0,function*(){return hl(t,"PUT",e,r,s,n)})}function YA(t,e,n,r){return ti(this,void 0,void 0,function*(){return hl(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function yb(t,e,n,r,s){return ti(this,void 0,void 0,function*(){return hl(t,"DELETE",e,r,s,n)})}var At=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(h){try{d(r.next(h))}catch(p){o(p)}}function l(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?i(h.value):s(h.value).then(a,l)}d((r=r.apply(t,e||[])).next())})};const JA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},fv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class XA{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=gb(s)}uploadOrUpdate(e,n,r,s){return At(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},fv),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const d=this._removeEmptyFolders(n),h=this._getFinalPath(d),p=yield this.fetch(`${this.url}/object/${h}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),g=yield p.json();return p.ok?{data:{path:d,id:g.Id,fullPath:g.Key},error:null}:{data:null,error:g}}catch(i){if(Ye(i))return{data:null,error:i};throw i}})}upload(e,n,r){return At(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return At(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const d=Object.assign({upsert:fv.upsert},s),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",d.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",d.cacheControl)):(l=r,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType);const p=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:h}),g=yield p.json();return p.ok?{data:{path:i,fullPath:g.Key},error:null}:{data:null,error:g}}catch(l){if(Ye(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return At(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Tr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new qm("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}update(e,n,r){return At(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return At(this,void 0,void 0,function*(){try{return{data:yield Tr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Ye(s))return{data:null,error:s};throw s}})}copy(e,n,r){return At(this,void 0,void 0,function*(){try{return{data:{path:(yield Tr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Ye(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return At(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Tr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Ye(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return At(this,void 0,void 0,function*(){try{const s=yield Tr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Ye(s))return{data:null,error:s};throw s}})}download(e,n){return At(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield pu(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Ye(a))return{data:null,error:a};throw a}})}info(e){return At(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield pu(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Yf(r),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}exists(e){return At(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield YA(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Ye(r)&&r instanceof Qf){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${d}`)}}}remove(e){return At(this,void 0,void 0,function*(){try{return{data:yield yb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}})}list(e,n,r){return At(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},JA),n),{prefix:e||""});return{data:yield Tr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Ye(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const ZA="2.7.1",eR={"X-Client-Info":`storage-js/${ZA}`};var pi=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(h){try{d(r.next(h))}catch(p){o(p)}}function l(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?i(h.value):s(h.value).then(a,l)}d((r=r.apply(t,e||[])).next())})};class tR{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},eR),n),this.fetch=gb(r)}listBuckets(){return pi(this,void 0,void 0,function*(){try{return{data:yield pu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Ye(e))return{data:null,error:e};throw e}})}getBucket(e){return pi(this,void 0,void 0,function*(){try{return{data:yield pu(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return pi(this,void 0,void 0,function*(){try{return{data:yield Tr(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return pi(this,void 0,void 0,function*(){try{return{data:yield QA(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}emptyBucket(e){return pi(this,void 0,void 0,function*(){try{return{data:yield Tr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}})}deleteBucket(e){return pi(this,void 0,void 0,function*(){try{return{data:yield yb(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}})}}class nR extends tR{constructor(e,n={},r){super(e,n,r)}from(e){return new XA(this.url,this.headers,e,this.fetch)}}const rR="2.46.1";let na="";typeof Deno<"u"?na="deno":typeof document<"u"?na="web":typeof navigator<"u"&&navigator.product==="ReactNative"?na="react-native":na="node";const sR={"X-Client-Info":`supabase-js-${na}/${rR}`},iR={headers:sR},oR={schema:"public"},aR={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},lR={};var cR=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(h){try{d(r.next(h))}catch(p){o(p)}}function l(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?i(h.value):s(h.value).then(a,l)}d((r=r.apply(t,e||[])).next())})};const uR=t=>{let e;return t?e=t:typeof fetch>"u"?e=tb:e=fetch,(...n)=>e(...n)},dR=()=>typeof Headers>"u"?nb:Headers,hR=(t,e,n)=>{const r=uR(n),s=dR();return(i,o)=>cR(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let d=new s(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:d}))})};var fR=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(h){try{d(r.next(h))}catch(p){o(p)}}function l(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?i(h.value):s(h.value).then(a,l)}d((r=r.apply(t,e||[])).next())})};function pR(t){return t.replace(/\/$/,"")}function mR(t,e){const{db:n,auth:r,realtime:s,global:i}=t,{db:o,auth:a,realtime:l,global:d}=e,h={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},d),i),accessToken:()=>fR(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}const vb="2.65.1",gR="http://localhost:9999",yR="supabase.auth.token",vR={"X-Client-Info":`gotrue-js/${vb}`},pv=10,Jf="X-Supabase-Api-Version",_b={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function _R(t){return Math.round(Date.now()/1e3)+t}function xR(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const pn=()=>typeof document<"u",gs={tested:!1,writable:!1},_a=()=>{if(!pn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(gs.tested)return gs.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),gs.tested=!0,gs.writable=!0}catch{gs.tested=!0,gs.writable=!1}return gs.writable};function Eh(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const xb=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>no(async()=>{const{default:r}=await Promise.resolve().then(()=>vo);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},wR=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",wb=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},oc=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ac=async(t,e)=>{await t.removeItem(e)};function bR(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,i,o,a,l,d,h=0;for(t=t.replace("-","+").replace("_","/");h<t.length;)o=e.indexOf(t.charAt(h++)),a=e.indexOf(t.charAt(h++)),l=e.indexOf(t.charAt(h++)),d=e.indexOf(t.charAt(h++)),r=o<<2|a>>4,s=(a&15)<<4|l>>2,i=(l&3)<<6|d,n=n+String.fromCharCode(r),l!=64&&s!=0&&(n=n+String.fromCharCode(s)),d!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}let bb=class Eb{constructor(){this.promise=new Eb.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}};bb.promiseConstructor=Promise;function mv(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(bR(r))}async function ER(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function TR(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function IR(t){return("0"+t.toString(16)).substr(-2)}function SR(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,IR).join("")}async function CR(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function kR(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function AR(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await CR(t);return kR(n)}async function mi(t,e,n=!1){const r=SR();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await wb(t,`${e}-code-verifier`,s);const i=await AR(r);return[i,r===i?"plain":"s256"]}const RR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function PR(t){const e=t.headers.get(Jf);if(!e||!e.match(RR))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class Hm extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ae(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class NR extends Hm{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function jR(t){return ae(t)&&t.name==="AuthApiError"}class Tb extends Hm{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class ni extends Hm{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class xr extends ni{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function OR(t){return ae(t)&&t.name==="AuthSessionMissingError"}class Th extends ni{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class lc extends ni{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class cc extends ni{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class gv extends ni{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Xf extends ni{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Ih(t){return ae(t)&&t.name==="AuthRetryableFetchError"}class yv extends ni{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var DR=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const _s=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),LR=[502,503,504];async function vv(t){var e;if(!wR(t))throw new Xf(_s(t),0);if(LR.includes(t.status))throw new Xf(_s(t),t.status);let n;try{n=await t.json()}catch(i){throw new Tb(_s(i),i)}let r;const s=PR(t);if(s&&s.getTime()>=_b["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new yv(_s(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new xr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new yv(_s(n),t.status,n.weak_password.reasons);throw new NR(_s(n),t.status||500,r)}const MR=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function de(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Jf]||(i[Jf]=_b["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await FR(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function FR(t,e,n,r,s,i){const o=MR(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new Xf(_s(l),0)}if(a.ok||await vv(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await vv(l)}}function wr(t){var e;let n=null;BR(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=_R(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function _v(t){const e=wr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Cr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function UR(t){return{data:t,error:null}}function VR(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=DR(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function $R(t){return t}function BR(t){return t.access_token&&t.refresh_token&&t.expires_in}var zR=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class qR{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=xb(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await de(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await de(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Cr})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=zR(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await de(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:VR,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ae(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await de(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Cr})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,l;try{const d={nextPage:null,lastPage:0,total:0},h=await de(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:$R});if(h.error)throw h.error;const p=await h.json(),g=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,w=(l=(a=h.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return w.length>0&&(w.forEach(k=>{const N=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(k.split(";")[1].split("=")[1]);d[`${P}Page`]=N}),d.total=parseInt(g)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(ae(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){try{return await de(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Cr})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await de(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Cr})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await de(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Cr})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await de(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await de(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}}}const HR={getItem:t=>_a()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{_a()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{_a()&&globalThis.localStorage.removeItem(t)}};function xv(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function WR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const gi={debug:!!(globalThis&&_a()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ib extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class GR extends Ib{}async function KR(t,e,n){gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),gi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new GR(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(gi.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}WR();const QR={url:gR,storageKey:yR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:vR,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Yo=30*1e3,wv=3;async function bv(t,e,n){return await n()}class Ka{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ka.nextInstanceID,Ka.nextInstanceID+=1,this.instanceID>0&&pn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},QR),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new qR({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=xb(s.fetch),this.lock=s.lock||bv,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:pn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=KR:this.lock=bv,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:_a()?this.storage=HR:(this.memoryStorage={},this.storage=xv(this.memoryStorage)):(this.memoryStorage={},this.storage=xv(this.memoryStorage)),pn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${vb}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=pn()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:n,error:r}=await this._getSessionFromURL(e);if(r)return this._debug("#_initialize()","error detecting session from URL",r),(r==null?void 0:r.code)==="identity_already_exists"?{error:r}:(await this._removeSession(),{error:r});const{session:s,redirectType:i}=n;return this._debug("#_initialize()","detected session in URL",s,"redirect type",i),await this._saveSession(s),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return ae(e)?{error:e}:{error:new Tb("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:wr}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(i){if(ae(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:h,password:p,options:g}=e;let w=null,k=null;this.flowType==="pkce"&&([w,k]=await mi(this.storage,this.storageKey)),i=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:h,password:p,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:w,code_challenge_method:k},xform:wr})}else if("phone"in e){const{phone:h,password:p,options:g}=e;i=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},channel:(s=g==null?void 0:g.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:wr})}else throw new lc("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(i){if(ae(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:_v})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:_v})}else throw new lc("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Th}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(ae(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await oc(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await de(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:wr});if(await ac(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Th}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(ae(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:wr}),{data:l,error:d}=a;return d?{data:{user:null,session:null},error:d}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Th}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:d})}catch(n){if(ae(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await mi(this.storage,this.storageKey));const{error:p}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in e){const{phone:a,options:l}=e,{data:d,error:h}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h}}throw new lc("You must provide either an email or phone number.")}catch(a){if(ae(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await de(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:wr});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,d=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(s){if(ae(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await mi(this.storage,this.storageKey)),await de(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:UR})}catch(i){if(ae(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new xr;const{error:s}=await de(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(ae(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await de(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await de(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new lc("You must provide either an email or phone number and a type")}catch(n){if(ae(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await oc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,d,h)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,d,h))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Cr}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new xr}:await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Cr})})}catch(n){if(ae(n))return OR(n)&&(await this._removeSession(),await ac(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new xr;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await mi(this.storage,this.storageKey));const{data:d,error:h}=await de(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Cr});if(h)throw h;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return mv(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new xr;const n=Date.now()/1e3;let r=n,s=!0,i=null;const o=mv(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(ae(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new xr;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ae(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e){try{if(!pn())throw new cc("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new cc("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new gv("Not a valid PKCE flow url.");const n=Eh(window.location.href);if(e){if(!n.code)throw new gv("No code detected.");const{data:E,error:C}=await this._exchangeCodeForSession(n.code);if(C)throw C;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:E.session,redirectType:null},error:null}}if(n.error||n.error_description||n.error_code)throw new cc(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:d}=n;if(!i||!a||!o||!d)throw new cc("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(a);let g=h+p;l&&(g=parseInt(l));const w=g-h;w*1e3<=Yo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${p}s`);const k=g-p;h-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,g,h):h-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,g,h);const{data:N,error:P}=await this._getUser(i);if(P)throw P;const A={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:p,expires_at:g,refresh_token:o,token_type:d,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:A,redirectType:n.type},error:null}}catch(n){if(ae(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantFlow(){const e=Eh(window.location.href);return!!(pn()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=Eh(window.location.href),n=await oc(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(jR(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await ac(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=xR(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await mi(this.storage,this.storageKey,!0));try{return await de(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(ae(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,d,h;const{data:p,error:g}=i;if(g)throw g;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await de(this.fetch,"GET",w,{headers:this.headers,jwt:(h=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(s)throw s;return pn()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ae(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await de(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await TR(async s=>(s>0&&await ER(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await de(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:wr})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Ih(i)&&Date.now()+o-r<Yo})}catch(r){if(this._debug(n,"error",r),ae(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),pn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await oc(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<s+pv;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${pv}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Ih(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new xr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new bb;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new xr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),ae(i)){const o={session:null,error:i};return Ih(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await wb(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await ac(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&pn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Yo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Yo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Yo}ms, refresh threshold is ${wv} ticks`),s<=wv&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ib)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!pn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await mi(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await de(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:d}=await de(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await de(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(ae(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await de(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ae(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const h=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:h},error:null}}))}}Ka.nextInstanceID=0;const YR=Ka;class JR extends YR{constructor(e){super(e)}}var XR=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(h){try{d(r.next(h))}catch(p){o(p)}}function l(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?i(h.value):s(h.value).then(a,l)}d((r=r.apply(t,e||[])).next())})};class ZR{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=pR(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,d={db:oR,realtime:lR,auth:Object.assign(Object.assign({},aR),{storageKey:l}),global:iR},h=mR(r??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(p,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=hR(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},h.realtime)),this.rest=new CA(`${a}/rest/v1`,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new rA(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new nR(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return XR(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},d,h){var p;const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new JR({url:this.authUrl,headers:Object.assign(Object.assign({},g),d),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:h,hasCustomAuthorizationHeader:(p="Authorization"in this.headers)!==null&&p!==void 0?p:!1})}_initRealtimeClient(e){return new BA(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Sb=(t,e,n)=>new ZR(t,e,n),eP="https://mxqzohhojkveomcyfxuv.supabase.co",tP="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im14cXpvaGhvamt2ZW9tY3lmeHV2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjkwMDM4MDMsImV4cCI6MjA0NDU3OTgwM30.hVZUxMf-LINa4lLEst63cHnW5yBBps78QAtI0kWm73k",Ie=Sb(eP,tP),nP=()=>{const[t,e]=O.useState(""),[n,r]=O.useState(""),[s,i]=O.useState(""),[o,a]=O.useState(""),[l,d]=O.useState(""),[h,p]=O.useState(""),[g,w]=O.useState(""),[k,N]=O.useState(""),P=ei(),A=async E=>{if(E.preventDefault(),w(""),N(""),!t||!n||!s||!o||!l||!h){w("Please fill in all fields");return}if(l!==h){w("Passwords do not match");return}try{const C=Vm(),j=await eb.hash(l,10),U=`
        INSERT INTO userinfo (id, firstName, lastName, email, contact, password, is_admin)
        VALUES ('${C}', '${t}', '${n}', '${s}', '${o}', '${j}', false);
      `,{error:L}=await Ie.rpc("execute_sql",{sql:U});if(L)throw new Error(L.message);N("Account created successfully! You can now log in."),setTimeout(()=>P("/login"),2e3)}catch(C){w(C.message),console.log(C)}};return u.jsxs("div",{className:"signup-container",children:[u.jsx("h1",{children:"LOST AND FOUND"}),u.jsxs("div",{className:"buttons",children:[u.jsx("button",{style:{backgroundColor:"transparent",color:"white",border:"none"},onClick:()=>P("/login"),children:"Login"}),u.jsx("button",{style:{backgroundColor:"white",color:"#36408e",border:"none",opacity:1,cursor:"not-allowed",pointerEvents:"none"},children:"Register"})]}),u.jsxs("form",{className:"signup-form",onSubmit:A,children:[u.jsx("label",{id:"signup",children:"Create a new Account"}),u.jsxs("div",{className:"names",children:[u.jsx("input",{type:"text",placeholder:"First Name",onChange:E=>e(E.target.value)}),u.jsx("input",{type:"text",placeholder:"Last Name",onChange:E=>r(E.target.value)}),u.jsx("input",{type:"number",placeholder:"Contact Number",maxLength:11,onChange:E=>a(E.target.value)})]}),u.jsx("div",{className:"emails",children:u.jsx("input",{type:"email",placeholder:"Email Address",onChange:E=>i(E.target.value)})}),u.jsxs("div",{className:"passwords",children:[u.jsx("input",{type:"password",placeholder:"Password",onChange:E=>d(E.target.value),autoComplete:"current-password"}),u.jsx("input",{type:"password",placeholder:"Confirm Password",onChange:E=>p(E.target.value),autoComplete:"current-password"})]}),u.jsx("button",{type:"submit",children:"Sign Up"}),u.jsx("br",{}),g&&u.jsx("p",{style:{color:"red"},children:g}),k&&u.jsx("p",{style:{color:"#15bc11"},children:k})]})]})},rP=()=>{const[t,e]=O.useState(""),[n,r]=O.useState(""),[s,i]=O.useState(""),o=ei(),a=async d=>{if(d.preventDefault(),i(""),!t||!n){i("Please fill in both fields");return}try{const{data:h,error:p}=await Ie.from("userinfo").select("*").eq("email",t).single();if(p||!h){i("User not found");return}if(!await eb.compare(n,h.password)){i("Invalid password");return}console.log("User data from Supabase:",h),sessionStorage.setItem("user",JSON.stringify(h));const w=JSON.parse(sessionStorage.getItem("user"));w?console.log("Logged-in user data:",w):console.log("No user logged in"),h.is_admin?o("/adminpage"):o("/homepage")}catch(h){i("An error occurred during login"),console.log("Error logging in:",h)}},l=()=>{o("/")};return u.jsxs("div",{className:"signup-container",children:[u.jsx("h1",{children:"LOST AND FOUND"}),u.jsxs("div",{className:"buttons",children:[u.jsx("button",{style:{backgroundColor:"white",color:"#36408e",border:"none",opacity:1,cursor:"not-allowed",pointerEvents:"none"},children:"Login"}),u.jsx("button",{style:{backgroundColor:"transparent",color:"white",border:"none"},id:"register",onClick:l,children:"Register"})]}),u.jsxs("form",{className:"signup-form",onSubmit:a,children:[u.jsx("label",{id:"signxup",children:"Log in with your Account"}),u.jsx("div",{className:"emails",children:u.jsx("input",{type:"text",placeholder:"Email Address",onChange:d=>e(d.target.value)})}),u.jsx("div",{className:"passwords",children:u.jsx("input",{type:"password",placeholder:"Password",onChange:d=>r(d.target.value),autoComplete:"current-password"})}),u.jsx("button",{type:"submit",children:"Sign In"})," ",u.jsx("br",{}),s&&u.jsx("p",{style:{color:"red"},children:s})," "]})]})};var Ev={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},sP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},kb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,d=l?t[s+2]:0,h=i>>2,p=(i&3)<<4|a>>4;let g=(a&15)<<2|d>>6,w=d&63;l||(w=64,o||(g=64)),r.push(n[h],n[p],n[g],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Cb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):sP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||d==null||p==null)throw new iP;const g=i<<2|a>>4;if(r.push(g),d!==64){const w=a<<4&240|d>>2;if(r.push(w),p!==64){const k=d<<6&192|p;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class iP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oP=function(t){const e=Cb(t);return kb.encodeByteArray(e,!0)},mu=function(t){return oP(t).replace(/\./g,"")},Ab=function(t){try{return kb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP=()=>aP().__FIREBASE_DEFAULTS__,cP=()=>{if(typeof process>"u"||typeof Ev>"u")return;const t=Ev.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},uP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ab(t[1]);return e&&JSON.parse(e)},ad=()=>{try{return lP()||cP()||uP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Rb=t=>{var e,n;return(n=(e=ad())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Pb=t=>{const e=Rb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Nb=()=>{var t;return(t=ad())===null||t===void 0?void 0:t.config},jb=t=>{var e;return(e=ad())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[mu(JSON.stringify(n)),mu(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_t())}function fP(){var t;const e=(t=ad())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Db(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function mP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gP(){const t=_t();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function yP(){return!fP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Lb(){try{return typeof indexedDB=="object"}catch{return!1}}function Mb(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function vP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P="FirebaseError";class cn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_P,Object.setPrototypeOf(this,cn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ri.prototype.create)}}class ri{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?xP(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new cn(s,a,r)}}function xP(t,e){return t.replace(wP,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const wP=/\{\$([^}]+)}/g;function bP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function gu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Tv(i)&&Tv(o)){if(!gu(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Tv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function EP(t,e){const n=new TP(t,e);return n.subscribe.bind(n)}class TP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");IP(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Sh),s.error===void 0&&(s.error=Sh),s.complete===void 0&&(s.complete=Sh);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function IP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Sh(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP=1e3,CP=2,kP=4*60*60*1e3,AP=.5;function Iv(t,e=SP,n=CP){const r=e*Math.pow(n,t),s=Math.round(AP*r*(Math.random()-.5)*2);return Math.min(kP,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(t){return t&&t._delegate?t._delegate:t}class ln{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new dP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NP(e))try{this.getOrInitializeService({instanceIdentifier:xs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xs){return this.instances.has(e)}getOptions(e=xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:PP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xs){return this.component?this.component.multipleInstances?e:xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PP(t){return t===xs?void 0:t}function NP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new RP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var he;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(he||(he={}));const OP={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},DP=he.INFO,LP={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},MP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=LP[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ld{constructor(e){this.name=e,this._logLevel=DP,this._logHandler=MP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}}const FP=(t,e)=>e.some(n=>t instanceof n);let Sv,Cv;function UP(){return Sv||(Sv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VP(){return Cv||(Cv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fb=new WeakMap,Zf=new WeakMap,Ub=new WeakMap,Ch=new WeakMap,Wm=new WeakMap;function $P(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Qr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Fb.set(n,t)}).catch(()=>{}),Wm.set(e,t),e}function BP(t){if(Zf.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Zf.set(t,e)}let ep={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Zf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ub.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function zP(t){ep=t(ep)}function qP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(kh(this),e,...n);return Ub.set(r,e.sort?e.sort():[e]),Qr(r)}:VP().includes(t)?function(...e){return t.apply(kh(this),e),Qr(Fb.get(this))}:function(...e){return Qr(t.apply(kh(this),e))}}function HP(t){return typeof t=="function"?qP(t):(t instanceof IDBTransaction&&BP(t),FP(t,UP())?new Proxy(t,ep):t)}function Qr(t){if(t instanceof IDBRequest)return $P(t);if(Ch.has(t))return Ch.get(t);const e=HP(t);return e!==t&&(Ch.set(t,e),Wm.set(e,t)),e}const kh=t=>Wm.get(t);function Vb(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Qr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Qr(o.result),l.oldVersion,l.newVersion,Qr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const WP=["get","getKey","getAll","getAllKeys","count"],GP=["put","add","delete","clear"],Ah=new Map;function kv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ah.get(e))return Ah.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=GP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||WP.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let d=l.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),s&&l.done]))[0]};return Ah.set(e,i),i}zP(t=>({...t,get:(e,n,r)=>kv(e,n)||t.get(e,n,r),has:(e,n)=>!!kv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(QP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function QP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const tp="@firebase/app",Av="0.10.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr=new ld("@firebase/app"),YP="@firebase/app-compat",JP="@firebase/analytics-compat",XP="@firebase/analytics",ZP="@firebase/app-check-compat",eN="@firebase/app-check",tN="@firebase/auth",nN="@firebase/auth-compat",rN="@firebase/database",sN="@firebase/data-connect",iN="@firebase/database-compat",oN="@firebase/functions",aN="@firebase/functions-compat",lN="@firebase/installations",cN="@firebase/installations-compat",uN="@firebase/messaging",dN="@firebase/messaging-compat",hN="@firebase/performance",fN="@firebase/performance-compat",pN="@firebase/remote-config",mN="@firebase/remote-config-compat",gN="@firebase/storage",yN="@firebase/storage-compat",vN="@firebase/firestore",_N="@firebase/vertexai-preview",xN="@firebase/firestore-compat",wN="firebase",bN="10.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np="[DEFAULT]",EN={[tp]:"fire-core",[YP]:"fire-core-compat",[XP]:"fire-analytics",[JP]:"fire-analytics-compat",[eN]:"fire-app-check",[ZP]:"fire-app-check-compat",[tN]:"fire-auth",[nN]:"fire-auth-compat",[rN]:"fire-rtdb",[sN]:"fire-data-connect",[iN]:"fire-rtdb-compat",[oN]:"fire-fn",[aN]:"fire-fn-compat",[lN]:"fire-iid",[cN]:"fire-iid-compat",[uN]:"fire-fcm",[dN]:"fire-fcm-compat",[hN]:"fire-perf",[fN]:"fire-perf-compat",[pN]:"fire-rc",[mN]:"fire-rc-compat",[gN]:"fire-gcs",[yN]:"fire-gcs-compat",[vN]:"fire-fst",[xN]:"fire-fst-compat",[_N]:"fire-vertex","fire-js":"fire-js",[wN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=new Map,TN=new Map,rp=new Map;function Rv(t,e){try{t.container.addComponent(e)}catch(n){rr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Tn(t){const e=t.name;if(rp.has(e))return rr.debug(`There were multiple attempts to register component ${e}.`),!1;rp.set(e,t);for(const n of yu.values())Rv(n,t);for(const n of TN.values())Rv(n,t);return!0}function xo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Dr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yr=new ri("app","Firebase",IN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ln("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si=bN;function Gm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:np,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Yr.create("bad-app-name",{appName:String(s)});if(n||(n=Nb()),!n)throw Yr.create("no-options");const i=yu.get(s);if(i){if(gu(n,i.options)&&gu(r,i.config))return i;throw Yr.create("duplicate-app",{appName:s})}const o=new jP(s);for(const l of rp.values())o.addComponent(l);const a=new SN(n,r,o);return yu.set(s,a),a}function Km(t=np){const e=yu.get(t);if(!e&&t===np&&Nb())return Gm();if(!e)throw Yr.create("no-app",{appName:t});return e}function Ft(t,e,n){var r;let s=(r=EN[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rr.warn(a.join(" "));return}Tn(new ln(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN="firebase-heartbeat-database",kN=1,Qa="firebase-heartbeat-store";let Rh=null;function $b(){return Rh||(Rh=Vb(CN,kN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Qa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Yr.create("idb-open",{originalErrorMessage:t.message})})),Rh}async function AN(t){try{const n=(await $b()).transaction(Qa),r=await n.objectStore(Qa).get(Bb(t));return await n.done,r}catch(e){if(e instanceof cn)rr.warn(e.message);else{const n=Yr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});rr.warn(n.message)}}}async function Pv(t,e){try{const r=(await $b()).transaction(Qa,"readwrite");await r.objectStore(Qa).put(e,Bb(t)),await r.done}catch(n){if(n instanceof cn)rr.warn(n.message);else{const r=Yr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});rr.warn(r.message)}}}function Bb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=1024,PN=30*24*60*60*1e3;class NN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ON(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Nv();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=PN}),this._storage.overwrite(this._heartbeatsCache))}catch(r){rr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Nv(),{heartbeatsToSend:r,unsentEntries:s}=jN(this._heartbeatsCache.heartbeats),i=mu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return rr.warn(n),""}}}function Nv(){return new Date().toISOString().substring(0,10)}function jN(t,e=RN){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),jv(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),jv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ON{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Lb()?Mb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await AN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Pv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Pv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function jv(t){return mu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(t){Tn(new ln("platform-logger",e=>new KP(e),"PRIVATE")),Tn(new ln("heartbeat",e=>new NN(e),"PRIVATE")),Ft(tp,Av,t),Ft(tp,Av,"esm2017"),Ft("fire-js","")}DN("");function Qm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function zb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LN=zb,qb=new ri("auth","Firebase",zb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu=new ld("@firebase/auth");function MN(t,...e){vu.logLevel<=he.WARN&&vu.warn(`Auth (${si}): ${t}`,...e)}function Pc(t,...e){vu.logLevel<=he.ERROR&&vu.error(`Auth (${si}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(t,...e){throw Ym(t,...e)}function On(t,...e){return Ym(t,...e)}function Hb(t,e,n){const r=Object.assign(Object.assign({},LN()),{[e]:n});return new ri("auth","Firebase",r).create(e,{appName:t.name})}function Rs(t){return Hb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ym(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return qb.create(t,...e)}function se(t,e,...n){if(!t)throw Ym(e,...n)}function Qn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Pc(e),new Error(e)}function ir(t,e){t||Qn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function FN(){return Ov()==="http:"||Ov()==="https:"}function Ov(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FN()||Db()||"connection"in navigator)?navigator.onLine:!0}function VN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,n){this.shortDelay=e,this.longDelay=n,ir(n>e,"Short delay should be less than long delay!"),this.isMobile=hP()||mP()}get(){return UN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(t,e){ir(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=new pl(3e4,6e4);function Xm(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function wo(t,e,n,r,s={}){return Gb(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=fl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:l},i);return pP()||(d.referrerPolicy="no-referrer"),Wb.fetch()(Kb(t,t.config.apiHost,n,a),d)})}async function Gb(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},$N),e);try{const s=new qN(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw uc(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,d]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw uc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw uc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw uc(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Hb(t,h,d);sr(t,h)}}catch(s){if(s instanceof cn)throw s;sr(t,"network-request-failed",{message:String(s)})}}async function zN(t,e,n,r,s={}){const i=await wo(t,e,n,r,s);return"mfaPendingCredential"in i&&sr(t,"multi-factor-auth-required",{_serverResponse:i}),i}function Kb(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Jm(t.config,s):`${t.config.apiScheme}://${s}`}class qN{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(On(this.auth,"network-request-failed")),BN.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function uc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=On(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HN(t,e){return wo(t,"POST","/v1/accounts:delete",e)}async function Qb(t,e){return wo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function WN(t,e=!1){const n=un(t),r=await n.getIdToken(e),s=Zm(r);se(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:xa(Ph(s.auth_time)),issuedAtTime:xa(Ph(s.iat)),expirationTime:xa(Ph(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Ph(t){return Number(t)*1e3}function Zm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Pc("JWT malformed, contained fewer than 3 sections"),null;try{const s=Ab(n);return s?JSON.parse(s):(Pc("Failed to decode base64 JWT payload"),null)}catch(s){return Pc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Dv(t){const e=Zm(t);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ya(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof cn&&GN(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function GN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xa(this.lastLoginAt),this.creationTime=xa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _u(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Ya(t,Qb(n,{idToken:r}));se(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?Yb(i.providerUserInfo):[],a=YN(t.providerData,o),l=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=l?d:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new ip(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function QN(t){const e=un(t);await _u(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function YN(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Yb(t){return t.map(e=>{var{providerId:n}=e,r=Qm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JN(t,e){const n=await Gb(t,{},async()=>{const r=fl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=Kb(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Wb.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function XN(t,e){return wo(t,"POST","/v2/accounts:revokeToken",Xm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Dv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){se(e.length!==0,"internal-error");const n=Dv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await JN(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Bi;return r&&(se(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(se(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(se(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bi,this.toJSON())}_performRefresh(){return Qn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(t,e){se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Yn{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Qm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new KN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ip(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Ya(this,this.stsTokenManager.getToken(this.auth,e));return se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return WN(this,e)}reload(){return QN(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Yn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await _u(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dr(this.auth.app))return Promise.reject(Rs(this.auth));const e=await this.getIdToken();return await Ya(this,HN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,d,h;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(s=n.email)!==null&&s!==void 0?s:void 0,w=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,k=(o=n.photoURL)!==null&&o!==void 0?o:void 0,N=(a=n.tenantId)!==null&&a!==void 0?a:void 0,P=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,A=(d=n.createdAt)!==null&&d!==void 0?d:void 0,E=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:C,emailVerified:j,isAnonymous:U,providerData:L,stsTokenManager:v}=n;se(C&&v,e,"internal-error");const y=Bi.fromJSON(this.name,v);se(typeof C=="string",e,"internal-error"),vr(p,e.name),vr(g,e.name),se(typeof j=="boolean",e,"internal-error"),se(typeof U=="boolean",e,"internal-error"),vr(w,e.name),vr(k,e.name),vr(N,e.name),vr(P,e.name),vr(A,e.name),vr(E,e.name);const x=new Yn({uid:C,auth:e,email:g,emailVerified:j,displayName:p,isAnonymous:U,photoURL:k,phoneNumber:w,tenantId:N,stsTokenManager:y,createdAt:A,lastLoginAt:E});return L&&Array.isArray(L)&&(x.providerData=L.map(R=>Object.assign({},R))),P&&(x._redirectEventId=P),x}static async _fromIdTokenResponse(e,n,r=!1){const s=new Bi;s.updateFromServerResponse(n);const i=new Yn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await _u(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];se(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Yb(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Bi;a.updateFromIdToken(r);const l=new Yn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new ip(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,d),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv=new Map;function Jn(t){ir(t instanceof Function,"Expected a class definition");let e=Lv.get(t);return e?(ir(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Lv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Jb.type="NONE";const Mv=Jb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(t,e,n){return`firebase:${t}:${e}:${n}`}class zi{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Nc(this.userKey,s.apiKey,i),this.fullPersistenceKey=Nc("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Yn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new zi(Jn(Mv),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||Jn(Mv);const o=Nc(r,e.config.apiKey,e.name);let a=null;for(const d of n)try{const h=await d._get(o);if(h){const p=Yn._fromJSON(e,h);d!==i&&(a=p),i=d;break}}catch{}const l=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new zi(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new zi(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Xb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rE(e))return"Blackberry";if(sE(e))return"Webos";if(Zb(e))return"Safari";if((e.includes("chrome/")||eE(e))&&!e.includes("edge/"))return"Chrome";if(nE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Xb(t=_t()){return/firefox\//i.test(t)}function Zb(t=_t()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eE(t=_t()){return/crios\//i.test(t)}function tE(t=_t()){return/iemobile/i.test(t)}function nE(t=_t()){return/android/i.test(t)}function rE(t=_t()){return/blackberry/i.test(t)}function sE(t=_t()){return/webos/i.test(t)}function eg(t=_t()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ZN(t=_t()){var e;return eg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function e4(){return gP()&&document.documentMode===10}function iE(t=_t()){return eg(t)||nE(t)||sE(t)||rE(t)||/windows phone/i.test(t)||tE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(t,e=[]){let n;switch(t){case"Browser":n=Fv(_t());break;case"Worker":n=`${Fv(_t())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${si}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n4(t,e={}){return wo(t,"GET","/v2/passwordPolicy",Xm(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=6;class s4{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:r4,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Uv(this),this.idTokenSubscription=new Uv(this),this.beforeStateQueue=new t4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Jn(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await zi.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Qb(this,{idToken:e}),r=await Yn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Dr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _u(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=VN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dr(this.app))return Promise.reject(Rs(this));const n=e?un(e):null;return n&&se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dr(this.app)?Promise.reject(Rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dr(this.app)?Promise.reject(Rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Jn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await n4(this),n=new s4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ri("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await XN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Jn(e)||this._popupRedirectResolver;se(n,this,"argument-error"),this.redirectPersistenceManager=await zi.create(this,[Jn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&MN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function tg(t){return un(t)}class Uv{constructor(e){this.auth=e,this.observer=null,this.addObserver=EP(n=>this.observer=n)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ng={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function o4(t){ng=t}function a4(t){return ng.loadJS(t)}function l4(){return ng.gapiScript}function c4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(t,e){const n=xo(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(gu(i,e??{}))return s;sr(s,"already-initialized")}return n.initialize({options:e})}function d4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Jn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function h4(t,e,n){const r=tg(t);se(r._canInitEmulator,r,"emulator-config-failed"),se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=aE(e),{host:o,port:a}=f4(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),p4()}function aE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function f4(t){const e=aE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Vv(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Vv(o)}}}function Vv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function p4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qn("not implemented")}_getIdTokenResponse(e){return Qn("not implemented")}_linkToIdToken(e,n){return Qn("not implemented")}_getReauthenticationResolver(e){return Qn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qi(t,e){return zN(t,"POST","/v1/accounts:signInWithIdp",Xm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4="http://localhost";class Bs extends lE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Bs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):sr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Qm(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Bs(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return qi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,qi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,qi(e,n)}buildRequest(){const e={requestUri:m4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml extends cE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends ml{constructor(){super("facebook.com")}static credential(e){return Bs._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kr.credential(e.oauthAccessToken)}catch{return null}}}kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";kr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends ml{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Bs._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ar.credential(n,r)}catch{return null}}}Ar.GOOGLE_SIGN_IN_METHOD="google.com";Ar.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends ml{constructor(){super("github.com")}static credential(e){return Bs._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rr.credential(e.oauthAccessToken)}catch{return null}}}Rr.GITHUB_SIGN_IN_METHOD="github.com";Rr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends ml{constructor(){super("twitter.com")}static credential(e,n){return Bs._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Pr.credential(n,r)}catch{return null}}}Pr.TWITTER_SIGN_IN_METHOD="twitter.com";Pr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Yn._fromIdTokenResponse(e,r,s),o=$v(r);return new so({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=$v(r);return new so({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function $v(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu extends cn{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,xu.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new xu(e,n,r,s)}}function uE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?xu._fromErrorAndOperation(t,i,e,r):i})}async function g4(t,e,n=!1){const r=await Ya(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return so._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y4(t,e,n=!1){const{auth:r}=t;if(Dr(r.app))return Promise.reject(Rs(r));const s="reauthenticate";try{const i=await Ya(t,uE(r,s,e,t),n);se(i.idToken,r,"internal-error");const o=Zm(i.idToken);se(o,r,"internal-error");const{sub:a}=o;return se(t.uid===a,r,"user-mismatch"),so._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&sr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v4(t,e,n=!1){if(Dr(t.app))return Promise.reject(Rs(t));const r="signIn",s=await uE(t,r,e),i=await so._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function _4(t,e,n,r){return un(t).onIdTokenChanged(e,n,r)}function x4(t,e,n){return un(t).beforeAuthStateChanged(e,n)}function w4(t,e,n,r){return un(t).onAuthStateChanged(e,n,r)}const wu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wu,"1"),this.storage.removeItem(wu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4=1e3,E4=10;class hE extends dE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);e4()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,E4):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},b4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}hE.type="LOCAL";const T4=hE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE extends dE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}fE.type="SESSION";const pE=fE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new cd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async d=>d(n.origin,i)),l=await I4(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const d=rg("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(p){const g=p;if(g.data.eventId===d)switch(g.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(g.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(){return window}function C4(t){Dn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(){return typeof Dn().WorkerGlobalScope<"u"&&typeof Dn().importScripts=="function"}async function k4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function A4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function R4(){return mE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="firebaseLocalStorageDb",P4=1,bu="firebaseLocalStorage",yE="fbase_key";class gl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ud(t,e){return t.transaction([bu],e?"readwrite":"readonly").objectStore(bu)}function N4(){const t=indexedDB.deleteDatabase(gE);return new gl(t).toPromise()}function op(){const t=indexedDB.open(gE,P4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(bu,{keyPath:yE})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(bu)?e(r):(r.close(),await N4(),e(await op()))})})}async function Bv(t,e,n){const r=ud(t,!0).put({[yE]:e,value:n});return new gl(r).toPromise()}async function j4(t,e){const n=ud(t,!1).get(e),r=await new gl(n).toPromise();return r===void 0?null:r.value}function zv(t,e){const n=ud(t,!0).delete(e);return new gl(n).toPromise()}const O4=800,D4=3;class vE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await op(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>D4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cd._getInstance(R4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await k4(),!this.activeServiceWorker)return;this.sender=new S4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||A4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await op();return await Bv(e,wu,"1"),await zv(e,wu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Bv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>j4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>zv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=ud(s,!1).getAll();return new gl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),O4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vE.type="LOCAL";const L4=vE;new pl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M4(t,e){return e?Jn(e):(se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg extends lE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return qi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return qi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function F4(t){return v4(t.auth,new sg(t),t.bypassAuthState)}function U4(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),y4(n,new sg(t),t.bypassAuthState)}async function V4(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),g4(n,new sg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return F4;case"linkViaPopup":case"linkViaRedirect":return V4;case"reauthViaPopup":case"reauthViaRedirect":return U4;default:sr(this.auth,"internal-error")}}resolve(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4=new pl(2e3,1e4);class Ni extends _E{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ni.currentPopupAction&&Ni.currentPopupAction.cancel(),Ni.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return se(e,this.auth,"internal-error"),e}async onExecution(){ir(this.filter.length===1,"Popup operations only handle one event");const e=rg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(On(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(On(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ni.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(On(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$4.get())};e()}}Ni.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4="pendingRedirect",jc=new Map;class z4 extends _E{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=jc.get(this.auth._key());if(!e){try{const r=await q4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}jc.set(this.auth._key(),e)}return this.bypassAuthState||jc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function q4(t,e){const n=G4(e),r=W4(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function H4(t,e){jc.set(t._key(),e)}function W4(t){return Jn(t._redirectPersistence)}function G4(t){return Nc(B4,t.config.apiKey,t.name)}async function K4(t,e,n=!1){if(Dr(t.app))return Promise.reject(Rs(t));const r=tg(t),s=M4(r,e),o=await new z4(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4=10*60*1e3;class Y4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!J4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!xE(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(On(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Q4&&this.cachedEventUids.clear(),this.cachedEventUids.has(qv(e))}saveEventToCache(e){this.cachedEventUids.add(qv(e)),this.lastProcessedEventTime=Date.now()}}function qv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function xE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function J4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X4(t,e={}){return wo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,e3=/^https?/;async function t3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await X4(t);for(const n of e)try{if(n3(n))return}catch{}sr(t,"unauthorized-domain")}function n3(t){const e=sp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!e3.test(n))return!1;if(Z4.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3=new pl(3e4,6e4);function Hv(){const t=Dn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function s3(t){return new Promise((e,n)=>{var r,s,i;function o(){Hv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Hv(),n(On(t,"network-request-failed"))},timeout:r3.get()})}if(!((s=(r=Dn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Dn().gapi)===null||i===void 0)&&i.load)o();else{const a=c4("iframefcb");return Dn()[a]=()=>{gapi.load?o():n(On(t,"network-request-failed"))},a4(`${l4()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Oc=null,e})}let Oc=null;function i3(t){return Oc=Oc||s3(t),Oc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3=new pl(5e3,15e3),a3="__/auth/iframe",l3="emulator/auth/iframe",c3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},u3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function d3(t){const e=t.config;se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Jm(e,l3):`https://${t.config.authDomain}/${a3}`,r={apiKey:e.apiKey,appName:t.name,v:si},s=u3.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${fl(r).slice(1)}`}async function h3(t){const e=await i3(t),n=Dn().gapi;return se(n,t,"internal-error"),e.open({where:document.body,url:d3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:c3,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=On(t,"network-request-failed"),a=Dn().setTimeout(()=>{i(o)},o3.get());function l(){Dn().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},p3=500,m3=600,g3="_blank",y3="http://localhost";class Wv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function v3(t,e,n,r=p3,s=m3){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},f3),{width:r.toString(),height:s.toString(),top:i,left:o}),d=_t().toLowerCase();n&&(a=eE(d)?g3:n),Xb(d)&&(e=e||y3,l.scrollbars="yes");const h=Object.entries(l).reduce((g,[w,k])=>`${g}${w}=${k},`,"");if(ZN(d)&&a!=="_self")return _3(e||"",a),new Wv(null);const p=window.open(e||"",a,h);se(p,t,"popup-blocked");try{p.focus()}catch{}return new Wv(p)}function _3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3="__/auth/handler",w3="emulator/auth/handler",b3=encodeURIComponent("fac");async function Gv(t,e,n,r,s,i){se(t.config.authDomain,t,"auth-domain-config-required"),se(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:si,eventId:s};if(e instanceof cE){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",bP(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))o[h]=p}if(e instanceof ml){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),d=l?`#${b3}=${encodeURIComponent(l)}`:"";return`${E3(t)}?${fl(a).slice(1)}${d}`}function E3({config:t}){return t.emulator?Jm(t,w3):`https://${t.authDomain}/${x3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh="webStorageSupport";class T3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pE,this._completeRedirectFn=K4,this._overrideRedirectResult=H4}async _openPopup(e,n,r,s){var i;ir((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Gv(e,n,r,sp(),s);return v3(e,o,rg())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Gv(e,n,r,sp(),s);return C4(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ir(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await h3(e),r=new Y4(e);return n.register("authEvent",s=>(se(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Nh,{type:Nh},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Nh];o!==void 0&&n(!!o),sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=t3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return iE()||Zb()||eg()}}const I3=T3;var Kv="@firebase/auth",Qv="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function k3(t){Tn(new ln("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;se(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oE(t)},d=new i4(r,s,i,l);return d4(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Tn(new ln("auth-internal",e=>{const n=tg(e.getProvider("auth").getImmediate());return(r=>new S3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ft(Kv,Qv,C3(t)),Ft(Kv,Qv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3=5*60,R3=jb("authIdTokenMaxAge")||A3;let Yv=null;const P3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>R3)return;const s=n==null?void 0:n.token;Yv!==s&&(Yv=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function ig(t=Km()){const e=xo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=u4(t,{popupRedirectResolver:I3,persistence:[L4,T4,pE]}),r=jb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=P3(i.toString());x4(n,o,()=>o(n.currentUser)),_4(n,a=>o(a))}}const s=Rb("auth");return s&&h4(n,`http://${s}`),n}function N3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}o4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=On("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",N3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});k3("Browser");var j3="firebase",O3="10.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ft(j3,O3,"app");var Jv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ps,wE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(v,y){function x(){}x.prototype=y.prototype,v.D=y.prototype,v.prototype=new x,v.prototype.constructor=v,v.C=function(R,b,I){for(var _=Array(arguments.length-2),D=2;D<arguments.length;D++)_[D-2]=arguments[D];return y.prototype[b].apply(R,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(v,y,x){x||(x=0);var R=Array(16);if(typeof y=="string")for(var b=0;16>b;++b)R[b]=y.charCodeAt(x++)|y.charCodeAt(x++)<<8|y.charCodeAt(x++)<<16|y.charCodeAt(x++)<<24;else for(b=0;16>b;++b)R[b]=y[x++]|y[x++]<<8|y[x++]<<16|y[x++]<<24;y=v.g[0],x=v.g[1],b=v.g[2];var I=v.g[3],_=y+(I^x&(b^I))+R[0]+3614090360&4294967295;y=x+(_<<7&4294967295|_>>>25),_=I+(b^y&(x^b))+R[1]+3905402710&4294967295,I=y+(_<<12&4294967295|_>>>20),_=b+(x^I&(y^x))+R[2]+606105819&4294967295,b=I+(_<<17&4294967295|_>>>15),_=x+(y^b&(I^y))+R[3]+3250441966&4294967295,x=b+(_<<22&4294967295|_>>>10),_=y+(I^x&(b^I))+R[4]+4118548399&4294967295,y=x+(_<<7&4294967295|_>>>25),_=I+(b^y&(x^b))+R[5]+1200080426&4294967295,I=y+(_<<12&4294967295|_>>>20),_=b+(x^I&(y^x))+R[6]+2821735955&4294967295,b=I+(_<<17&4294967295|_>>>15),_=x+(y^b&(I^y))+R[7]+4249261313&4294967295,x=b+(_<<22&4294967295|_>>>10),_=y+(I^x&(b^I))+R[8]+1770035416&4294967295,y=x+(_<<7&4294967295|_>>>25),_=I+(b^y&(x^b))+R[9]+2336552879&4294967295,I=y+(_<<12&4294967295|_>>>20),_=b+(x^I&(y^x))+R[10]+4294925233&4294967295,b=I+(_<<17&4294967295|_>>>15),_=x+(y^b&(I^y))+R[11]+2304563134&4294967295,x=b+(_<<22&4294967295|_>>>10),_=y+(I^x&(b^I))+R[12]+1804603682&4294967295,y=x+(_<<7&4294967295|_>>>25),_=I+(b^y&(x^b))+R[13]+4254626195&4294967295,I=y+(_<<12&4294967295|_>>>20),_=b+(x^I&(y^x))+R[14]+2792965006&4294967295,b=I+(_<<17&4294967295|_>>>15),_=x+(y^b&(I^y))+R[15]+1236535329&4294967295,x=b+(_<<22&4294967295|_>>>10),_=y+(b^I&(x^b))+R[1]+4129170786&4294967295,y=x+(_<<5&4294967295|_>>>27),_=I+(x^b&(y^x))+R[6]+3225465664&4294967295,I=y+(_<<9&4294967295|_>>>23),_=b+(y^x&(I^y))+R[11]+643717713&4294967295,b=I+(_<<14&4294967295|_>>>18),_=x+(I^y&(b^I))+R[0]+3921069994&4294967295,x=b+(_<<20&4294967295|_>>>12),_=y+(b^I&(x^b))+R[5]+3593408605&4294967295,y=x+(_<<5&4294967295|_>>>27),_=I+(x^b&(y^x))+R[10]+38016083&4294967295,I=y+(_<<9&4294967295|_>>>23),_=b+(y^x&(I^y))+R[15]+3634488961&4294967295,b=I+(_<<14&4294967295|_>>>18),_=x+(I^y&(b^I))+R[4]+3889429448&4294967295,x=b+(_<<20&4294967295|_>>>12),_=y+(b^I&(x^b))+R[9]+568446438&4294967295,y=x+(_<<5&4294967295|_>>>27),_=I+(x^b&(y^x))+R[14]+3275163606&4294967295,I=y+(_<<9&4294967295|_>>>23),_=b+(y^x&(I^y))+R[3]+4107603335&4294967295,b=I+(_<<14&4294967295|_>>>18),_=x+(I^y&(b^I))+R[8]+1163531501&4294967295,x=b+(_<<20&4294967295|_>>>12),_=y+(b^I&(x^b))+R[13]+2850285829&4294967295,y=x+(_<<5&4294967295|_>>>27),_=I+(x^b&(y^x))+R[2]+4243563512&4294967295,I=y+(_<<9&4294967295|_>>>23),_=b+(y^x&(I^y))+R[7]+1735328473&4294967295,b=I+(_<<14&4294967295|_>>>18),_=x+(I^y&(b^I))+R[12]+2368359562&4294967295,x=b+(_<<20&4294967295|_>>>12),_=y+(x^b^I)+R[5]+4294588738&4294967295,y=x+(_<<4&4294967295|_>>>28),_=I+(y^x^b)+R[8]+2272392833&4294967295,I=y+(_<<11&4294967295|_>>>21),_=b+(I^y^x)+R[11]+1839030562&4294967295,b=I+(_<<16&4294967295|_>>>16),_=x+(b^I^y)+R[14]+4259657740&4294967295,x=b+(_<<23&4294967295|_>>>9),_=y+(x^b^I)+R[1]+2763975236&4294967295,y=x+(_<<4&4294967295|_>>>28),_=I+(y^x^b)+R[4]+1272893353&4294967295,I=y+(_<<11&4294967295|_>>>21),_=b+(I^y^x)+R[7]+4139469664&4294967295,b=I+(_<<16&4294967295|_>>>16),_=x+(b^I^y)+R[10]+3200236656&4294967295,x=b+(_<<23&4294967295|_>>>9),_=y+(x^b^I)+R[13]+681279174&4294967295,y=x+(_<<4&4294967295|_>>>28),_=I+(y^x^b)+R[0]+3936430074&4294967295,I=y+(_<<11&4294967295|_>>>21),_=b+(I^y^x)+R[3]+3572445317&4294967295,b=I+(_<<16&4294967295|_>>>16),_=x+(b^I^y)+R[6]+76029189&4294967295,x=b+(_<<23&4294967295|_>>>9),_=y+(x^b^I)+R[9]+3654602809&4294967295,y=x+(_<<4&4294967295|_>>>28),_=I+(y^x^b)+R[12]+3873151461&4294967295,I=y+(_<<11&4294967295|_>>>21),_=b+(I^y^x)+R[15]+530742520&4294967295,b=I+(_<<16&4294967295|_>>>16),_=x+(b^I^y)+R[2]+3299628645&4294967295,x=b+(_<<23&4294967295|_>>>9),_=y+(b^(x|~I))+R[0]+4096336452&4294967295,y=x+(_<<6&4294967295|_>>>26),_=I+(x^(y|~b))+R[7]+1126891415&4294967295,I=y+(_<<10&4294967295|_>>>22),_=b+(y^(I|~x))+R[14]+2878612391&4294967295,b=I+(_<<15&4294967295|_>>>17),_=x+(I^(b|~y))+R[5]+4237533241&4294967295,x=b+(_<<21&4294967295|_>>>11),_=y+(b^(x|~I))+R[12]+1700485571&4294967295,y=x+(_<<6&4294967295|_>>>26),_=I+(x^(y|~b))+R[3]+2399980690&4294967295,I=y+(_<<10&4294967295|_>>>22),_=b+(y^(I|~x))+R[10]+4293915773&4294967295,b=I+(_<<15&4294967295|_>>>17),_=x+(I^(b|~y))+R[1]+2240044497&4294967295,x=b+(_<<21&4294967295|_>>>11),_=y+(b^(x|~I))+R[8]+1873313359&4294967295,y=x+(_<<6&4294967295|_>>>26),_=I+(x^(y|~b))+R[15]+4264355552&4294967295,I=y+(_<<10&4294967295|_>>>22),_=b+(y^(I|~x))+R[6]+2734768916&4294967295,b=I+(_<<15&4294967295|_>>>17),_=x+(I^(b|~y))+R[13]+1309151649&4294967295,x=b+(_<<21&4294967295|_>>>11),_=y+(b^(x|~I))+R[4]+4149444226&4294967295,y=x+(_<<6&4294967295|_>>>26),_=I+(x^(y|~b))+R[11]+3174756917&4294967295,I=y+(_<<10&4294967295|_>>>22),_=b+(y^(I|~x))+R[2]+718787259&4294967295,b=I+(_<<15&4294967295|_>>>17),_=x+(I^(b|~y))+R[9]+3951481745&4294967295,v.g[0]=v.g[0]+y&4294967295,v.g[1]=v.g[1]+(b+(_<<21&4294967295|_>>>11))&4294967295,v.g[2]=v.g[2]+b&4294967295,v.g[3]=v.g[3]+I&4294967295}r.prototype.u=function(v,y){y===void 0&&(y=v.length);for(var x=y-this.blockSize,R=this.B,b=this.h,I=0;I<y;){if(b==0)for(;I<=x;)s(this,v,I),I+=this.blockSize;if(typeof v=="string"){for(;I<y;)if(R[b++]=v.charCodeAt(I++),b==this.blockSize){s(this,R),b=0;break}}else for(;I<y;)if(R[b++]=v[I++],b==this.blockSize){s(this,R),b=0;break}}this.h=b,this.o+=y},r.prototype.v=function(){var v=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);v[0]=128;for(var y=1;y<v.length-8;++y)v[y]=0;var x=8*this.o;for(y=v.length-8;y<v.length;++y)v[y]=x&255,x/=256;for(this.u(v),v=Array(16),y=x=0;4>y;++y)for(var R=0;32>R;R+=8)v[x++]=this.g[y]>>>R&255;return v};function i(v,y){var x=a;return Object.prototype.hasOwnProperty.call(x,v)?x[v]:x[v]=y(v)}function o(v,y){this.h=y;for(var x=[],R=!0,b=v.length-1;0<=b;b--){var I=v[b]|0;R&&I==y||(x[b]=I,R=!1)}this.g=x}var a={};function l(v){return-128<=v&&128>v?i(v,function(y){return new o([y|0],0>y?-1:0)}):new o([v|0],0>v?-1:0)}function d(v){if(isNaN(v)||!isFinite(v))return p;if(0>v)return P(d(-v));for(var y=[],x=1,R=0;v>=x;R++)y[R]=v/x|0,x*=4294967296;return new o(y,0)}function h(v,y){if(v.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(v.charAt(0)=="-")return P(h(v.substring(1),y));if(0<=v.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=d(Math.pow(y,8)),R=p,b=0;b<v.length;b+=8){var I=Math.min(8,v.length-b),_=parseInt(v.substring(b,b+I),y);8>I?(I=d(Math.pow(y,I)),R=R.j(I).add(d(_))):(R=R.j(x),R=R.add(d(_)))}return R}var p=l(0),g=l(1),w=l(16777216);t=o.prototype,t.m=function(){if(N(this))return-P(this).m();for(var v=0,y=1,x=0;x<this.g.length;x++){var R=this.i(x);v+=(0<=R?R:4294967296+R)*y,y*=4294967296}return v},t.toString=function(v){if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(k(this))return"0";if(N(this))return"-"+P(this).toString(v);for(var y=d(Math.pow(v,6)),x=this,R="";;){var b=j(x,y).g;x=A(x,b.j(y));var I=((0<x.g.length?x.g[0]:x.h)>>>0).toString(v);if(x=b,k(x))return I+R;for(;6>I.length;)I="0"+I;R=I+R}},t.i=function(v){return 0>v?0:v<this.g.length?this.g[v]:this.h};function k(v){if(v.h!=0)return!1;for(var y=0;y<v.g.length;y++)if(v.g[y]!=0)return!1;return!0}function N(v){return v.h==-1}t.l=function(v){return v=A(this,v),N(v)?-1:k(v)?0:1};function P(v){for(var y=v.g.length,x=[],R=0;R<y;R++)x[R]=~v.g[R];return new o(x,~v.h).add(g)}t.abs=function(){return N(this)?P(this):this},t.add=function(v){for(var y=Math.max(this.g.length,v.g.length),x=[],R=0,b=0;b<=y;b++){var I=R+(this.i(b)&65535)+(v.i(b)&65535),_=(I>>>16)+(this.i(b)>>>16)+(v.i(b)>>>16);R=_>>>16,I&=65535,_&=65535,x[b]=_<<16|I}return new o(x,x[x.length-1]&-2147483648?-1:0)};function A(v,y){return v.add(P(y))}t.j=function(v){if(k(this)||k(v))return p;if(N(this))return N(v)?P(this).j(P(v)):P(P(this).j(v));if(N(v))return P(this.j(P(v)));if(0>this.l(w)&&0>v.l(w))return d(this.m()*v.m());for(var y=this.g.length+v.g.length,x=[],R=0;R<2*y;R++)x[R]=0;for(R=0;R<this.g.length;R++)for(var b=0;b<v.g.length;b++){var I=this.i(R)>>>16,_=this.i(R)&65535,D=v.i(b)>>>16,T=v.i(b)&65535;x[2*R+2*b]+=_*T,E(x,2*R+2*b),x[2*R+2*b+1]+=I*T,E(x,2*R+2*b+1),x[2*R+2*b+1]+=_*D,E(x,2*R+2*b+1),x[2*R+2*b+2]+=I*D,E(x,2*R+2*b+2)}for(R=0;R<y;R++)x[R]=x[2*R+1]<<16|x[2*R];for(R=y;R<2*y;R++)x[R]=0;return new o(x,0)};function E(v,y){for(;(v[y]&65535)!=v[y];)v[y+1]+=v[y]>>>16,v[y]&=65535,y++}function C(v,y){this.g=v,this.h=y}function j(v,y){if(k(y))throw Error("division by zero");if(k(v))return new C(p,p);if(N(v))return y=j(P(v),y),new C(P(y.g),P(y.h));if(N(y))return y=j(v,P(y)),new C(P(y.g),y.h);if(30<v.g.length){if(N(v)||N(y))throw Error("slowDivide_ only works with positive integers.");for(var x=g,R=y;0>=R.l(v);)x=U(x),R=U(R);var b=L(x,1),I=L(R,1);for(R=L(R,2),x=L(x,2);!k(R);){var _=I.add(R);0>=_.l(v)&&(b=b.add(x),I=_),R=L(R,1),x=L(x,1)}return y=A(v,b.j(y)),new C(b,y)}for(b=p;0<=v.l(y);){for(x=Math.max(1,Math.floor(v.m()/y.m())),R=Math.ceil(Math.log(x)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),I=d(x),_=I.j(y);N(_)||0<_.l(v);)x-=R,I=d(x),_=I.j(y);k(I)&&(I=g),b=b.add(I),v=A(v,_)}return new C(b,v)}t.A=function(v){return j(this,v).h},t.and=function(v){for(var y=Math.max(this.g.length,v.g.length),x=[],R=0;R<y;R++)x[R]=this.i(R)&v.i(R);return new o(x,this.h&v.h)},t.or=function(v){for(var y=Math.max(this.g.length,v.g.length),x=[],R=0;R<y;R++)x[R]=this.i(R)|v.i(R);return new o(x,this.h|v.h)},t.xor=function(v){for(var y=Math.max(this.g.length,v.g.length),x=[],R=0;R<y;R++)x[R]=this.i(R)^v.i(R);return new o(x,this.h^v.h)};function U(v){for(var y=v.g.length+1,x=[],R=0;R<y;R++)x[R]=v.i(R)<<1|v.i(R-1)>>>31;return new o(x,v.h)}function L(v,y){var x=y>>5;y%=32;for(var R=v.g.length-x,b=[],I=0;I<R;I++)b[I]=0<y?v.i(I+x)>>>y|v.i(I+x+1)<<32-y:v.i(I+x);return new o(b,v.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,wE=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,Ps=o}).apply(typeof Jv<"u"?Jv:typeof self<"u"?self:typeof window<"u"?window:{});var dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bE,ra,EE,Dc,ap,TE,IE,SE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,f,m){return c==Array.prototype||c==Object.prototype||(c[f]=m.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof dc=="object"&&dc];for(var f=0;f<c.length;++f){var m=c[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function s(c,f){if(f)e:{var m=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var F=c[S];if(!(F in m))break e;m=m[F]}c=c[c.length-1],S=m[c],f=f(S),f!=S&&f!=null&&e(m,c,{configurable:!0,writable:!0,value:f})}}function i(c,f){c instanceof String&&(c+="");var m=0,S=!1,F={next:function(){if(!S&&m<c.length){var B=m++;return{value:f(B,c[B]),done:!1}}return S=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}s("Array.prototype.values",function(c){return c||function(){return i(this,function(f,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var f=typeof c;return f=f!="object"?f:c?Array.isArray(c)?"array":f:"null",f=="array"||f=="object"&&typeof c.length=="number"}function d(c){var f=typeof c;return f=="object"&&c!=null||f=="function"}function h(c,f,m){return c.call.apply(c.bind,arguments)}function p(c,f,m){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,S),c.apply(f,F)}}return function(){return c.apply(f,arguments)}}function g(c,f,m){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function w(c,f){var m=Array.prototype.slice.call(arguments,1);return function(){var S=m.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function k(c,f){function m(){}m.prototype=f.prototype,c.aa=f.prototype,c.prototype=new m,c.prototype.constructor=c,c.Qb=function(S,F,B){for(var G=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)G[Te-2]=arguments[Te];return f.prototype[F].apply(S,G)}}function N(c){const f=c.length;if(0<f){const m=Array(f);for(let S=0;S<f;S++)m[S]=c[S];return m}return[]}function P(c,f){for(let m=1;m<arguments.length;m++){const S=arguments[m];if(l(S)){const F=c.length||0,B=S.length||0;c.length=F+B;for(let G=0;G<B;G++)c[F+G]=S[G]}else c.push(S)}}class A{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function E(c){return/^[\s\xa0]*$/.test(c)}function C(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function j(c){return j[" "](c),c}j[" "]=function(){};var U=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function L(c,f,m){for(const S in c)f.call(m,c[S],S,c)}function v(c,f){for(const m in c)f.call(void 0,c[m],m,c)}function y(c){const f={};for(const m in c)f[m]=c[m];return f}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(c,f){let m,S;for(let F=1;F<arguments.length;F++){S=arguments[F];for(m in S)c[m]=S[m];for(let B=0;B<x.length;B++)m=x[B],Object.prototype.hasOwnProperty.call(S,m)&&(c[m]=S[m])}}function b(c){var f=1;c=c.split(":");const m=[];for(;0<f&&c.length;)m.push(c.shift()),f--;return c.length&&m.push(c.join(":")),m}function I(c){a.setTimeout(()=>{throw c},0)}function _(){var c=z;let f=null;return c.g&&(f=c.g,c.g=c.g.next,c.g||(c.h=null),f.next=null),f}class D{constructor(){this.h=this.g=null}add(f,m){const S=T.get();S.set(f,m),this.h?this.h.next=S:this.g=S,this.h=S}}var T=new A(()=>new M,c=>c.reset());class M{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let $,V=!1,z=new D,H=()=>{const c=a.Promise.resolve(void 0);$=()=>{c.then(Q)}};var Q=()=>{for(var c;c=_();){try{c.h.call(c.g)}catch(m){I(m)}var f=T;f.j(c),100>f.h&&(f.h++,c.next=f.g,f.g=c)}V=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(c,f){this.type=c,this.g=this.target=f,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var we=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,f=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const m=()=>{};a.addEventListener("test",m,f),a.removeEventListener("test",m,f)}catch{}return c}();function be(c,f){if(te.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var m=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=f,f=c.relatedTarget){if(U){e:{try{j(f.nodeName);var F=!0;break e}catch{}F=!1}F||(f=null)}}else m=="mouseover"?f=c.fromElement:m=="mouseout"&&(f=c.toElement);this.relatedTarget=f,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:le[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&be.aa.h.call(this)}}k(be,te);var le={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var et="closure_listenable_"+(1e6*Math.random()|0),So=0;function El(c,f,m,S,F){this.listener=c,this.proxy=null,this.src=f,this.type=m,this.capture=!!S,this.ha=F,this.key=++So,this.da=this.fa=!1}function ii(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Bn(c){this.src=c,this.g={},this.h=0}Bn.prototype.add=function(c,f,m,S,F){var B=c.toString();c=this.g[B],c||(c=this.g[B]=[],this.h++);var G=re(c,f,S,F);return-1<G?(f=c[G],m||(f.fa=!1)):(f=new El(f,this.src,B,!!S,F),f.fa=m,c.push(f)),f};function cs(c,f){var m=f.type;if(m in c.g){var S=c.g[m],F=Array.prototype.indexOf.call(S,f,void 0),B;(B=0<=F)&&Array.prototype.splice.call(S,F,1),B&&(ii(f),c.g[m].length==0&&(delete c.g[m],c.h--))}}function re(c,f,m,S){for(var F=0;F<c.length;++F){var B=c[F];if(!B.da&&B.listener==f&&B.capture==!!m&&B.ha==S)return F}return-1}var xt="closure_lm_"+(1e6*Math.random()|0),dn={};function dr(c,f,m,S,F){if(Array.isArray(f)){for(var B=0;B<f.length;B++)dr(c,f[B],m,S,F);return null}return m=Co(m),c&&c[et]?c.K(f,m,d(S)?!!S.capture:!!S,F):us(c,f,m,!1,S,F)}function us(c,f,m,S,F,B){if(!f)throw Error("Invalid event type");var G=d(F)?!!F.capture:!!F,Te=ai(c);if(Te||(c[xt]=Te=new Bn(c)),m=Te.add(f,m,S,G,B),m.proxy)return m;if(S=Tl(),m.proxy=S,S.src=c,S.listener=m,c.addEventListener)we||(F=G),F===void 0&&(F=!1),c.addEventListener(f.toString(),S,F);else if(c.attachEvent)c.attachEvent(ds(f.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Tl(){function c(m){return f.call(c.src,c.listener,m)}const f=Il;return c}function hr(c,f,m,S,F){if(Array.isArray(f))for(var B=0;B<f.length;B++)hr(c,f[B],m,S,F);else S=d(S)?!!S.capture:!!S,m=Co(m),c&&c[et]?(c=c.i,f=String(f).toString(),f in c.g&&(B=c.g[f],m=re(B,m,S,F),-1<m&&(ii(B[m]),Array.prototype.splice.call(B,m,1),B.length==0&&(delete c.g[f],c.h--)))):c&&(c=ai(c))&&(f=c.g[f.toString()],c=-1,f&&(c=re(f,m,S,F)),(m=-1<c?f[c]:null)&&oi(m))}function oi(c){if(typeof c!="number"&&c&&!c.da){var f=c.src;if(f&&f[et])cs(f.i,c);else{var m=c.type,S=c.proxy;f.removeEventListener?f.removeEventListener(m,S,c.capture):f.detachEvent?f.detachEvent(ds(m),S):f.addListener&&f.removeListener&&f.removeListener(S),(m=ai(f))?(cs(m,c),m.h==0&&(m.src=null,f[xt]=null)):ii(c)}}}function ds(c){return c in dn?dn[c]:dn[c]="on"+c}function Il(c,f){if(c.da)c=!0;else{f=new be(f,this);var m=c.listener,S=c.ha||c.src;c.fa&&oi(c),c=m.call(S,f)}return c}function ai(c){return c=c[xt],c instanceof Bn?c:null}var fr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Co(c){return typeof c=="function"?c:(c[fr]||(c[fr]=function(f){return c.handleEvent(f)}),c[fr])}function ct(){J.call(this),this.i=new Bn(this),this.M=this,this.F=null}k(ct,J),ct.prototype[et]=!0,ct.prototype.removeEventListener=function(c,f,m,S){hr(this,c,f,m,S)};function wt(c,f){var m,S=c.F;if(S)for(m=[];S;S=S.F)m.push(S);if(c=c.M,S=f.type||f,typeof f=="string")f=new te(f,c);else if(f instanceof te)f.target=f.target||c;else{var F=f;f=new te(S,c),R(f,F)}if(F=!0,m)for(var B=m.length-1;0<=B;B--){var G=f.g=m[B];F=Sl(G,S,!0,f)&&F}if(G=f.g=c,F=Sl(G,S,!0,f)&&F,F=Sl(G,S,!1,f)&&F,m)for(B=0;B<m.length;B++)G=f.g=m[B],F=Sl(G,S,!1,f)&&F}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var c=this.i,f;for(f in c.g){for(var m=c.g[f],S=0;S<m.length;S++)ii(m[S]);delete c.g[f],c.h--}}this.F=null},ct.prototype.K=function(c,f,m,S){return this.i.add(String(c),f,!1,m,S)},ct.prototype.L=function(c,f,m,S){return this.i.add(String(c),f,!0,m,S)};function Sl(c,f,m,S){if(f=c.i.g[String(f)],!f)return!0;f=f.concat();for(var F=!0,B=0;B<f.length;++B){var G=f[B];if(G&&!G.da&&G.capture==m){var Te=G.listener,tt=G.ha||G.src;G.fa&&cs(c.i,G),F=Te.call(tt,S)!==!1&&F}}return F&&!S.defaultPrevented}function Kg(c,f,m){if(typeof c=="function")m&&(c=g(c,m));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(c,f||0)}function Qg(c){c.g=Kg(()=>{c.g=null,c.i&&(c.i=!1,Qg(c))},c.l);const f=c.h;c.h=null,c.m.apply(null,f)}class qT extends J{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Qg(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ko(c){J.call(this),this.h=c,this.g={}}k(ko,J);var Yg=[];function Jg(c){L(c.g,function(f,m){this.g.hasOwnProperty(m)&&oi(f)},c),c.g={}}ko.prototype.N=function(){ko.aa.N.call(this),Jg(this)},ko.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pd=a.JSON.stringify,HT=a.JSON.parse,WT=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Nd(){}Nd.prototype.h=null;function Xg(c){return c.h||(c.h=c.i())}function Zg(){}var Ao={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jd(){te.call(this,"d")}k(jd,te);function Od(){te.call(this,"c")}k(Od,te);var hs={},e0=null;function Cl(){return e0=e0||new ct}hs.La="serverreachability";function t0(c){te.call(this,hs.La,c)}k(t0,te);function Ro(c){const f=Cl();wt(f,new t0(f))}hs.STAT_EVENT="statevent";function n0(c,f){te.call(this,hs.STAT_EVENT,c),this.stat=f}k(n0,te);function bt(c){const f=Cl();wt(f,new n0(f,c))}hs.Ma="timingevent";function r0(c,f){te.call(this,hs.Ma,c),this.size=f}k(r0,te);function Po(c,f){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},f)}function No(){this.g=!0}No.prototype.xa=function(){this.g=!1};function GT(c,f,m,S,F,B){c.info(function(){if(c.g)if(B)for(var G="",Te=B.split("&"),tt=0;tt<Te.length;tt++){var ye=Te[tt].split("=");if(1<ye.length){var ut=ye[0];ye=ye[1];var dt=ut.split("_");G=2<=dt.length&&dt[1]=="type"?G+(ut+"="+ye+"&"):G+(ut+"=redacted&")}}else G=null;else G=B;return"XMLHTTP REQ ("+S+") [attempt "+F+"]: "+f+`
`+m+`
`+G})}function KT(c,f,m,S,F,B,G){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+F+"]: "+f+`
`+m+`
`+B+" "+G})}function li(c,f,m,S){c.info(function(){return"XMLHTTP TEXT ("+f+"): "+YT(c,m)+(S?" "+S:"")})}function QT(c,f){c.info(function(){return"TIMEOUT: "+f})}No.prototype.info=function(){};function YT(c,f){if(!c.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(c=0;c<m.length;c++)if(Array.isArray(m[c])){var S=m[c];if(!(2>S.length)){var F=S[1];if(Array.isArray(F)&&!(1>F.length)){var B=F[0];if(B!="noop"&&B!="stop"&&B!="close")for(var G=1;G<F.length;G++)F[G]=""}}}}return Pd(m)}catch{return f}}var kl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},s0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Dd;function Al(){}k(Al,Nd),Al.prototype.g=function(){return new XMLHttpRequest},Al.prototype.i=function(){return{}},Dd=new Al;function pr(c,f,m,S){this.j=c,this.i=f,this.l=m,this.R=S||1,this.U=new ko(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new i0}function i0(){this.i=null,this.g="",this.h=!1}var o0={},Ld={};function Md(c,f,m){c.L=1,c.v=jl(zn(f)),c.m=m,c.P=!0,a0(c,null)}function a0(c,f){c.F=Date.now(),Rl(c),c.A=zn(c.v);var m=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),w0(m.i,"t",S),c.C=0,m=c.j.J,c.h=new i0,c.g=U0(c.j,m?f:null,!c.m),0<c.O&&(c.M=new qT(g(c.Y,c,c.g),c.O)),f=c.U,m=c.g,S=c.ca;var F="readystatechange";Array.isArray(F)||(F&&(Yg[0]=F.toString()),F=Yg);for(var B=0;B<F.length;B++){var G=dr(m,F[B],S||f.handleEvent,!1,f.h||f);if(!G)break;f.g[G.key]=G}f=c.H?y(c.H):{},c.m?(c.u||(c.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,f)):(c.u="GET",c.g.ea(c.A,c.u,null,f)),Ro(),GT(c.i,c.u,c.A,c.l,c.R,c.m)}pr.prototype.ca=function(c){c=c.target;const f=this.M;f&&qn(c)==3?f.j():this.Y(c)},pr.prototype.Y=function(c){try{if(c==this.g)e:{const dt=qn(this.g);var f=this.g.Ba();const di=this.g.Z();if(!(3>dt)&&(dt!=3||this.g&&(this.h.h||this.g.oa()||k0(this.g)))){this.J||dt!=4||f==7||(f==8||0>=di?Ro(3):Ro(2)),Fd(this);var m=this.g.Z();this.X=m;t:if(l0(this)){var S=k0(this.g);c="";var F=S.length,B=qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fs(this),jo(this);var G="";break t}this.h.i=new a.TextDecoder}for(f=0;f<F;f++)this.h.h=!0,c+=this.h.i.decode(S[f],{stream:!(B&&f==F-1)});S.length=0,this.h.g+=c,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=m==200,KT(this.i,this.u,this.A,this.l,this.R,dt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Te,tt=this.g;if((Te=tt.g?tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(Te)){var ye=Te;break t}}ye=null}if(m=ye)li(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ud(this,m);else{this.o=!1,this.s=3,bt(12),fs(this),jo(this);break e}}if(this.P){m=!0;let hn;for(;!this.J&&this.C<G.length;)if(hn=JT(this,G),hn==Ld){dt==4&&(this.s=4,bt(14),m=!1),li(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==o0){this.s=4,bt(15),li(this.i,this.l,G,"[Invalid Chunk]"),m=!1;break}else li(this.i,this.l,hn,null),Ud(this,hn);if(l0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dt!=4||G.length!=0||this.h.h||(this.s=1,bt(16),m=!1),this.o=this.o&&m,!m)li(this.i,this.l,G,"[Invalid Chunked Response]"),fs(this),jo(this);else if(0<G.length&&!this.W){this.W=!0;var ut=this.j;ut.g==this&&ut.ba&&!ut.M&&(ut.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),Hd(ut),ut.M=!0,bt(11))}}else li(this.i,this.l,G,null),Ud(this,G);dt==4&&fs(this),this.o&&!this.J&&(dt==4?D0(this.j,this):(this.o=!1,Rl(this)))}else pI(this.g),m==400&&0<G.indexOf("Unknown SID")?(this.s=3,bt(12)):(this.s=0,bt(13)),fs(this),jo(this)}}}catch{}finally{}};function l0(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function JT(c,f){var m=c.C,S=f.indexOf(`
`,m);return S==-1?Ld:(m=Number(f.substring(m,S)),isNaN(m)?o0:(S+=1,S+m>f.length?Ld:(f=f.slice(S,S+m),c.C=S+m,f)))}pr.prototype.cancel=function(){this.J=!0,fs(this)};function Rl(c){c.S=Date.now()+c.I,c0(c,c.I)}function c0(c,f){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Po(g(c.ba,c),f)}function Fd(c){c.B&&(a.clearTimeout(c.B),c.B=null)}pr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(QT(this.i,this.A),this.L!=2&&(Ro(),bt(17)),fs(this),this.s=2,jo(this)):c0(this,this.S-c)};function jo(c){c.j.G==0||c.J||D0(c.j,c)}function fs(c){Fd(c);var f=c.M;f&&typeof f.ma=="function"&&f.ma(),c.M=null,Jg(c.U),c.g&&(f=c.g,c.g=null,f.abort(),f.ma())}function Ud(c,f){try{var m=c.j;if(m.G!=0&&(m.g==c||Vd(m.h,c))){if(!c.K&&Vd(m.h,c)&&m.G==3){try{var S=m.Da.g.parse(f)}catch{S=null}if(Array.isArray(S)&&S.length==3){var F=S;if(F[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<c.F)Ul(m),Ml(m);else break e;qd(m),bt(18)}}else m.za=F[1],0<m.za-m.T&&37500>F[2]&&m.F&&m.v==0&&!m.C&&(m.C=Po(g(m.Za,m),6e3));if(1>=h0(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else ms(m,11)}else if((c.K||m.g==c)&&Ul(m),!E(f))for(F=m.Da.g.parse(f),f=0;f<F.length;f++){let ye=F[f];if(m.T=ye[0],ye=ye[1],m.G==2)if(ye[0]=="c"){m.K=ye[1],m.ia=ye[2];const ut=ye[3];ut!=null&&(m.la=ut,m.j.info("VER="+m.la));const dt=ye[4];dt!=null&&(m.Aa=dt,m.j.info("SVER="+m.Aa));const di=ye[5];di!=null&&typeof di=="number"&&0<di&&(S=1.5*di,m.L=S,m.j.info("backChannelRequestTimeoutMs_="+S)),S=m;const hn=c.g;if(hn){const $l=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($l){var B=S.h;B.g||$l.indexOf("spdy")==-1&&$l.indexOf("quic")==-1&&$l.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&($d(B,B.h),B.h=null))}if(S.D){const Wd=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;Wd&&(S.ya=Wd,ke(S.I,S.D,Wd))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-c.F,m.j.info("Handshake RTT: "+m.R+"ms")),S=m;var G=c;if(S.qa=F0(S,S.J?S.ia:null,S.W),G.K){f0(S.h,G);var Te=G,tt=S.L;tt&&(Te.I=tt),Te.B&&(Fd(Te),Rl(Te)),S.g=G}else j0(S);0<m.i.length&&Fl(m)}else ye[0]!="stop"&&ye[0]!="close"||ms(m,7);else m.G==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?ms(m,7):zd(m):ye[0]!="noop"&&m.l&&m.l.ta(ye),m.v=0)}}Ro(4)}catch{}}var XT=class{constructor(c,f){this.g=c,this.map=f}};function u0(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function d0(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function h0(c){return c.h?1:c.g?c.g.size:0}function Vd(c,f){return c.h?c.h==f:c.g?c.g.has(f):!1}function $d(c,f){c.g?c.g.add(f):c.h=f}function f0(c,f){c.h&&c.h==f?c.h=null:c.g&&c.g.has(f)&&c.g.delete(f)}u0.prototype.cancel=function(){if(this.i=p0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function p0(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let f=c.i;for(const m of c.g.values())f=f.concat(m.D);return f}return N(c.i)}function ZT(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var f=[],m=c.length,S=0;S<m;S++)f.push(c[S]);return f}f=[],m=0;for(S in c)f[m++]=c[S];return f}function eI(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var f=[];c=c.length;for(var m=0;m<c;m++)f.push(m);return f}f=[],m=0;for(const S in c)f[m++]=S;return f}}}function m0(c,f){if(c.forEach&&typeof c.forEach=="function")c.forEach(f,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,f,void 0);else for(var m=eI(c),S=ZT(c),F=S.length,B=0;B<F;B++)f.call(void 0,S[B],m&&m[B],c)}var g0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tI(c,f){if(c){c=c.split("&");for(var m=0;m<c.length;m++){var S=c[m].indexOf("="),F=null;if(0<=S){var B=c[m].substring(0,S);F=c[m].substring(S+1)}else B=c[m];f(B,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function ps(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ps){this.h=c.h,Pl(this,c.j),this.o=c.o,this.g=c.g,Nl(this,c.s),this.l=c.l;var f=c.i,m=new Lo;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),y0(this,m),this.m=c.m}else c&&(f=String(c).match(g0))?(this.h=!1,Pl(this,f[1]||"",!0),this.o=Oo(f[2]||""),this.g=Oo(f[3]||"",!0),Nl(this,f[4]),this.l=Oo(f[5]||"",!0),y0(this,f[6]||"",!0),this.m=Oo(f[7]||"")):(this.h=!1,this.i=new Lo(null,this.h))}ps.prototype.toString=function(){var c=[],f=this.j;f&&c.push(Do(f,v0,!0),":");var m=this.g;return(m||f=="file")&&(c.push("//"),(f=this.o)&&c.push(Do(f,v0,!0),"@"),c.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&c.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&c.push("/"),c.push(Do(m,m.charAt(0)=="/"?sI:rI,!0))),(m=this.i.toString())&&c.push("?",m),(m=this.m)&&c.push("#",Do(m,oI)),c.join("")};function zn(c){return new ps(c)}function Pl(c,f,m){c.j=m?Oo(f,!0):f,c.j&&(c.j=c.j.replace(/:$/,""))}function Nl(c,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);c.s=f}else c.s=null}function y0(c,f,m){f instanceof Lo?(c.i=f,aI(c.i,c.h)):(m||(f=Do(f,iI)),c.i=new Lo(f,c.h))}function ke(c,f,m){c.i.set(f,m)}function jl(c){return ke(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Oo(c,f){return c?f?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Do(c,f,m){return typeof c=="string"?(c=encodeURI(c).replace(f,nI),m&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function nI(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var v0=/[#\/\?@]/g,rI=/[#\?:]/g,sI=/[#\?]/g,iI=/[#\?@]/g,oI=/#/g;function Lo(c,f){this.h=this.g=null,this.i=c||null,this.j=!!f}function mr(c){c.g||(c.g=new Map,c.h=0,c.i&&tI(c.i,function(f,m){c.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}t=Lo.prototype,t.add=function(c,f){mr(this),this.i=null,c=ci(this,c);var m=this.g.get(c);return m||this.g.set(c,m=[]),m.push(f),this.h+=1,this};function _0(c,f){mr(c),f=ci(c,f),c.g.has(f)&&(c.i=null,c.h-=c.g.get(f).length,c.g.delete(f))}function x0(c,f){return mr(c),f=ci(c,f),c.g.has(f)}t.forEach=function(c,f){mr(this),this.g.forEach(function(m,S){m.forEach(function(F){c.call(f,F,S,this)},this)},this)},t.na=function(){mr(this);const c=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let S=0;S<f.length;S++){const F=c[S];for(let B=0;B<F.length;B++)m.push(f[S])}return m},t.V=function(c){mr(this);let f=[];if(typeof c=="string")x0(this,c)&&(f=f.concat(this.g.get(ci(this,c))));else{c=Array.from(this.g.values());for(let m=0;m<c.length;m++)f=f.concat(c[m])}return f},t.set=function(c,f){return mr(this),this.i=null,c=ci(this,c),x0(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[f]),this.h+=1,this},t.get=function(c,f){return c?(c=this.V(c),0<c.length?String(c[0]):f):f};function w0(c,f,m){_0(c,f),0<m.length&&(c.i=null,c.g.set(ci(c,f),N(m)),c.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var S=f[m];const B=encodeURIComponent(String(S)),G=this.V(S);for(S=0;S<G.length;S++){var F=B;G[S]!==""&&(F+="="+encodeURIComponent(String(G[S]))),c.push(F)}}return this.i=c.join("&")};function ci(c,f){return f=String(f),c.j&&(f=f.toLowerCase()),f}function aI(c,f){f&&!c.j&&(mr(c),c.i=null,c.g.forEach(function(m,S){var F=S.toLowerCase();S!=F&&(_0(this,S),w0(this,F,m))},c)),c.j=f}function lI(c,f){const m=new No;if(a.Image){const S=new Image;S.onload=w(gr,m,"TestLoadImage: loaded",!0,f,S),S.onerror=w(gr,m,"TestLoadImage: error",!1,f,S),S.onabort=w(gr,m,"TestLoadImage: abort",!1,f,S),S.ontimeout=w(gr,m,"TestLoadImage: timeout",!1,f,S),a.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else f(!1)}function cI(c,f){const m=new No,S=new AbortController,F=setTimeout(()=>{S.abort(),gr(m,"TestPingServer: timeout",!1,f)},1e4);fetch(c,{signal:S.signal}).then(B=>{clearTimeout(F),B.ok?gr(m,"TestPingServer: ok",!0,f):gr(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(F),gr(m,"TestPingServer: error",!1,f)})}function gr(c,f,m,S,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),S(m)}catch{}}function uI(){this.g=new WT}function dI(c,f,m){const S=m||"";try{m0(c,function(F,B){let G=F;d(F)&&(G=Pd(F)),f.push(S+B+"="+encodeURIComponent(G))})}catch(F){throw f.push(S+"type="+encodeURIComponent("_badmap")),F}}function Ol(c){this.l=c.Ub||null,this.j=c.eb||!1}k(Ol,Nd),Ol.prototype.g=function(){return new Dl(this.l,this.j)},Ol.prototype.i=function(c){return function(){return c}}({});function Dl(c,f){ct.call(this),this.D=c,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Dl,ct),t=Dl.prototype,t.open=function(c,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=f,this.readyState=1,Fo(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(f.body=c),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Mo(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Fo(this)),this.g&&(this.readyState=3,Fo(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;b0(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function b0(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var f=c.value?c.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!c.done}))&&(this.response=this.responseText+=f)}c.done?Mo(this):Fo(this),this.readyState==3&&b0(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Mo(this))},t.Qa=function(c){this.g&&(this.response=c,Mo(this))},t.ga=function(){this.g&&Mo(this)};function Mo(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Fo(c)}t.setRequestHeader=function(c,f){this.u.append(c,f)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,c.push(m[0]+": "+m[1]),m=f.next();return c.join(`\r
`)};function Fo(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Dl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function E0(c){let f="";return L(c,function(m,S){f+=S,f+=":",f+=m,f+=`\r
`}),f}function Bd(c,f,m){e:{for(S in m){var S=!1;break e}S=!0}S||(m=E0(m),typeof c=="string"?m!=null&&encodeURIComponent(String(m)):ke(c,f,m))}function Fe(c){ct.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Fe,ct);var hI=/^https?$/i,fI=["POST","PUT"];t=Fe.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,f,m,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);f=f?f.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Dd.g(),this.v=this.o?Xg(this.o):Xg(Dd),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(f,String(c),!0),this.B=!1}catch(B){T0(this,B);return}if(c=m||"",m=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var F in S)m.set(F,S[F]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const B of S.keys())m.set(B,S.get(B));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(m.keys()).find(B=>B.toLowerCase()=="content-type"),F=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(fI,f,void 0))||S||F||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,G]of m)this.g.setRequestHeader(B,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{C0(this),this.u=!0,this.g.send(c),this.u=!1}catch(B){T0(this,B)}};function T0(c,f){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=f,c.m=5,I0(c),Ll(c)}function I0(c){c.A||(c.A=!0,wt(c,"complete"),wt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,wt(this,"complete"),wt(this,"abort"),Ll(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ll(this,!0)),Fe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?S0(this):this.bb())},t.bb=function(){S0(this)};function S0(c){if(c.h&&typeof o<"u"&&(!c.v[1]||qn(c)!=4||c.Z()!=2)){if(c.u&&qn(c)==4)Kg(c.Ea,0,c);else if(wt(c,"readystatechange"),qn(c)==4){c.h=!1;try{const G=c.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var S;if(S=G===0){var F=String(c.D).match(g0)[1]||null;!F&&a.self&&a.self.location&&(F=a.self.location.protocol.slice(0,-1)),S=!hI.test(F?F.toLowerCase():"")}m=S}if(m)wt(c,"complete"),wt(c,"success");else{c.m=6;try{var B=2<qn(c)?c.g.statusText:""}catch{B=""}c.l=B+" ["+c.Z()+"]",I0(c)}}finally{Ll(c)}}}}function Ll(c,f){if(c.g){C0(c);const m=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,f||wt(c,"ready");try{m.onreadystatechange=S}catch{}}}function C0(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function qn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<qn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var f=this.g.responseText;return c&&f.indexOf(c)==0&&(f=f.substring(c.length)),HT(f)}};function k0(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function pI(c){const f={};c=(c.g&&2<=qn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(E(c[S]))continue;var m=b(c[S]);const F=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const B=f[F]||[];f[F]=B,B.push(m)}v(f,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Uo(c,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[c]||f}function A0(c){this.Aa=0,this.i=[],this.j=new No,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Uo("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Uo("baseRetryDelayMs",5e3,c),this.cb=Uo("retryDelaySeedMs",1e4,c),this.Wa=Uo("forwardChannelMaxRetries",2,c),this.wa=Uo("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new u0(c&&c.concurrentRequestLimit),this.Da=new uI,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=A0.prototype,t.la=8,t.G=1,t.connect=function(c,f,m,S){bt(0),this.W=c,this.H=f||{},m&&S!==void 0&&(this.H.OSID=m,this.H.OAID=S),this.F=this.X,this.I=F0(this,null,this.W),Fl(this)};function zd(c){if(R0(c),c.G==3){var f=c.U++,m=zn(c.I);if(ke(m,"SID",c.K),ke(m,"RID",f),ke(m,"TYPE","terminate"),Vo(c,m),f=new pr(c,c.j,f),f.L=2,f.v=jl(zn(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=f.v,m=!0),m||(f.g=U0(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Rl(f)}M0(c)}function Ml(c){c.g&&(Hd(c),c.g.cancel(),c.g=null)}function R0(c){Ml(c),c.u&&(a.clearTimeout(c.u),c.u=null),Ul(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Fl(c){if(!d0(c.h)&&!c.s){c.s=!0;var f=c.Ga;$||H(),V||($(),V=!0),z.add(f,c),c.B=0}}function mI(c,f){return h0(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=f.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Po(g(c.Ga,c,f),L0(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const F=new pr(this,this.j,c);let B=this.o;if(this.S&&(B?(B=y(B),R(B,this.S)):B=this.S),this.m!==null||this.O||(F.H=B,B=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var S=this.i[m];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(f+=S,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=N0(this,F,f),m=zn(this.I),ke(m,"RID",c),ke(m,"CVER",22),this.D&&ke(m,"X-HTTP-Session-Id",this.D),Vo(this,m),B&&(this.O?f="headers="+encodeURIComponent(String(E0(B)))+"&"+f:this.m&&Bd(m,this.m,B)),$d(this.h,F),this.Ua&&ke(m,"TYPE","init"),this.P?(ke(m,"$req",f),ke(m,"SID","null"),F.T=!0,Md(F,m,null)):Md(F,m,f),this.G=2}}else this.G==3&&(c?P0(this,c):this.i.length==0||d0(this.h)||P0(this))};function P0(c,f){var m;f?m=f.l:m=c.U++;const S=zn(c.I);ke(S,"SID",c.K),ke(S,"RID",m),ke(S,"AID",c.T),Vo(c,S),c.m&&c.o&&Bd(S,c.m,c.o),m=new pr(c,c.j,m,c.B+1),c.m===null&&(m.H=c.o),f&&(c.i=f.D.concat(c.i)),f=N0(c,m,1e3),m.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),$d(c.h,m),Md(m,S,f)}function Vo(c,f){c.H&&L(c.H,function(m,S){ke(f,S,m)}),c.l&&m0({},function(m,S){ke(f,S,m)})}function N0(c,f,m){m=Math.min(c.i.length,m);var S=c.l?g(c.l.Na,c.l,c):null;e:{var F=c.i;let B=-1;for(;;){const G=["count="+m];B==-1?0<m?(B=F[0].g,G.push("ofs="+B)):B=0:G.push("ofs="+B);let Te=!0;for(let tt=0;tt<m;tt++){let ye=F[tt].g;const ut=F[tt].map;if(ye-=B,0>ye)B=Math.max(0,F[tt].g-100),Te=!1;else try{dI(ut,G,"req"+ye+"_")}catch{S&&S(ut)}}if(Te){S=G.join("&");break e}}}return c=c.i.splice(0,m),f.D=c,S}function j0(c){if(!c.g&&!c.u){c.Y=1;var f=c.Fa;$||H(),V||($(),V=!0),z.add(f,c),c.v=0}}function qd(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Po(g(c.Fa,c),L0(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,O0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Po(g(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,bt(10),Ml(this),O0(this))};function Hd(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function O0(c){c.g=new pr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var f=zn(c.qa);ke(f,"RID","rpc"),ke(f,"SID",c.K),ke(f,"AID",c.T),ke(f,"CI",c.F?"0":"1"),!c.F&&c.ja&&ke(f,"TO",c.ja),ke(f,"TYPE","xmlhttp"),Vo(c,f),c.m&&c.o&&Bd(f,c.m,c.o),c.L&&(c.g.I=c.L);var m=c.g;c=c.ia,m.L=1,m.v=jl(zn(f)),m.m=null,m.P=!0,a0(m,c)}t.Za=function(){this.C!=null&&(this.C=null,Ml(this),qd(this),bt(19))};function Ul(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function D0(c,f){var m=null;if(c.g==f){Ul(c),Hd(c),c.g=null;var S=2}else if(Vd(c.h,f))m=f.D,f0(c.h,f),S=1;else return;if(c.G!=0){if(f.o)if(S==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var F=c.B;S=Cl(),wt(S,new r0(S,m)),Fl(c)}else j0(c);else if(F=f.s,F==3||F==0&&0<f.X||!(S==1&&mI(c,f)||S==2&&qd(c)))switch(m&&0<m.length&&(f=c.h,f.i=f.i.concat(m)),F){case 1:ms(c,5);break;case 4:ms(c,10);break;case 3:ms(c,6);break;default:ms(c,2)}}}function L0(c,f){let m=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(m*=2),m*f}function ms(c,f){if(c.j.info("Error code "+f),f==2){var m=g(c.fb,c),S=c.Xa;const F=!S;S=new ps(S||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Pl(S,"https"),jl(S),F?lI(S.toString(),m):cI(S.toString(),m)}else bt(2);c.G=0,c.l&&c.l.sa(f),M0(c),R0(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function M0(c){if(c.G=0,c.ka=[],c.l){const f=p0(c.h);(f.length!=0||c.i.length!=0)&&(P(c.ka,f),P(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function F0(c,f,m){var S=m instanceof ps?zn(m):new ps(m);if(S.g!="")f&&(S.g=f+"."+S.g),Nl(S,S.s);else{var F=a.location;S=F.protocol,f=f?f+"."+F.hostname:F.hostname,F=+F.port;var B=new ps(null);S&&Pl(B,S),f&&(B.g=f),F&&Nl(B,F),m&&(B.l=m),S=B}return m=c.D,f=c.ya,m&&f&&ke(S,m,f),ke(S,"VER",c.la),Vo(c,S),S}function U0(c,f,m){if(f&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=c.Ca&&!c.pa?new Fe(new Ol({eb:m})):new Fe(c.pa),f.Ha(c.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function V0(){}t=V0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Vl(){}Vl.prototype.g=function(c,f){return new $t(c,f)};function $t(c,f){ct.call(this),this.g=new A0(f),this.l=c,this.h=f&&f.messageUrlParams||null,c=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(c?c["X-WebChannel-Content-Type"]=f.messageContentType:c={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(c?c["X-WebChannel-Client-Profile"]=f.va:c={"X-WebChannel-Client-Profile":f.va}),this.g.S=c,(c=f&&f.Sb)&&!E(c)&&(this.g.m=c),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!E(f)&&(this.g.D=f,c=this.h,c!==null&&f in c&&(c=this.h,f in c&&delete c[f])),this.j=new ui(this)}k($t,ct),$t.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$t.prototype.close=function(){zd(this.g)},$t.prototype.o=function(c){var f=this.g;if(typeof c=="string"){var m={};m.__data__=c,c=m}else this.u&&(m={},m.__data__=Pd(c),c=m);f.i.push(new XT(f.Ya++,c)),f.G==3&&Fl(f)},$t.prototype.N=function(){this.g.l=null,delete this.j,zd(this.g),delete this.g,$t.aa.N.call(this)};function $0(c){jd.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var f=c.__sm__;if(f){e:{for(const m in f){c=m;break e}c=void 0}(this.i=c)&&(c=this.i,f=f!==null&&c in f?f[c]:void 0),this.data=f}else this.data=c}k($0,jd);function B0(){Od.call(this),this.status=1}k(B0,Od);function ui(c){this.g=c}k(ui,V0),ui.prototype.ua=function(){wt(this.g,"a")},ui.prototype.ta=function(c){wt(this.g,new $0(c))},ui.prototype.sa=function(c){wt(this.g,new B0)},ui.prototype.ra=function(){wt(this.g,"b")},Vl.prototype.createWebChannel=Vl.prototype.g,$t.prototype.send=$t.prototype.o,$t.prototype.open=$t.prototype.m,$t.prototype.close=$t.prototype.close,SE=function(){return new Vl},IE=function(){return Cl()},TE=hs,ap={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},kl.NO_ERROR=0,kl.TIMEOUT=8,kl.HTTP_ERROR=6,Dc=kl,s0.COMPLETE="complete",EE=s0,Zg.EventType=Ao,Ao.OPEN="a",Ao.CLOSE="b",Ao.ERROR="c",Ao.MESSAGE="d",ct.prototype.listen=ct.prototype.K,ra=Zg,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,bE=Fe}).apply(typeof dc<"u"?dc:typeof self<"u"?self:typeof window<"u"?window:{});const Xv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mt.UNAUTHENTICATED=new mt(null),mt.GOOGLE_CREDENTIALS=new mt("google-credentials-uid"),mt.FIRST_PARTY=new mt("first-party-uid"),mt.MOCK_USER=new mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bo="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs=new ld("@firebase/firestore");function Jo(){return zs.logLevel}function Z(t,...e){if(zs.logLevel<=he.DEBUG){const n=e.map(og);zs.debug(`Firestore (${bo}): ${t}`,...n)}}function or(t,...e){if(zs.logLevel<=he.ERROR){const n=e.map(og);zs.error(`Firestore (${bo}): ${t}`,...n)}}function io(t,...e){if(zs.logLevel<=he.WARN){const n=e.map(og);zs.warn(`Firestore (${bo}): ${t}`,...n)}}function og(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(t="Unexpected state"){const e=`FIRESTORE (${bo}) INTERNAL ASSERTION FAILED: `+t;throw or(e),new Error(e)}function Ve(t,e){t||oe()}function pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ee extends cn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class D3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(mt.UNAUTHENTICATED))}shutdown(){}}class L3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class M3{constructor(e){this.t=e,this.currentUser=mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ve(this.o===void 0);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Ns;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ns,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ns)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ve(typeof r.accessToken=="string"),new CE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string"),new mt(e)}}class F3{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=mt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class U3{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new F3(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class V3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $3{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ve(this.o===void 0);const r=i=>{i.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,Z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ve(typeof n.token=="string"),this.R=n.token,new V3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=B3(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function _e(t,e){return t<e?-1:t>e?1:0}function oo(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ee(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ee(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ee(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ee(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ut.fromMillis(Date.now())}static fromDate(e){return Ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ut(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ie(e)}static min(){return new ie(new Ut(0,0))}static max(){return new ie(new Ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n,r){n===void 0?n=0:n>e.length&&oe(),r===void 0?r=e.length-n:r>e.length-n&&oe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ja.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ja?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class je extends Ja{construct(e,n,r){return new je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ee(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new je(n)}static emptyPath(){return new je([])}}const z3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tt extends Ja{construct(e,n,r){return new Tt(e,n,r)}static isValidIdentifier(e){return z3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Tt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ee(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new ee(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ee(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new ee(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tt(n)}static emptyPath(){return new Tt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne(je.fromString(e))}static fromName(e){return new ne(je.fromString(e).popFirst(5))}static empty(){return new ne(je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new je(e.slice()))}}function q3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ie.fromTimestamp(r===1e9?new Ut(n+1,0):new Ut(n,r));return new es(s,ne.empty(),e)}function H3(t){return new es(t.readTime,t.key,-1)}class es{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new es(ie.min(),ne.empty(),-1)}static max(){return new es(ie.max(),ne.empty(),-1)}}function W3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:_e(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class K3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ag(t){if(t.code!==K.FAILED_PRECONDITION||t.message!==G3)throw t;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new q((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):q.reject(n)}static resolve(e){return new q((n,r)=>{n(e)})}static reject(e){return new q((n,r)=>{r(e)})}static waitFor(e){return new q((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=q.resolve(!1);for(const r of e)n=n.next(s=>s?q.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new q((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const d=l;n(e[d]).next(h=>{o[d]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new q((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function Q3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}lg.oe=-1;function dd(t){return t==null}function lp(t){return t===0&&1/t==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function hd(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Y3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e,n){this.comparator=e,this.root=n||st.EMPTY}insert(e,n){return new ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,st.BLACK,null,null))}remove(e){return new ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,st.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hc(this.root,e,this.comparator,!1)}getReverseIterator(){return new hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hc(this.root,e,this.comparator,!0)}}class hc{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class st{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??st.RED,this.left=s??st.EMPTY,this.right=i??st.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new st(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return st.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return st.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,st.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,st.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw oe();const e=this.left.check();if(e!==this.right.check())throw oe();return e+(this.isRed()?0:1)}}st.EMPTY=null,st.RED=!0,st.BLACK=!1;st.EMPTY=new class{constructor(){this.size=0}get key(){throw oe()}get value(){throw oe()}get color(){throw oe()}get left(){throw oe()}get right(){throw oe()}copy(e,n,r,s,i){return this}insert(e,n,r){return new st(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.comparator=e,this.data=new ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new e_(this.data.getIterator())}getIteratorFrom(e){return new e_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ot(this.comparator);return n.data=e,n}}class e_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e){this.fields=e,e.sort(Tt.comparator)}static empty(){return new Lr([])}unionWith(e){let n=new ot(Tt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Lr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return oo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new AE("Invalid base64 string: "+i):i}}(e);return new lt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new lt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}lt.EMPTY_BYTE_STRING=new lt("");const J3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ts(t){if(Ve(!!t),typeof t=="string"){let e=0;const n=J3.exec(t);if(Ve(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$e(t.seconds),nanos:$e(t.nanos)}}function $e(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qs(t){return typeof t=="string"?lt.fromBase64String(t):lt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ug(t){const e=t.mapValue.fields.__previous_value__;return cg(e)?ug(e):e}function Xa(t){const e=ts(t.mapValue.fields.__local_write_time__.timestampValue);return new Ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e,n,r,s,i,o,a,l,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=d}}class Za{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Za("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Za&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Hs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cg(t)?4:ej(t)?9007199254740991:Z3(t)?10:11:oe()}function Mn(t,e){if(t===e)return!0;const n=Hs(t);if(n!==Hs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xa(t).isEqual(Xa(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=ts(s.timestampValue),a=ts(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return qs(s.bytesValue).isEqual(qs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return $e(s.geoPointValue.latitude)===$e(i.geoPointValue.latitude)&&$e(s.geoPointValue.longitude)===$e(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return $e(s.integerValue)===$e(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=$e(s.doubleValue),a=$e(i.doubleValue);return o===a?lp(o)===lp(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return oo(t.arrayValue.values||[],e.arrayValue.values||[],Mn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Zv(o)!==Zv(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Mn(o[l],a[l])))return!1;return!0}(t,e);default:return oe()}}function el(t,e){return(t.values||[]).find(n=>Mn(n,e))!==void 0}function ao(t,e){if(t===e)return 0;const n=Hs(t),r=Hs(e);if(n!==r)return _e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _e(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=$e(i.integerValue||i.doubleValue),l=$e(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return t_(t.timestampValue,e.timestampValue);case 4:return t_(Xa(t),Xa(e));case 5:return _e(t.stringValue,e.stringValue);case 6:return function(i,o){const a=qs(i),l=qs(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let d=0;d<a.length&&d<l.length;d++){const h=_e(a[d],l[d]);if(h!==0)return h}return _e(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=_e($e(i.latitude),$e(o.latitude));return a!==0?a:_e($e(i.longitude),$e(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return n_(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,d,h;const p=i.fields||{},g=o.fields||{},w=(a=p.value)===null||a===void 0?void 0:a.arrayValue,k=(l=g.value)===null||l===void 0?void 0:l.arrayValue,N=_e(((d=w==null?void 0:w.values)===null||d===void 0?void 0:d.length)||0,((h=k==null?void 0:k.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:n_(w,k)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===fc.mapValue&&o===fc.mapValue)return 0;if(i===fc.mapValue)return 1;if(o===fc.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),d=o.fields||{},h=Object.keys(d);l.sort(),h.sort();for(let p=0;p<l.length&&p<h.length;++p){const g=_e(l[p],h[p]);if(g!==0)return g;const w=ao(a[l[p]],d[h[p]]);if(w!==0)return w}return _e(l.length,h.length)}(t.mapValue,e.mapValue);default:throw oe()}}function t_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _e(t,e);const n=ts(t),r=ts(e),s=_e(n.seconds,r.seconds);return s!==0?s:_e(n.nanos,r.nanos)}function n_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=ao(n[s],r[s]);if(i)return i}return _e(n.length,r.length)}function lo(t){return cp(t)}function cp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ts(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return qs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=cp(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${cp(n.fields[o])}`;return s+"}"}(t.mapValue):oe()}function up(t){return!!t&&"integerValue"in t}function dg(t){return!!t&&"arrayValue"in t}function r_(t){return!!t&&"nullValue"in t}function s_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function jh(t){return!!t&&"mapValue"in t}function Z3(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function wa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return hd(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=wa(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ej(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!jh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wa(n)}setAll(e){let n=Tt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=wa(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());jh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Mn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];jh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){hd(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new An(wa(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new yt(e,0,ie.min(),ie.min(),ie.min(),An.empty(),0)}static newFoundDocument(e,n,r,s){return new yt(e,1,n,ie.min(),r,s,0)}static newNoDocument(e,n){return new yt(e,2,n,ie.min(),ie.min(),An.empty(),0)}static newUnknownDocument(e,n){return new yt(e,3,n,ie.min(),ie.min(),An.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n){this.position=e,this.inclusive=n}}function i_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ne.comparator(ne.fromName(o.referenceValue),n.key):r=ao(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function o_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Mn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n="asc"){this.field=e,this.dir=n}}function tj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{}class Ke extends RE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new rj(e,n,r):n==="array-contains"?new oj(e,r):n==="in"?new aj(e,r):n==="not-in"?new lj(e,r):n==="array-contains-any"?new cj(e,r):new Ke(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new sj(e,r):new ij(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ao(n,this.value)):n!==null&&Hs(this.value)===Hs(n)&&this.matchesComparison(ao(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fn extends RE{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Fn(e,n)}matches(e){return PE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function PE(t){return t.op==="and"}function NE(t){return nj(t)&&PE(t)}function nj(t){for(const e of t.filters)if(e instanceof Fn)return!1;return!0}function dp(t){if(t instanceof Ke)return t.field.canonicalString()+t.op.toString()+lo(t.value);if(NE(t))return t.filters.map(e=>dp(e)).join(",");{const e=t.filters.map(n=>dp(n)).join(",");return`${t.op}(${e})`}}function jE(t,e){return t instanceof Ke?function(r,s){return s instanceof Ke&&r.op===s.op&&r.field.isEqual(s.field)&&Mn(r.value,s.value)}(t,e):t instanceof Fn?function(r,s){return s instanceof Fn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&jE(o,s.filters[a]),!0):!1}(t,e):void oe()}function OE(t){return t instanceof Ke?function(n){return`${n.field.canonicalString()} ${n.op} ${lo(n.value)}`}(t):t instanceof Fn?function(n){return n.op.toString()+" {"+n.getFilters().map(OE).join(" ,")+"}"}(t):"Filter"}class rj extends Ke{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class sj extends Ke{constructor(e,n){super(e,"in",n),this.keys=DE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ij extends Ke{constructor(e,n){super(e,"not-in",n),this.keys=DE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function DE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}class oj extends Ke{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return dg(n)&&el(n.arrayValue,this.value)}}class aj extends Ke{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&el(this.value.arrayValue,n)}}class lj extends Ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(el(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!el(this.value.arrayValue,n)}}class cj extends Ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!dg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>el(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function a_(t,e=null,n=[],r=[],s=null,i=null,o=null){return new uj(t,e,n,r,s,i,o)}function hg(t){const e=pe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>dp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),dd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>lo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>lo(r)).join(",")),e.ue=n}return e.ue}function fg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!tj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!jE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!o_(t.startAt,e.startAt)&&o_(t.endAt,e.endAt)}function hp(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function dj(t,e,n,r,s,i,o,a){return new fd(t,e,n,r,s,i,o,a)}function pd(t){return new fd(t)}function l_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function hj(t){return t.collectionGroup!==null}function ba(t){const e=pe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ot(Tt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Tu(i,r))}),n.has(Tt.keyField().canonicalString())||e.ce.push(new Tu(Tt.keyField(),r))}return e.ce}function Ln(t){const e=pe(t);return e.le||(e.le=fj(e,ba(t))),e.le}function fj(t,e){if(t.limitType==="F")return a_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Tu(s.field,i)});const n=t.endAt?new Eu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Eu(t.startAt.position,t.startAt.inclusive):null;return a_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function fp(t,e,n){return new fd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function md(t,e){return fg(Ln(t),Ln(e))&&t.limitType===e.limitType}function LE(t){return`${hg(Ln(t))}|lt:${t.limitType}`}function yi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>OE(s)).join(", ")}]`),dd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>lo(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>lo(s)).join(",")),`Target(${r})`}(Ln(t))}; limitType=${t.limitType})`}function gd(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ne.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of ba(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const d=i_(o,a,l);return o.inclusive?d<=0:d<0}(r.startAt,ba(r),s)||r.endAt&&!function(o,a,l){const d=i_(o,a,l);return o.inclusive?d>=0:d>0}(r.endAt,ba(r),s))}(t,e)}function pj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ME(t){return(e,n)=>{let r=!1;for(const s of ba(t)){const i=mj(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function mj(t,e,n){const r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),d=a.data.field(i);return l!==null&&d!==null?ao(l,d):oe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){hd(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return Y3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj=new ze(ne.comparator);function ns(){return gj}const FE=new ze(ne.comparator);function sa(...t){let e=FE;for(const n of t)e=e.insert(n.key,n);return e}function yj(t){let e=FE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ss(){return Ea()}function UE(){return Ea()}function Ea(){return new Eo(t=>t.toString(),(t,e)=>t.isEqual(e))}const vj=new ot(ne.comparator);function me(...t){let e=vj;for(const n of t)e=e.add(n);return e}const _j=new ot(_e);function xj(){return _j}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lp(e)?"-0":e}}function bj(t){return{integerValue:""+t}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(){this._=void 0}}function Ej(t,e,n){return t instanceof pp?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&cg(i)&&(i=ug(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Iu?VE(t,e):t instanceof Su?$E(t,e):function(s,i){const o=Ij(s,i),a=c_(o)+c_(s.Pe);return up(o)&&up(s.Pe)?bj(a):wj(s.serializer,a)}(t,e)}function Tj(t,e,n){return t instanceof Iu?VE(t,e):t instanceof Su?$E(t,e):n}function Ij(t,e){return t instanceof mp?function(r){return up(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class pp extends yd{}class Iu extends yd{constructor(e){super(),this.elements=e}}function VE(t,e){const n=BE(e);for(const r of t.elements)n.some(s=>Mn(s,r))||n.push(r);return{arrayValue:{values:n}}}class Su extends yd{constructor(e){super(),this.elements=e}}function $E(t,e){let n=BE(e);for(const r of t.elements)n=n.filter(s=>!Mn(s,r));return{arrayValue:{values:n}}}class mp extends yd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function c_(t){return $e(t.integerValue||t.doubleValue)}function BE(t){return dg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Sj(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Iu&&s instanceof Iu||r instanceof Su&&s instanceof Su?oo(r.elements,s.elements,Mn):r instanceof mp&&s instanceof mp?Mn(r.Pe,s.Pe):r instanceof pp&&s instanceof pp}(t.transform,e.transform)}class js{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new js}static exists(e){return new js(void 0,e)}static updateTime(e){return new js(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class pg{}function zE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new kj(t.key,js.none()):new mg(t.key,t.data,js.none());{const n=t.data,r=An.empty();let s=new ot(Tt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new vd(t.key,r,new Lr(s.toArray()),js.none())}}function Cj(t,e,n){t instanceof mg?function(s,i,o){const a=s.value.clone(),l=d_(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof vd?function(s,i,o){if(!Lc(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=d_(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(qE(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ta(t,e,n,r){return t instanceof mg?function(i,o,a,l){if(!Lc(i.precondition,o))return a;const d=i.value.clone(),h=h_(i.fieldTransforms,l,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof vd?function(i,o,a,l){if(!Lc(i.precondition,o))return a;const d=h_(i.fieldTransforms,l,o),h=o.data;return h.setAll(qE(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(i,o,a){return Lc(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function u_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&oo(r,s,(i,o)=>Sj(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class mg extends pg{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class vd extends pg{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function qE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function d_(t,e,n){const r=new Map;Ve(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,Tj(o,a,n[s]))}return r}function h_(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,Ej(i,o,e))}return r}class kj extends pg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&Cj(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ta(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ta(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=UE();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=zE(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),me())}isEqual(e){return this.batchId===e.batchId&&oo(this.mutations,e.mutations,(n,r)=>u_(n,r))&&oo(this.baseMutations,e.baseMutations,(n,r)=>u_(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe,fe;function HE(t){if(t===void 0)return or("GRPC error has no .code"),K.UNKNOWN;switch(t){case qe.OK:return K.OK;case qe.CANCELLED:return K.CANCELLED;case qe.UNKNOWN:return K.UNKNOWN;case qe.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case qe.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case qe.INTERNAL:return K.INTERNAL;case qe.UNAVAILABLE:return K.UNAVAILABLE;case qe.UNAUTHENTICATED:return K.UNAUTHENTICATED;case qe.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case qe.NOT_FOUND:return K.NOT_FOUND;case qe.ALREADY_EXISTS:return K.ALREADY_EXISTS;case qe.PERMISSION_DENIED:return K.PERMISSION_DENIED;case qe.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case qe.ABORTED:return K.ABORTED;case qe.OUT_OF_RANGE:return K.OUT_OF_RANGE;case qe.UNIMPLEMENTED:return K.UNIMPLEMENTED;case qe.DATA_LOSS:return K.DATA_LOSS;default:return oe()}}(fe=qe||(qe={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj=new Ps([4294967295,4294967295],0);function f_(t){const e=Nj().encode(t),n=new wE;return n.update(e),new Uint8Array(n.digest())}function p_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ps([n,r],0),new Ps([s,i],0)]}class gg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ia(`Invalid padding: ${n}`);if(r<0)throw new ia(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ia(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ia(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ps.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(Ps.fromNumber(r)));return s.compare(jj)===1&&(s=new Ps([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=f_(e),[r,s]=p_(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new gg(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=f_(e),[r,s]=p_(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ia extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,vl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _d(ie.min(),s,new ze(_e),ns(),me())}}class vl{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new vl(r,n,me(),me(),me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class WE{constructor(e,n){this.targetId=e,this.me=n}}class GE{constructor(e,n,r=lt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class m_{constructor(){this.fe=0,this.ge=y_(),this.pe=lt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=me(),n=me(),r=me();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:oe()}}),new vl(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=y_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ve(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Oj{constructor(e){this.Le=e,this.Be=new Map,this.ke=ns(),this.qe=g_(),this.Qe=new ze(_e)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:oe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(hp(i))if(r===0){const o=new ne(i.path);this.Ue(n,o,yt.newNoDocument(o,ie.min()))}else Ve(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const d=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=qs(r).toUint8Array()}catch(l){if(l instanceof AE)return io("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new gg(o,s,i)}catch(l){return io(l instanceof ia?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&hp(a.target)){const l=new ne(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,yt.newNoDocument(l,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=me();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const d=this.Je(l);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new _d(e,n,this.Qe,this.ke,r);return this.ke=ns(),this.qe=g_(),this.Qe=new ze(_e),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new m_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ot(_e),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Z("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new m_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function g_(){return new ze(ne.comparator)}function y_(){return new ze(ne.comparator)}const Dj={asc:"ASCENDING",desc:"DESCENDING"},Lj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Mj={and:"AND",or:"OR"};class Fj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function gp(t,e){return t.useProto3Json||dd(e)?e:{value:e}}function Uj(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Vj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Hi(t){return Ve(!!t),ie.fromTimestamp(function(n){const r=ts(n);return new Ut(r.seconds,r.nanos)}(t))}function $j(t,e){return yp(t,e).canonicalString()}function yp(t,e){const n=function(s){return new je(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function KE(t){const e=je.fromString(t);return Ve(ZE(e)),e}function Oh(t,e){const n=KE(e);if(n.get(1)!==t.databaseId.projectId)throw new ee(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ee(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(YE(n))}function QE(t,e){return $j(t.databaseId,e)}function Bj(t){const e=KE(t);return e.length===4?je.emptyPath():YE(e)}function v_(t){return new je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function YE(t){return Ve(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function zj(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(Ve(h===void 0||typeof h=="string"),lt.fromBase64String(h||"")):(Ve(h===void 0||h instanceof Buffer||h instanceof Uint8Array),lt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){const h=d.code===void 0?K.UNKNOWN:HE(d.code);return new ee(h,d.message||"")}(o);n=new GE(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Oh(t,r.document.name),i=Hi(r.document.updateTime),o=r.document.createTime?Hi(r.document.createTime):ie.min(),a=new An({mapValue:{fields:r.document.fields}}),l=yt.newFoundDocument(s,i,o,a),d=r.targetIds||[],h=r.removedTargetIds||[];n=new Mc(d,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Oh(t,r.document),i=r.readTime?Hi(r.readTime):ie.min(),o=yt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Mc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Oh(t,r.document),i=r.removedTargetIds||[];n=new Mc([],i,s,null)}else{if(!("filter"in e))return oe();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new Pj(s,i),a=r.targetId;n=new WE(a,o)}}return n}function qj(t,e){return{documents:[QE(t,e.path)]}}function Hj(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=QE(t,s);const i=function(d){if(d.length!==0)return XE(Fn.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(h=>function(g){return{field:vi(g.field),direction:Kj(g.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=gp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:s}}function Wj(t){let e=Bj(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ve(r===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(p){const g=JE(p);return g instanceof Fn&&NE(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(g=>function(k){return new Tu(_i(k.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,dd(g)?null:g}(n.limit));let l=null;n.startAt&&(l=function(p){const g=!!p.before,w=p.values||[];return new Eu(w,g)}(n.startAt));let d=null;return n.endAt&&(d=function(p){const g=!p.before,w=p.values||[];return new Eu(w,g)}(n.endAt)),dj(e,s,o,i,a,"F",l,d)}function Gj(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function JE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=_i(n.unaryFilter.field);return Ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=_i(n.unaryFilter.field);return Ke.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=_i(n.unaryFilter.field);return Ke.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=_i(n.unaryFilter.field);return Ke.create(o,"!=",{nullValue:"NULL_VALUE"});default:return oe()}}(t):t.fieldFilter!==void 0?function(n){return Ke.create(_i(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return oe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Fn.create(n.compositeFilter.filters.map(r=>JE(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return oe()}}(n.compositeFilter.op))}(t):oe()}function Kj(t){return Dj[t]}function Qj(t){return Lj[t]}function Yj(t){return Mj[t]}function vi(t){return{fieldPath:t.canonicalString()}}function _i(t){return Tt.fromServerFormat(t.fieldPath)}function XE(t){return t instanceof Ke?function(n){if(n.op==="=="){if(s_(n.value))return{unaryFilter:{field:vi(n.field),op:"IS_NAN"}};if(r_(n.value))return{unaryFilter:{field:vi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(s_(n.value))return{unaryFilter:{field:vi(n.field),op:"IS_NOT_NAN"}};if(r_(n.value))return{unaryFilter:{field:vi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vi(n.field),op:Qj(n.op),value:n.value}}}(t):t instanceof Fn?function(n){const r=n.getFilters().map(s=>XE(s));return r.length===1?r[0]:{compositeFilter:{op:Yj(n.op),filters:r}}}(t):oe()}function ZE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e,n,r,s,i=ie.min(),o=ie.min(),a=lt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Mr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e){this.ct=e}}function Xj(t){const e=Wj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?fp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(){this.un=new eO}addToCollectionParentIndex(e,n){return this.un.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(es.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(es.min())}updateCollectionGroup(e,n,r){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}}class eO{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ot(je.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ot(je.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new co(0)}static kn(){return new co(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(){this.changes=new Eo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Ta(r.mutation,s,Lr.empty(),Ut.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=me()){const s=Ss();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=sa();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ss();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,me()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=ns();const o=Ea(),a=function(){return Ea()}();return n.forEach((l,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof vd)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),Ta(h.mutation,d,h.mutation.getFieldMask(),Ut.now())):o.set(d.key,Lr.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>{var p;return a.set(d,new nO(h,(p=o.get(d))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ea();let s=new ze((o,a)=>o-a),i=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const d=n.get(l);if(d===null)return;let h=r.get(l)||Lr.empty();h=a.applyToLocalView(d,h),r.set(l,h);const p=(s.get(a.batchId)||me()).add(l);s=s.insert(a.batchId,p)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),d=l.key,h=l.value,p=UE();h.forEach(g=>{if(!i.has(g)){const w=zE(n.get(g),r.get(g));w!==null&&p.set(g,w),i=i.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,p))}return q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):q.resolve(Ss());let a=-1,l=i;return o.next(d=>q.forEach(d,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),i.get(h)?q.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{l=l.insert(h,g)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,l,d,me())).next(h=>({batchId:a,changes:yj(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let s=sa();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=sa();return this.indexManager.getCollectionParents(e,i).next(a=>q.forEach(a,l=>{const d=function(p,g){return new fd(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((p,g)=>{o=o.insert(p,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,yt.newInvalidDocument(h)))});let a=sa();return o.forEach((l,d)=>{const h=i.get(l);h!==void 0&&Ta(h.mutation,d,Lr.empty(),Ut.now()),gd(n,d)&&(a=a.insert(l,d))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return q.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Hi(s.createTime)}}(n)),q.resolve()}getNamedQuery(e,n){return q.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:Xj(s.bundledQuery),readTime:Hi(s.readTime)}}(n)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(){this.overlays=new ze(ne.comparator),this.Ir=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ss();return q.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),q.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),q.resolve()}getOverlaysForCollection(e,n,r){const s=Ss(),i=n.length+1,o=new ne(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,d=l.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return q.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new ze((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=Ss(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const a=Ss(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=s)););return q.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Rj(n,r));let i=this.Ir.get(n);i===void 0&&(i=me(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(){this.sessionToken=lt.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(){this.Tr=new ot(Je.Er),this.dr=new ot(Je.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Je(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Je(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ne(new je([])),r=new Je(n,e),s=new Je(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ne(new je([])),r=new Je(n,e),s=new Je(n,e+1);let i=me();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Je(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Je{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ne.comparator(e.key,n.key)||_e(e.wr,n.wr)}static Ar(e,n){return _e(e.wr,n.wr)||ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ot(Je.Er)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Aj(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new Je(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return q.resolve(o)}lookupMutationBatch(e,n){return q.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Je(n,0),s=new Je(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ot(_e);return n.forEach(s=>{const i=new Je(s,0),o=new Je(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ne.isDocumentKey(i)||(i=i.child(""));const o=new Je(new ne(i),0);let a=new ot(_e);return this.br.forEachWhile(l=>{const d=l.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(a=a.add(l.wr)),!0)},o),q.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ve(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return q.forEach(n.mutations,s=>{const i=new Je(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Je(n,0),s=this.br.firstAfterOrEqual(r);return q.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e){this.Mr=e,this.docs=function(){return new ze(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return q.resolve(r?r.document.mutableCopy():yt.newInvalidDocument(n))}getEntries(e,n){let r=ns();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():yt.newInvalidDocument(s))}),q.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ns();const o=n.path,a=new ne(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:d,value:{document:h}}=l.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||W3(H3(h),r)<=0||(s.has(h.key)||gd(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return q.resolve(i)}getAllFromCollectionGroup(e,n,r,s){oe()}Or(e,n){return q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new cO(this)}getSize(e){return q.resolve(this.size)}}class cO extends tO{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),q.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e){this.persistence=e,this.Nr=new Eo(n=>hg(n),fg),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.Lr=0,this.Br=new yg,this.targetCount=0,this.kr=co.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),q.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new co(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.Kn(n),q.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),q.waitFor(i).next(()=>s)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return q.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),q.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),q.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return q.resolve(r)}containsKey(e,n){return q.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e,n){this.qr={},this.overlays={},this.Qr=new lg(0),this.Kr=!1,this.Kr=!0,this.$r=new oO,this.referenceDelegate=e(this),this.Ur=new uO(this),this.indexManager=new Zj,this.remoteDocumentCache=function(s){return new lO(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Jj(n),this.Gr=new sO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new iO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new aO(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Z("MemoryPersistence","Starting transaction:",e);const s=new hO(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return q.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class hO extends K3{constructor(e){super(),this.currentSequenceNumber=e}}class vg{constructor(e){this.persistence=e,this.Jr=new yg,this.Yr=null}static Zr(e){return new vg(e)}get Xr(){if(this.Yr)return this.Yr;throw oe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),q.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),q.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.Xr,r=>{const s=ne.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,ie.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return q.or([()=>q.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=me(),s=me();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new _g(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return yP()?8:Q3(_t())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new fO;return this.Xi(e,n,o).next(a=>{if(i.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Jo()<=he.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",yi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),q.resolve()):(Jo()<=he.DEBUG&&Z("QueryEngine","Query:",yi(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Jo()<=he.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",yi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ln(n))):q.resolve())}Yi(e,n){if(l_(n))return q.resolve(null);let r=Ln(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=fp(n,null,"F"),r=Ln(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=me(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const d=this.ts(n,a);return this.ns(n,d,o,l.readTime)?this.Yi(e,fp(n,null,"F")):this.rs(e,d,n,l)}))})))}Zi(e,n,r,s){return l_(n)||s.isEqual(ie.min())?q.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?q.resolve(null):(Jo()<=he.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),yi(n)),this.rs(e,o,n,q3(s,-1)).next(a=>a))})}ts(e,n){let r=new ot(ME(e));return n.forEach((s,i)=>{gd(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return Jo()<=he.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",yi(n)),this.Ji.getDocumentsMatchingQuery(e,n,es.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new ze(_e),this._s=new Eo(i=>hg(i),fg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rO(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function gO(t,e,n,r){return new mO(t,e,n,r)}async function e2(t,e){const n=pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=me();for(const d of s){o.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}for(const d of i){a.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(d=>({hs:d,removedBatchIds:o,addedBatchIds:a}))})})}function t2(t){const e=pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function yO(t,e){const n=pe(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((h,p)=>{const g=s.get(p);if(!g)return;a.push(n.Ur.removeMatchingKeys(i,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(i,h.addedDocuments,p)));let w=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?w=w.withResumeToken(lt.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):h.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(h.resumeToken,r)),s=s.insert(p,w),function(N,P,A){return N.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(g,w,h)&&a.push(n.Ur.updateTargetData(i,w))});let l=ns(),d=me();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(vO(i,o,e.documentUpdates).next(h=>{l=h.Ps,d=h.Is})),!r.isEqual(ie.min())){const h=n.Ur.getLastRemoteSnapshotVersion(i).next(p=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return q.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,d)).next(()=>l)}).then(i=>(n.os=s,i))}function vO(t,e,n){let r=me(),s=me();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=ns();return n.forEach((a,l)=>{const d=i.get(a);l.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ie.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!d.isValidDocument()||l.version.compareTo(d.version)>0||l.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Z("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",l.version)}),{Ps:o,Is:s}})}function _O(t,e){const n=pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,q.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new Mr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function vp(t,e,n){const r=pe(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!yl(o))throw o;Z("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function __(t,e,n){const r=pe(t);let s=ie.min(),i=me();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,d,h){const p=pe(l),g=p._s.get(h);return g!==void 0?q.resolve(p.os.get(g)):p.Ur.getTargetData(d,h)}(r,o,Ln(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:ie.min(),n?i:me())).next(a=>(xO(r,pj(e),a),{documents:a,Ts:i})))}function xO(t,e,n){let r=t.us.get(e)||ie.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class x_{constructor(){this.activeTargetIds=xj()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wO{constructor(){this.so=new x_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new x_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pc=null;function Dh(){return pc===null?pc=function(){return 268435456+Math.round(2147483648*Math.random())}():pc++,"0x"+pc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pt="WebChannelConnection";class IO extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=Dh(),l=this.xo(n,r.toUriEncodedString());Z("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,i,o),this.No(n,l,d,s).then(h=>(Z("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw io("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",s),h})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=EO[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=Dh();return new Promise((o,a)=>{const l=new bE;l.setWithCredentials(!0),l.listenOnce(EE.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Dc.NO_ERROR:const h=l.getResponseJson();Z(pt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),o(h);break;case Dc.TIMEOUT:Z(pt,`RPC '${e}' ${i} timed out`),a(new ee(K.DEADLINE_EXCEEDED,"Request time out"));break;case Dc.HTTP_ERROR:const p=l.getStatus();if(Z(pt,`RPC '${e}' ${i} failed with status:`,p,"response text:",l.getResponseText()),p>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);const w=g==null?void 0:g.error;if(w&&w.status&&w.message){const k=function(P){const A=P.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(A)>=0?A:K.UNKNOWN}(w.status);a(new ee(k,w.message))}else a(new ee(K.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ee(K.UNAVAILABLE,"Connection failed."));break;default:oe()}}finally{Z(pt,`RPC '${e}' ${i} completed.`)}});const d=JSON.stringify(s);Z(pt,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",d,r,15)})}Bo(e,n,r){const s=Dh(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=SE(),a=IE(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(l.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");Z(pt,`Creating RPC '${e}' stream ${s}: ${h}`,l);const p=o.createWebChannel(h,l);let g=!1,w=!1;const k=new TO({Io:P=>{w?Z(pt,`Not sending because RPC '${e}' stream ${s} is closed:`,P):(g||(Z(pt,`Opening RPC '${e}' stream ${s} transport.`),p.open(),g=!0),Z(pt,`RPC '${e}' stream ${s} sending:`,P),p.send(P))},To:()=>p.close()}),N=(P,A,E)=>{P.listen(A,C=>{try{E(C)}catch(j){setTimeout(()=>{throw j},0)}})};return N(p,ra.EventType.OPEN,()=>{w||(Z(pt,`RPC '${e}' stream ${s} transport opened.`),k.yo())}),N(p,ra.EventType.CLOSE,()=>{w||(w=!0,Z(pt,`RPC '${e}' stream ${s} transport closed`),k.So())}),N(p,ra.EventType.ERROR,P=>{w||(w=!0,io(pt,`RPC '${e}' stream ${s} transport errored:`,P),k.So(new ee(K.UNAVAILABLE,"The operation could not be completed")))}),N(p,ra.EventType.MESSAGE,P=>{var A;if(!w){const E=P.data[0];Ve(!!E);const C=E,j=C.error||((A=C[0])===null||A===void 0?void 0:A.error);if(j){Z(pt,`RPC '${e}' stream ${s} received error:`,j);const U=j.status;let L=function(x){const R=qe[x];if(R!==void 0)return HE(R)}(U),v=j.message;L===void 0&&(L=K.INTERNAL,v="Unknown error status: "+U+" with message "+j.message),w=!0,k.So(new ee(L,v)),p.close()}else Z(pt,`RPC '${e}' stream ${s} received:`,E),k.bo(E)}}),N(a,TE.STAT_EVENT,P=>{P.stat===ap.PROXY?Z(pt,`RPC '${e}' stream ${s} detected buffering proxy`):P.stat===ap.NOPROXY&&Z(pt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{k.wo()},0),k}}function Lh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(t){return new Fj(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&Z("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e,n,r,s,i,o,a,l){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new r2(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(or(n.toString()),or("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new ee(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class CO extends SO{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=zj(this.serializer,e),r=function(i){if(!("targetChange"in i))return ie.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ie.min():o.readTime?Hi(o.readTime):ie.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=v_(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=hp(l)?{documents:qj(i,l)}:{query:Hj(i,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Vj(i,o.resumeToken);const d=gp(i,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(ie.min())>0){a.readTime=Uj(i,o.snapshotVersion.toTimestamp());const d=gp(i,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);const r=Gj(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=v_(this.serializer),n.removeTarget=e,this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new ee(K.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,yp(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ee(K.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,yp(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ee(K.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class AO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(or(n),this.D_=!1):Z("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{xl(this)&&(Z("RemoteStore","Restarting streams for network reachability change."),await async function(l){const d=pe(l);d.L_.add(4),await _l(d),d.q_.set("Unknown"),d.L_.delete(4),await xd(d)}(this))})}),this.q_=new AO(r,s)}}async function xd(t){if(xl(t))for(const e of t.B_)await e(!0)}async function _l(t){for(const e of t.B_)await e(!1)}function s2(t,e){const n=pe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Eg(n)?bg(n):To(n).r_()&&wg(n,e))}function xg(t,e){const n=pe(t),r=To(n);n.N_.delete(e),r.r_()&&i2(n,e),n.N_.size===0&&(r.r_()?r.o_():xl(n)&&n.q_.set("Unknown"))}function wg(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}To(t).A_(e)}function i2(t,e){t.Q_.xe(e),To(t).R_(e)}function bg(t){t.Q_=new Oj({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),To(t).start(),t.q_.v_()}function Eg(t){return xl(t)&&!To(t).n_()&&t.N_.size>0}function xl(t){return pe(t).L_.size===0}function o2(t){t.Q_=void 0}async function PO(t){t.q_.set("Online")}async function NO(t){t.N_.forEach((e,n)=>{wg(t,e)})}async function jO(t,e){o2(t),Eg(t)?(t.q_.M_(e),bg(t)):t.q_.set("Unknown")}async function OO(t,e,n){if(t.q_.set("Online"),e instanceof GE&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){Z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await b_(t,r)}else if(e instanceof Mc?t.Q_.Ke(e):e instanceof WE?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ie.min()))try{const r=await t2(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((l,d)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.N_.get(d);h&&i.N_.set(d,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,d)=>{const h=i.N_.get(l);if(!h)return;i.N_.set(l,h.withResumeToken(lt.EMPTY_BYTE_STRING,h.snapshotVersion)),i2(i,l);const p=new Mr(h.target,l,d,h.sequenceNumber);wg(i,p)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Z("RemoteStore","Failed to raise snapshot:",r),await b_(t,r)}}async function b_(t,e,n){if(!yl(e))throw e;t.L_.add(1),await _l(t),t.q_.set("Offline"),n||(n=()=>t2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Z("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await xd(t)})}async function E_(t,e){const n=pe(t);n.asyncQueue.verifyOperationInProgress(),Z("RemoteStore","RemoteStore received new credentials");const r=xl(n);n.L_.add(3),await _l(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await xd(n)}async function DO(t,e){const n=pe(t);e?(n.L_.delete(2),await xd(n)):e||(n.L_.add(2),await _l(n),n.q_.set("Unknown"))}function To(t){return t.K_||(t.K_=function(n,r,s){const i=pe(n);return i.w_(),new CO(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:PO.bind(null,t),Ro:NO.bind(null,t),mo:jO.bind(null,t),d_:OO.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Eg(t)?bg(t):t.q_.set("Unknown")):(await t.K_.stop(),o2(t))})),t.K_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Tg(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ee(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function a2(t,e){if(or("AsyncQueue",`${e}: ${t}`),yl(t))return new ee(K.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=sa(),this.sortedSet=new ze(this.comparator)}static emptySet(e){return new Wi(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Wi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Wi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(){this.W_=new ze(ne.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):oe():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class uo{constructor(e,n,r,s,i,o,a,l,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new uo(e,n,Wi.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&md(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class MO{constructor(){this.queries=I_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=pe(n),i=s.queries;s.queries=I_(),i.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new ee(K.ABORTED,"Firestore shutting down"))}}function I_(){return new Eo(t=>LE(t),md)}async function l2(t,e){const n=pe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new LO,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=a2(o,`Initialization of query '${yi(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&Ig(n)}async function c2(t,e){const n=pe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function FO(t,e){const n=pe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&Ig(n)}function UO(t,e,n){const r=pe(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function Ig(t){t.Y_.forEach(e=>{e.next()})}var _p,S_;(S_=_p||(_p={})).ea="default",S_.Cache="cache";class u2{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new uo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==_p.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e){this.key=e}}class h2{constructor(e){this.key=e}}class VO{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=me(),this.mutatedKeys=me(),this.Aa=ME(e),this.Ra=new Wi(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new T_,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,p)=>{const g=s.get(h),w=gd(this.query,p)?p:null,k=!!g&&this.mutatedKeys.has(g.key),N=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let P=!1;g&&w?g.data.isEqual(w.data)?k!==N&&(r.track({type:3,doc:w}),P=!0):this.ga(g,w)||(r.track({type:2,doc:w}),P=!0,(l&&this.Aa(w,l)>0||d&&this.Aa(w,d)<0)&&(a=!0)):!g&&w?(r.track({type:0,doc:w}),P=!0):g&&!w&&(r.track({type:1,doc:g}),P=!0,(l||d)&&(a=!0)),P&&(w?(o=o.add(w),i=N?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,p)=>function(w,k){const N=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe()}};return N(w)-N(k)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,d=l!==this.Ea;return this.Ea=l,o.length!==0||d?{snapshot:new uo(this.query,e.Ra,i,o,e.mutatedKeys,l===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new T_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=me(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new h2(r))}),this.da.forEach(r=>{e.has(r)||n.push(new d2(r))}),n}ba(e){this.Ta=e.Ts,this.da=me();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return uo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class $O{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class BO{constructor(e){this.key=e,this.va=!1}}class zO{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Eo(a=>LE(a),md),this.Ma=new Map,this.xa=new Set,this.Oa=new ze(ne.comparator),this.Na=new Map,this.La=new yg,this.Ba={},this.ka=new Map,this.qa=co.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function qO(t,e,n=!0){const r=y2(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await f2(r,e,n,!0),s}async function HO(t,e){const n=y2(t);await f2(n,e,!0,!1)}async function f2(t,e,n,r){const s=await _O(t.localStore,Ln(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await WO(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&s2(t.remoteStore,s),a}async function WO(t,e,n,r,s){t.Ka=(p,g,w)=>async function(N,P,A,E){let C=P.view.ma(A);C.ns&&(C=await __(N.localStore,P.query,!1).then(({documents:v})=>P.view.ma(v,C)));const j=E&&E.targetChanges.get(P.targetId),U=E&&E.targetMismatches.get(P.targetId)!=null,L=P.view.applyChanges(C,N.isPrimaryClient,j,U);return k_(N,P.targetId,L.wa),L.snapshot}(t,p,g,w);const i=await __(t.localStore,e,!0),o=new VO(e,i.Ts),a=o.ma(i.documents),l=vl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(a,t.isPrimaryClient,l);k_(t,n,d.wa);const h=new $O(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),d.snapshot}async function GO(t,e,n){const r=pe(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!md(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await vp(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&xg(r.remoteStore,s.targetId),xp(r,s.targetId)}).catch(ag)):(xp(r,s.targetId),await vp(r.localStore,s.targetId,!0))}async function KO(t,e){const n=pe(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),xg(n.remoteStore,r.targetId))}async function p2(t,e){const n=pe(t);try{const r=await yO(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(Ve(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?Ve(o.va):s.removedDocuments.size>0&&(Ve(o.va),o.va=!1))}),await g2(n,r,e)}catch(r){await ag(r)}}function C_(t,e,n){const r=pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=pe(o);l.onlineState=a;let d=!1;l.queries.forEach((h,p)=>{for(const g of p.j_)g.Z_(a)&&(d=!0)}),d&&Ig(l)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function QO(t,e,n){const r=pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new ze(ne.comparator);o=o.insert(i,yt.newNoDocument(i,ie.min()));const a=me().add(i),l=new _d(ie.min(),new Map,new ze(_e),o,a);await p2(r,l),r.Oa=r.Oa.remove(i),r.Na.delete(e),Sg(r)}else await vp(r.localStore,e,!1).then(()=>xp(r,e,n)).catch(ag)}function xp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||m2(t,r)})}function m2(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(xg(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Sg(t))}function k_(t,e,n){for(const r of n)r instanceof d2?(t.La.addReference(r.key,e),YO(t,r)):r instanceof h2?(Z("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||m2(t,r.key)):oe()}function YO(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Z("SyncEngine","New document in limbo: "+n),t.xa.add(r),Sg(t))}function Sg(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ne(je.fromString(e)),r=t.qa.next();t.Na.set(r,new BO(n)),t.Oa=t.Oa.insert(n,r),s2(t.remoteStore,new Mr(Ln(pd(n.path)),r,"TargetPurposeLimboResolution",lg.oe))}}async function g2(t,e,n){const r=pe(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const p=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(d){s.push(d);const p=_g.Wi(l.targetId,d);i.push(p)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(l,d){const h=pe(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>q.forEach(d,g=>q.forEach(g.$i,w=>h.persistence.referenceDelegate.addReference(p,g.targetId,w)).next(()=>q.forEach(g.Ui,w=>h.persistence.referenceDelegate.removeReference(p,g.targetId,w)))))}catch(p){if(!yl(p))throw p;Z("LocalStore","Failed to update sequence numbers: "+p)}for(const p of d){const g=p.targetId;if(!p.fromCache){const w=h.os.get(g),k=w.snapshotVersion,N=w.withLastLimboFreeSnapshotVersion(k);h.os=h.os.insert(g,N)}}}(r.localStore,i))}async function JO(t,e){const n=pe(t);if(!n.currentUser.isEqual(e)){Z("SyncEngine","User change. New user:",e.toKey());const r=await e2(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(l=>{l.reject(new ee(K.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await g2(n,r.hs)}}function XO(t,e){const n=pe(t),r=n.Na.get(e);if(r&&r.va)return me().add(r.key);{let s=me();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function y2(t){const e=pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=p2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QO.bind(null,e),e.Ca.d_=FO.bind(null,e.eventManager),e.Ca.$a=UO.bind(null,e.eventManager),e}class Cu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=n2(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return gO(this.persistence,new pO,e.initialUser,this.serializer)}Ga(e){return new dO(vg.Zr,this.serializer)}Wa(e){return new wO}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cu.provider={build:()=>new Cu};class wp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>C_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=JO.bind(null,this.syncEngine),await DO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new MO}()}createDatastore(e){const n=n2(e.databaseInfo.databaseId),r=function(i){return new IO(i)}(e.databaseInfo);return function(i,o,a,l){return new kO(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new RO(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>C_(this.syncEngine,n,0),function(){return w_.D()?new w_:new bO}())}createSyncEngine(e,n){return function(s,i,o,a,l,d,h){const p=new zO(s,i,o,a,l,d);return h&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=pe(s);Z("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await _l(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}wp.provider={build:()=>new wp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):or("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=mt.UNAUTHENTICATED,this.clientId=kE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Z("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Z("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=a2(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Mh(t,e){t.asyncQueue.verifyOperationInProgress(),Z("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await e2(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function A_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await e6(t);Z("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>E_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>E_(e.remoteStore,s)),t._onlineComponents=e}async function e6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Z("FirestoreClient","Using user provided OfflineComponentProvider");try{await Mh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===K.FAILED_PRECONDITION||s.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;io("Error using user provided cache. Falling back to memory cache: "+n),await Mh(t,new Cu)}}else Z("FirestoreClient","Using default OfflineComponentProvider"),await Mh(t,new Cu);return t._offlineComponents}async function t6(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Z("FirestoreClient","Using user provided OnlineComponentProvider"),await A_(t,t._uninitializedComponentsProvider._online)):(Z("FirestoreClient","Using default OnlineComponentProvider"),await A_(t,new wp))),t._onlineComponents}async function bp(t){const e=await t6(t),n=e.eventManager;return n.onListen=qO.bind(null,e.syncEngine),n.onUnlisten=GO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=HO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=KO.bind(null,e.syncEngine),n}function n6(t,e,n={}){const r=new Ns;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,d){const h=new v2({next:g=>{h.Za(),o.enqueueAndForget(()=>c2(i,p));const w=g.docs.has(a);!w&&g.fromCache?d.reject(new ee(K.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&g.fromCache&&l&&l.source==="server"?d.reject(new ee(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(g)},error:g=>d.reject(g)}),p=new u2(pd(a.path),h,{includeMetadataChanges:!0,_a:!0});return l2(i,p)}(await bp(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(t,e,n){if(!n)throw new ee(K.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function r6(t,e,n,r){if(e===!0&&r===!0)throw new ee(K.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function P_(t){if(!ne.isDocumentKey(t))throw new ee(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function N_(t){if(ne.isDocumentKey(t))throw new ee(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function s6(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe()}function Gi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ee(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=s6(t);throw new ee(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ee(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ee(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}r6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ee(K.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ee(K.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ee(K.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wd{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new j_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ee(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ee(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new j_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new D3;switch(r.type){case"firstParty":return new U3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ee(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=R_.get(n);r&&(Z("ComponentProvider","Removing Datastore"),R_.delete(n),r.terminate())}(this),Promise.resolve()}}function i6(t,e,n,r={}){var s;const i=(t=Gi(t,wd))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=mt.MOCK_USER;else{a=Ob(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new ee(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new mt(d)}t._authCredentials=new L3(new CE(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new bd(this.firestore,e,this._query)}}class bn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bn(this.firestore,e,this._key)}}class Jr extends bd{constructor(e,n,r){super(e,n,pd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bn(this.firestore,null,new ne(e))}withConverter(e){return new Jr(this.firestore,e,this._path)}}function o6(t,e,...n){if(t=un(t),x2("collection","path",e),t instanceof wd){const r=je.fromString(e,...n);return N_(r),new Jr(t,null,r)}{if(!(t instanceof bn||t instanceof Jr))throw new ee(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(je.fromString(e,...n));return N_(r),new Jr(t.firestore,null,r)}}function a6(t,e,...n){if(t=un(t),arguments.length===1&&(e=kE.newId()),x2("doc","path",e),t instanceof wd){const r=je.fromString(e,...n);return P_(r),new bn(t,null,new ne(r))}{if(!(t instanceof bn||t instanceof Jr))throw new ee(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(je.fromString(e,...n));return P_(r),new bn(t.firestore,t instanceof Jr?t.converter:null,new ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new r2(this,"async_queue_retry"),this.Vu=()=>{const r=Lh();r&&Z("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Lh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Lh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ns;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!yl(e))throw e;Z("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw or("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=Tg.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&oe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function D_(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class ku extends wd{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new O_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new O_(e),this._firestoreClient=void 0,await e}}}function w2(t,e){const n=typeof t=="object"?t:Km(),r=typeof t=="string"?t:"(default)",s=xo(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=Pb("firestore");i&&i6(s,...i)}return s}function b2(t){if(t._terminated)throw new ee(K.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||l6(t),t._firestoreClient}function l6(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,d,h){return new X3(a,l,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,_2(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new ZO(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Au(lt.fromBase64String(e))}catch(n){throw new ee(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Au(lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ee(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ee(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ee(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}const d6=new RegExp("[~\\*/\\[\\]]");function h6(t,e,n){if(e.search(d6)>=0)throw L_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new E2(...e.split("."))._internalPath}catch{throw L_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function L_(t,e,n,r,s){let i=`Function ${e}() called with invalid data`;i+=". ";let o="";return new ee(K.INVALID_ARGUMENT,i+t+o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new f6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(I2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class f6 extends T2{data(){return super.data()}}function I2(t,e){return typeof e=="string"?h6(t,e):e instanceof E2?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ee(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class m6{convertValue(e,n="none"){switch(Hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $e(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw oe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return hd(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>$e(o.doubleValue));return new u6(i)}convertGeoPoint(e){return new c6($e(e.latitude),$e(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ug(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xa(e));default:return null}}convertTimestamp(e){const n=ts(e);return new Ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=je.fromString(e);Ve(ZE(r));const s=new Za(r.get(1),r.get(3)),i=new ne(r.popFirst(5));return s.isEqual(n)||or(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class S2 extends T2{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(I2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Fc extends S2{data(e={}){return super.data(e)}}class g6{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new oa(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Fc(this._firestore,this._userDataWriter,r.key,r,new oa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ee(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Fc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new oa(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Fc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new oa(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:y6(a.type),doc:l,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function y6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v6(t){t=Gi(t,bn);const e=Gi(t.firestore,ku);return n6(b2(e),t._key).then(n=>k2(e,t,n))}class C2 extends m6{constructor(e){super(),this.firestore=e}convertBytes(e){return new Au(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bn(this.firestore,null,n)}}function _6(t,...e){var n,r,s;t=un(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||D_(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(D_(e[o])){const p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(s=p.complete)===null||s===void 0?void 0:s.bind(p)}let l,d,h;if(t instanceof bn)d=Gi(t.firestore,ku),h=pd(t._key.path),l={next:p=>{e[o]&&e[o](k2(d,t,p))},error:e[o+1],complete:e[o+2]};else{const p=Gi(t,bd);d=Gi(p.firestore,ku),h=p._query;const g=new C2(d);l={next:w=>{e[o]&&e[o](new g6(d,g,p,w))},error:e[o+1],complete:e[o+2]},p6(t._query)}return function(g,w,k,N){const P=new v2(N),A=new u2(w,P,k);return g.asyncQueue.enqueueAndForget(async()=>l2(await bp(g),A)),()=>{P.Za(),g.asyncQueue.enqueueAndForget(async()=>c2(await bp(g),A))}}(b2(d),h,a,l)}function k2(t,e,n){const r=n.docs.get(e._key),s=new C2(t);return new S2(t,s,e._key,r,new oa(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){bo=s})(si),Tn(new ln("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new ku(new M3(r.getProvider("auth-internal")),new $3(r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ee(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Za(d.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Ft(Xv,"4.7.3",e),Ft(Xv,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2="firebasestorage.googleapis.com",x6="storageBucket",w6=2*60*1e3,b6=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n extends cn{constructor(e,n,r=0){super(Fh(e),`Firebase Storage: ${n} (${Fh(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Fh(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Un;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Un||(Un={}));function Fh(t){return"storage/"+t}function E6(){const t="An unknown error occurred, please check the error payload for server response.";return new $n(Un.UNKNOWN,t)}function T6(){return new $n(Un.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function I6(){return new $n(Un.CANCELED,"User canceled the upload/download.")}function S6(t){return new $n(Un.INVALID_URL,"Invalid URL '"+t+"'.")}function C6(t){return new $n(Un.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function M_(t){return new $n(Un.INVALID_ARGUMENT,t)}function R2(){return new $n(Un.APP_DELETED,"The Firebase app was deleted.")}function k6(t){return new $n(Un.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=_n.makeFromUrl(e,n)}catch{return new _n(e,"")}if(r.path==="")return r;throw C6(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(j){j.path.charAt(j.path.length-1)==="/"&&(j.path_=j.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function d(j){j.path_=decodeURIComponent(j.path)}const h="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",w=new RegExp(`^https?://${p}/${h}/b/${s}/o${g}`,"i"),k={bucket:1,path:3},N=n===A2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",A=new RegExp(`^https?://${N}/${s}/${P}`,"i"),C=[{regex:a,indices:l,postModify:i},{regex:w,indices:k,postModify:d},{regex:A,indices:{bucket:1,path:2},postModify:d}];for(let j=0;j<C.length;j++){const U=C[j],L=U.regex.exec(e);if(L){const v=L[U.indices.bucket];let y=L[U.indices.path];y||(y=""),r=new _n(v,y),U.postModify(r);break}}if(r==null)throw S6(e);return r}}class A6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R6(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let d=!1;function h(...P){d||(d=!0,e.apply(null,P))}function p(P){s=setTimeout(()=>{s=null,t(w,l())},P)}function g(){i&&clearTimeout(i)}function w(P,...A){if(d){g();return}if(P){g(),h.call(null,P,...A);return}if(l()||o){g(),h.call(null,P,...A);return}r<64&&(r*=2);let C;a===1?(a=2,C=0):C=(r+Math.random())*1e3,p(C)}let k=!1;function N(P){k||(k=!0,g(),!d&&(s!==null?(P||(a=2),clearTimeout(s),p(0)):P||(a=1)))}return p(0),i=setTimeout(()=>{o=!0,N(!0)},n),N}function P6(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N6(t){return t!==void 0}function F_(t,e,n,r){if(r<e)throw M_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw M_(`Invalid value for '${t}'. Expected ${n} or less.`)}function j6(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Ru;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ru||(Ru={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O6(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e,n,r,s,i,o,a,l,d,h,p,g=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=d,this.progressCallback_=h,this.connectionFactory_=p,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,k)=>{this.resolve_=w,this.reject_=k,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new mc(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,d=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,d)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===Ru.NO_ERROR,l=i.getStatus();if(!a||O6(l,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===Ru.ABORT;r(!1,new mc(!1,null,h));return}const d=this.successCodes_.indexOf(l)!==-1;r(!0,new mc(d,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());N6(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=E6();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?R2():I6();o(l)}else{const l=T6();o(l)}};this.canceled_?n(!1,new mc(!1,null,!0)):this.backoffId_=R6(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&P6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class mc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function L6(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function M6(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function F6(t,e){e&&(t["X-Firebase-GMPID"]=e)}function U6(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function V6(t,e,n,r,s,i,o=!0){const a=j6(t.urlParams),l=t.url+a,d=Object.assign({},t.headers);return F6(d,e),L6(d,n),M6(d,i),U6(d,r),new D6(l,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $6(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function B6(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n){this._service=e,n instanceof _n?this._location=n:this._location=_n.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Pu(e,n)}get root(){const e=new _n(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return B6(this._location.path)}get storage(){return this._service}get parent(){const e=$6(this._location.path);if(e===null)return null;const n=new _n(this._location.bucket,e);return new Pu(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw k6(e)}}function U_(t,e){const n=e==null?void 0:e[x6];return n==null?null:_n.makeFromBucketSpec(n,t)}function z6(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:Ob(s,t.app.options.projectId))}class q6{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=A2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=w6,this._maxUploadRetryTime=b6,this._requests=new Set,s!=null?this._bucket=_n.makeFromBucketSpec(s,this._host):this._bucket=U_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=_n.makeFromBucketSpec(this._url,e):this._bucket=U_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){F_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){F_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Pu(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new A6(R2());{const o=V6(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const V_="@firebase/storage",$_="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2="storage";function N2(t=Km(),e){t=un(t);const r=xo(t,P2).getImmediate({identifier:e}),s=Pb("storage");return s&&H6(r,...s),r}function H6(t,e,n,r={}){z6(t,e,n,r)}function W6(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new q6(n,r,s,e,si)}function G6(){Tn(new ln(P2,W6,"PUBLIC").setMultipleInstances(!0)),Ft(V_,$_,""),Ft(V_,$_,"esm2017")}G6();const K6={apiKey:"AIzaSyADFTF7mL1ikrN9cVtOR_c8olJBfk7toSg",authDomain:"lostandfound-3e2fa.firebaseapp.com",projectId:"lostandfound-3e2fa",storageBucket:"lostandfound-3e2fa.appspot.com",messagingSenderId:"318273901587",appId:"1:318273901587:web:16d059539787864b169be6"},Cg=Gm(K6),Q6=ig(Cg);N2(Cg);const Y6=w2(Cg),J6="https://mxqzohhojkveomcyfxuv.supabase.co",X6="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im14cXpvaGhvamt2ZW9tY3lmeHV2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjkwMDM4MDMsImV4cCI6MjA0NDU3OTgwM30.hVZUxMf-LINa4lLEst63cHnW5yBBps78QAtI0kWm73k",Uh=Sb(J6,X6);var j2={exports:{}},Z6="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",e5=Z6,t5=e5;function O2(){}function D2(){}D2.resetWarningCache=O2;var n5=function(){function t(r,s,i,o,a,l){if(l!==t5){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:D2,resetWarningCache:O2};return n.PropTypes=n,n};j2.exports=n5();var r5=j2.exports;const ce=zp(r5),s5=O.createContext({user:null,isLoading:!0}),L2=({children:t})=>{const[e,n]=O.useState(null),[r,s]=O.useState(!0);O.useEffect(()=>{const o=w4(Q6,async a=>{if(a){const l=a6(Y6,"users",a.uid),d=await v6(l);d.exists()&&n({id:a.uid,name:d.data().firstName+" "+d.data().lastName,email:a.email,contact:d.data().contact})}else n(null);s(!1)});return()=>o()},[]);const i={user:e,isLoading:r};return u.jsx(s5.Provider,{value:i,children:!r&&t})};L2.propTypes={children:ce.node.isRequired};const i5="/assets/NULAFD_LOGO-BzXy9TvO.svg",o5="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='500'%20zoomAndPan='magnify'%20viewBox='0%200%20375%20374.999991'%20height='500'%20preserveAspectRatio='xMidYMid%20meet'%20version='1.0'%3e%3cdefs%3e%3cclipPath%20id='3dd3ccad0b'%3e%3cpath%20d='M%20144%20337%20L%20231%20337%20L%20231%20371.25%20L%20144%20371.25%20Z%20M%20144%20337%20'%20clip-rule='nonzero'/%3e%3c/clipPath%3e%3cclipPath%20id='817793f520'%3e%3cpath%20d='M%2018.75%200%20L%20356.25%200%20L%20356.25%20321%20L%2018.75%20321%20Z%20M%2018.75%200%20'%20clip-rule='nonzero'/%3e%3c/clipPath%3e%3c/defs%3e%3cg%20clip-path='url(%233dd3ccad0b)'%3e%3cpath%20fill='%23ffffff'%20d='M%20229.921875%20338.929688%20C%20229.09375%20337.730469%20227.441406%20336.902344%20226.390625%20337.054688%20L%20148.835938%20337.503906%20C%20148.835938%20337.503906%20146.054688%20338.253906%20145.304688%20339.457031%20C%20144.550781%20340.660156%20144.402344%20342.164062%20145.003906%20343.441406%20C%20152.367188%20360.347656%20169.125%20371.246094%20187.539062%20371.246094%20C%20206.25%20371.246094%20223.007812%20360.125%20230.296875%20342.914062%20C%20230.824219%20341.5625%20230.675781%20340.058594%20229.921875%20338.929688%20Z%20M%20229.921875%20338.929688%20'%20fill-opacity='1'%20fill-rule='nonzero'/%3e%3c/g%3e%3cg%20clip-path='url(%23817793f520)'%3e%3cpath%20fill='%23ffffff'%20d='M%20353.242188%20297.296875%20L%20305.675781%20257.617188%20L%20305.675781%20151.882812%20C%20305.675781%2098.300781%20269.753906%2052.984375%20220.753906%2038.554688%20C%20220.980469%2036.976562%20221.28125%2035.398438%20221.28125%2033.746094%20C%20221.28125%2015.109375%20206.175781%200.00390625%20187.539062%200.00390625%20C%20168.898438%200.00390625%20153.796875%2015.109375%20153.796875%2033.746094%20C%20153.796875%2035.398438%20154.097656%2036.976562%20154.320312%2038.554688%20C%20105.324219%2052.984375%2069.402344%2098.226562%2069.402344%20151.882812%20L%2069.402344%20257.617188%20L%2021.757812%20297.296875%20C%2019.800781%20298.875%2018.75%20301.28125%2018.75%20303.761719%20L%2018.75%20312.179688%20C%2018.75%20316.835938%2022.507812%20320.59375%2027.167969%20320.59375%20L%20347.832031%20320.59375%20C%20352.492188%20320.59375%20356.25%20316.835938%20356.25%20312.179688%20L%20356.25%20303.761719%20C%20356.25%20301.28125%20355.121094%20298.875%20353.242188%20297.296875%20Z%20M%20170.777344%2035.097656%20C%20170.777344%2034.648438%20170.628906%2034.195312%20170.628906%2033.746094%20C%20170.628906%2024.425781%20178.21875%2016.835938%20187.539062%2016.835938%20C%20196.855469%2016.835938%20204.371094%2024.425781%20204.371094%2033.746094%20C%20204.371094%2034.195312%20204.296875%2034.648438%20204.222656%2035.097656%20C%20198.734375%2034.347656%20193.175781%2033.746094%20187.460938%2033.746094%20C%20181.75%2033.746094%20176.265625%2034.273438%20170.777344%2035.097656%20Z%20M%20170.777344%2035.097656%20'%20fill-opacity='1'%20fill-rule='nonzero'/%3e%3c/g%3e%3c/svg%3e",a5="/assets/Memo1Img-CUNrE0VH.png",l5="/assets/Memo2Img-B9QwnBDI.png",c5="/assets/Report1Img-CXnXZbVX.png",B_="/assets/Report2Img-aG6KwkVp.png",M2="@firebase/installations",kg="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=1e4,U2=`w:${kg}`,V2="FIS_v2",u5="https://firebaseinstallations.googleapis.com/v1",d5=60*60*1e3,h5="installations",f5="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ws=new ri(h5,f5,p5);function $2(t){return t instanceof cn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2({projectId:t}){return`${u5}/projects/${t}/installations`}function z2(t){return{token:t.token,requestStatus:2,expiresIn:g5(t.expiresIn),creationTime:Date.now()}}async function q2(t,e){const r=(await e.json()).error;return Ws.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function H2({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function m5(t,{refreshToken:e}){const n=H2(t);return n.append("Authorization",y5(e)),n}async function W2(t){const e=await t();return e.status>=500&&e.status<600?t():e}function g5(t){return Number(t.replace("s","000"))}function y5(t){return`${V2} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v5({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=B2(t),s=H2(t),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={fid:n,authVersion:V2,appId:t.appId,sdkVersion:U2},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await W2(()=>fetch(r,a));if(l.ok){const d=await l.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:z2(d.authToken)}}else throw await q2("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _5(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5=/^[cdef][\w-]{21}$/,Ep="";function w5(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=b5(t);return x5.test(n)?n:Ep}catch{return Ep}}function b5(t){return _5(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=new Map;function Q2(t,e){const n=Ed(t);Y2(n,e),E5(n,e)}function Y2(t,e){const n=K2.get(t);if(n)for(const r of n)r(e)}function E5(t,e){const n=T5();n&&n.postMessage({key:t,fid:e}),I5()}let Cs=null;function T5(){return!Cs&&"BroadcastChannel"in self&&(Cs=new BroadcastChannel("[Firebase] FID Change"),Cs.onmessage=t=>{Y2(t.data.key,t.data.fid)}),Cs}function I5(){K2.size===0&&Cs&&(Cs.close(),Cs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5="firebase-installations-database",C5=1,Gs="firebase-installations-store";let Vh=null;function Ag(){return Vh||(Vh=Vb(S5,C5,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Gs)}}})),Vh}async function Nu(t,e){const n=Ed(t),s=(await Ag()).transaction(Gs,"readwrite"),i=s.objectStore(Gs),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&Q2(t,e.fid),e}async function J2(t){const e=Ed(t),r=(await Ag()).transaction(Gs,"readwrite");await r.objectStore(Gs).delete(e),await r.done}async function Td(t,e){const n=Ed(t),s=(await Ag()).transaction(Gs,"readwrite"),i=s.objectStore(Gs),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&Q2(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rg(t){let e;const n=await Td(t.appConfig,r=>{const s=k5(r),i=A5(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===Ep?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function k5(t){const e=t||{fid:w5(),registrationStatus:0};return X2(e)}function A5(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Ws.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=R5(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:P5(t)}:{installationEntry:e}}async function R5(t,e){try{const n=await v5(t,e);return Nu(t.appConfig,n)}catch(n){throw $2(n)&&n.customData.serverCode===409?await J2(t.appConfig):await Nu(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function P5(t){let e=await z_(t.appConfig);for(;e.registrationStatus===1;)await G2(100),e=await z_(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Rg(t);return r||n}return e}function z_(t){return Td(t,e=>{if(!e)throw Ws.create("installation-not-found");return X2(e)})}function X2(t){return N5(t)?{fid:t.fid,registrationStatus:0}:t}function N5(t){return t.registrationStatus===1&&t.registrationTime+F2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j5({appConfig:t,heartbeatServiceProvider:e},n){const r=O5(t,n),s=m5(t,n),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={installation:{sdkVersion:U2,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await W2(()=>fetch(r,a));if(l.ok){const d=await l.json();return z2(d)}else throw await q2("Generate Auth Token",l)}function O5(t,{fid:e}){return`${B2(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pg(t,e=!1){let n;const r=await Td(t.appConfig,i=>{if(!Z2(i))throw Ws.create("not-registered");const o=i.authToken;if(!e&&M5(o))return i;if(o.requestStatus===1)return n=D5(t,e),i;{if(!navigator.onLine)throw Ws.create("app-offline");const a=U5(i);return n=L5(t,a),a}});return n?await n:r.authToken}async function D5(t,e){let n=await q_(t.appConfig);for(;n.authToken.requestStatus===1;)await G2(100),n=await q_(t.appConfig);const r=n.authToken;return r.requestStatus===0?Pg(t,e):r}function q_(t){return Td(t,e=>{if(!Z2(e))throw Ws.create("not-registered");const n=e.authToken;return V5(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function L5(t,e){try{const n=await j5(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Nu(t.appConfig,r),n}catch(n){if($2(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await J2(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Nu(t.appConfig,r)}throw n}}function Z2(t){return t!==void 0&&t.registrationStatus===2}function M5(t){return t.requestStatus===2&&!F5(t)}function F5(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+d5}function U5(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function V5(t){return t.requestStatus===1&&t.requestTime+F2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $5(t){const e=t,{installationEntry:n,registrationPromise:r}=await Rg(e);return r?r.catch(console.error):Pg(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B5(t,e=!1){const n=t;return await z5(n),(await Pg(n,e)).token}async function z5(t){const{registrationPromise:e}=await Rg(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q5(t){if(!t||!t.options)throw $h("App Configuration");if(!t.name)throw $h("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw $h(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function $h(t){return Ws.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="installations",H5="installations-internal",W5=t=>{const e=t.getProvider("app").getImmediate(),n=q5(e),r=xo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},G5=t=>{const e=t.getProvider("app").getImmediate(),n=xo(e,eT).getImmediate();return{getId:()=>$5(n),getToken:s=>B5(n,s)}};function K5(){Tn(new ln(eT,W5,"PUBLIC")),Tn(new ln(H5,G5,"PRIVATE"))}K5();Ft(M2,kg);Ft(M2,kg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="analytics",Q5="firebase_id",Y5="origin",J5=60*1e3,X5="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ng="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vt=new ld("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z5={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},sn=new ri("analytics","Analytics",Z5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(t){if(!t.startsWith(Ng)){const e=sn.create("invalid-gtag-resource",{gtagURL:t});return Vt.warn(e.message),""}return t}function tT(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function tD(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function nD(t,e){const n=tD("firebase-js-sdk-policy",{createScriptURL:eD}),r=document.createElement("script"),s=`${Ng}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function rD(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function sD(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await tT(n)).find(d=>d.measurementId===s);l&&await e[l.appId]}}catch(a){Vt.error(a)}t("config",s,i)}async function iD(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await tT(n);for(const l of o){const d=a.find(p=>p.measurementId===l),h=d&&e[d.appId];if(h)i.push(h);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){Vt.error(i)}}function oD(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await iD(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await sD(t,e,n,r,a,l)}else if(i==="consent"){const[a,l]=o;t("consent",a,l)}else if(i==="get"){const[a,l,d]=o;t("get",a,l,d)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){Vt.error(a)}}return s}function aD(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=oD(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function lD(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Ng)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=30,uD=1e3;class dD{constructor(e={},n=uD){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const nT=new dD;function hD(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function fD(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:hD(r)},i=X5.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw sn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function pD(t,e=nT,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw sn.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw sn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new yD;return setTimeout(async()=>{a.abort()},J5),rT({appId:r,apiKey:s,measurementId:i},o,a,e)}async function rT(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=nT){var i;const{appId:o,measurementId:a}=t;try{await mD(r,e)}catch(l){if(a)return Vt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await fD(t);return s.deleteThrottleMetadata(o),l}catch(l){const d=l;if(!gD(d)){if(s.deleteThrottleMetadata(o),a)return Vt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:o,measurementId:a};throw l}const h=Number((i=d==null?void 0:d.customData)===null||i===void 0?void 0:i.httpStatus)===503?Iv(n,s.intervalMillis,cD):Iv(n,s.intervalMillis),p={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return s.setThrottleMetadata(o,p),Vt.debug(`Calling attemptFetch again in ${h} millis`),rT(t,p,r,s)}}function mD(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(sn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function gD(t){if(!(t instanceof cn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class yD{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function vD(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o=Object.assign(Object.assign({},r),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _D(){if(Lb())try{await Mb()}catch(t){return Vt.warn(sn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Vt.warn(sn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function xD(t,e,n,r,s,i,o){var a;const l=pD(t);l.then(w=>{n[w.measurementId]=w.appId,t.options.measurementId&&w.measurementId!==t.options.measurementId&&Vt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>Vt.error(w)),e.push(l);const d=_D().then(w=>{if(w)return r.getId()}),[h,p]=await Promise.all([l,d]);lD(i)||nD(i,h.measurementId),s("js",new Date);const g=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return g[Y5]="firebase",g.update=!0,p!=null&&(g[Q5]=p),s("config",h.measurementId,g),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){this.app=e}_delete(){return delete Ia[this.app.options.appId],Promise.resolve()}}let Ia={},W_=[];const G_={};let Bh="dataLayer",bD="gtag",K_,sT,Q_=!1;function ED(){const t=[];if(Db()&&t.push("This is a browser extension environment."),vP()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=sn.create("invalid-analytics-context",{errorInfo:e});Vt.warn(n.message)}}function TD(t,e,n){ED();const r=t.options.appId;if(!r)throw sn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Vt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw sn.create("no-api-key");if(Ia[r]!=null)throw sn.create("already-exists",{id:r});if(!Q_){rD(Bh);const{wrappedGtag:i,gtagCore:o}=aD(Ia,W_,G_,Bh,bD);sT=i,K_=o,Q_=!0}return Ia[r]=xD(t,W_,G_,e,K_,Bh,n),new wD(t)}function ID(t,e,n,r){t=un(t),vD(sT,Ia[t.app.options.appId],e,n,r).catch(s=>Vt.error(s))}const Y_="@firebase/analytics",J_="0.10.8";function SD(){Tn(new ln(H_,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return TD(r,s,n)},"PUBLIC")),Tn(new ln("analytics-internal",t,"PRIVATE")),Ft(Y_,J_),Ft(Y_,J_,"esm2017");function t(e){try{const n=e.getProvider(H_).getImmediate();return{logEvent:(r,s,i)=>ID(n,r,s,i)}}catch(n){throw sn.create("interop-component-reg-failed",{reason:n})}}}SD();const CD={apiKey:"AIzaSyADFTF7mL1ikrN9cVtOR_c8olJBfk7toSg",authDomain:"lostandfound-3e2fa.firebaseapp.com",projectId:"lostandfound-3e2fa",storageBucket:"lostandfound-3e2fa.appspot.com",messagingSenderId:"318273901587",appId:"1:318273901587:web:16d059539787864b169be6"},jg=Gm(CD);ig(jg);N2(jg);const kD=w2(jg),X_=()=>{};let Og={},iT={},oT=null,aT={mark:X_,measure:X_};try{typeof window<"u"&&(Og=window),typeof document<"u"&&(iT=document),typeof MutationObserver<"u"&&(oT=MutationObserver),typeof performance<"u"&&(aT=performance)}catch{}const{userAgent:Z_=""}=Og.navigator||{},rs=Og,Pe=iT,e1=oT,gc=aT;rs.document;const ur=!!Pe.documentElement&&!!Pe.head&&typeof Pe.addEventListener=="function"&&typeof Pe.createElement=="function",lT=~Z_.indexOf("MSIE")||~Z_.indexOf("Trident/");var Oe="classic",cT="duotone",Gt="sharp",Kt="sharp-duotone",AD=[Oe,cT,Gt,Kt],RD={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds"}},t1={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},PD=["kit"],ND=/fa(s|r|l|t|d|b|k|kd|ss|sr|sl|st|sds)?[\-\ ]/,jD=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,OD={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},DD={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds"}},LD={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds"}},MD={classic:["fas","far","fal","fat"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds"]},FD={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid"}},UD={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds"}},uT={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid"}},VD=["solid","regular","light","thin","duotone","brands"],dT=[1,2,3,4,5,6,7,8,9,10],$D=dT.concat([11,12,13,14,15,16,17,18,19,20]),aa={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},BD=[...Object.keys(MD),...VD,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",aa.GROUP,aa.SWAP_OPACITY,aa.PRIMARY,aa.SECONDARY].concat(dT.map(t=>"".concat(t,"x"))).concat($D.map(t=>"w-".concat(t))),zD={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},qD={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},HD={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},n1={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}};const ar="___FONT_AWESOME___",Tp=16,hT="fa",fT="svg-inline--fa",Ks="data-fa-i2svg",Ip="data-fa-pseudo-element",WD="data-fa-pseudo-element-pending",Dg="data-prefix",Lg="data-icon",r1="fontawesome-i2svg",GD="async",KD=["HTML","HEAD","STYLE","SCRIPT"],pT=(()=>{try{return!0}catch{return!1}})(),mT=[Oe,Gt,Kt];function wl(t){return new Proxy(t,{get(e,n){return n in e?e[n]:e[Oe]}})}const gT={...uT};gT[Oe]={...uT[Oe],...t1.kit,...t1["kit-duotone"]};const Os=wl(gT),Sp={...UD};Sp[Oe]={...Sp[Oe],...n1.kit,...n1["kit-duotone"]};const tl=wl(Sp),Cp={...FD};Cp[Oe]={...Cp[Oe],...HD.kit};const Ds=wl(Cp),kp={...LD};kp[Oe]={...kp[Oe],...qD.kit};const QD=wl(kp),YD=ND,yT="fa-layers-text",JD=jD,XD={...RD};wl(XD);const ZD=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],zh=aa,ho=new Set;Object.keys(tl[Oe]).map(ho.add.bind(ho));Object.keys(tl[Gt]).map(ho.add.bind(ho));Object.keys(tl[Kt]).map(ho.add.bind(ho));const e9=[...PD,...BD],Sa=rs.FontAwesomeConfig||{};function t9(t){var e=Pe.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function n9(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}Pe&&typeof Pe.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[n,r]=e;const s=n9(t9(n));s!=null&&(Sa[r]=s)});const vT={styleDefault:"solid",familyDefault:"classic",cssPrefix:hT,replacementClass:fT,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Sa.familyPrefix&&(Sa.cssPrefix=Sa.familyPrefix);const fo={...vT,...Sa};fo.autoReplaceSvg||(fo.observeMutations=!1);const X={};Object.keys(vT).forEach(t=>{Object.defineProperty(X,t,{enumerable:!0,set:function(e){fo[t]=e,Ca.forEach(n=>n(X))},get:function(){return fo[t]}})});Object.defineProperty(X,"familyPrefix",{enumerable:!0,set:function(t){fo.cssPrefix=t,Ca.forEach(e=>e(X))},get:function(){return fo.cssPrefix}});rs.FontAwesomeConfig=X;const Ca=[];function r9(t){return Ca.push(t),()=>{Ca.splice(Ca.indexOf(t),1)}}const _r=Tp,Rn={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function s9(t){if(!t||!ur)return;const e=Pe.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;const n=Pe.head.childNodes;let r=null;for(let s=n.length-1;s>-1;s--){const i=n[s],o=(i.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=i)}return Pe.head.insertBefore(e,r),t}const i9="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function nl(){let t=12,e="";for(;t-- >0;)e+=i9[Math.random()*62|0];return e}function Io(t){const e=[];for(let n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function Mg(t){return t.classList?Io(t.classList):(t.getAttribute("class")||"").split(" ").filter(e=>e)}function _T(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function o9(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,'="').concat(_T(t[n]),'" '),"").trim()}function Id(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,": ").concat(t[n].trim(),";"),"")}function Fg(t){return t.size!==Rn.size||t.x!==Rn.x||t.y!==Rn.y||t.rotate!==Rn.rotate||t.flipX||t.flipY}function a9(t){let{transform:e,containerWidth:n,iconWidth:r}=t;const s={transform:"translate(".concat(n/2," 256)")},i="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)"),l={transform:"".concat(i," ").concat(o," ").concat(a)},d={transform:"translate(".concat(r/2*-1," -256)")};return{outer:s,inner:l,path:d}}function l9(t){let{transform:e,width:n=Tp,height:r=Tp,startCentered:s=!1}=t,i="";return s&&lT?i+="translate(".concat(e.x/_r-n/2,"em, ").concat(e.y/_r-r/2,"em) "):s?i+="translate(calc(-50% + ".concat(e.x/_r,"em), calc(-50% + ").concat(e.y/_r,"em)) "):i+="translate(".concat(e.x/_r,"em, ").concat(e.y/_r,"em) "),i+="scale(".concat(e.size/_r*(e.flipX?-1:1),", ").concat(e.size/_r*(e.flipY?-1:1),") "),i+="rotate(".concat(e.rotate,"deg) "),i}var c9=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function xT(){const t=hT,e=fT,n=X.cssPrefix,r=X.replacementClass;let s=c9;if(n!==t||r!==e){const i=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");s=s.replace(i,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return s}let s1=!1;function qh(){X.autoAddCss&&!s1&&(s9(xT()),s1=!0)}var u9={mixout(){return{dom:{css:xT,insertCss:qh}}},hooks(){return{beforeDOMElementCreation(){qh()},beforeI2svg(){qh()}}}};const lr=rs||{};lr[ar]||(lr[ar]={});lr[ar].styles||(lr[ar].styles={});lr[ar].hooks||(lr[ar].hooks={});lr[ar].shims||(lr[ar].shims=[]);var Pn=lr[ar];const wT=[],bT=function(){Pe.removeEventListener("DOMContentLoaded",bT),ju=1,wT.map(t=>t())};let ju=!1;ur&&(ju=(Pe.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Pe.readyState),ju||Pe.addEventListener("DOMContentLoaded",bT));function d9(t){ur&&(ju?setTimeout(t,0):wT.push(t))}function bl(t){const{tag:e,attributes:n={},children:r=[]}=t;return typeof t=="string"?_T(t):"<".concat(e," ").concat(o9(n),">").concat(r.map(bl).join(""),"</").concat(e,">")}function i1(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var Hh=function(e,n,r,s){var i=Object.keys(e),o=i.length,a=n,l,d,h;for(r===void 0?(l=1,h=e[i[0]]):(l=0,h=r);l<o;l++)d=i[l],h=a(h,e[d],d,e);return h};function h9(t){const e=[];let n=0;const r=t.length;for(;n<r;){const s=t.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){const i=t.charCodeAt(n++);(i&64512)==56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),n--)}else e.push(s)}return e}function Ap(t){const e=h9(t);return e.length===1?e[0].toString(16):null}function f9(t,e){const n=t.length;let r=t.charCodeAt(e),s;return r>=55296&&r<=56319&&n>e+1&&(s=t.charCodeAt(e+1),s>=56320&&s<=57343)?(r-55296)*1024+s-56320+65536:r}function o1(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return!!r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function Rp(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:r=!1}=n,s=o1(e);typeof Pn.hooks.addPack=="function"&&!r?Pn.hooks.addPack(t,o1(e)):Pn.styles[t]={...Pn.styles[t]||{},...s},t==="fas"&&Rp("fa",e)}const{styles:bs,shims:p9}=Pn,m9={[Oe]:Object.values(Ds[Oe]),[Gt]:Object.values(Ds[Gt]),[Kt]:Object.values(Ds[Kt])};let Ug=null,ET={},TT={},IT={},ST={},CT={};const g9={[Oe]:Object.keys(Os[Oe]),[Gt]:Object.keys(Os[Gt]),[Kt]:Object.keys(Os[Kt])};function y9(t){return~e9.indexOf(t)}function v9(t,e){const n=e.split("-"),r=n[0],s=n.slice(1).join("-");return r===t&&s!==""&&!y9(s)?s:null}const kT=()=>{const t=r=>Hh(bs,(s,i,o)=>(s[o]=Hh(i,r,{}),s),{});ET=t((r,s,i)=>(s[3]&&(r[s[3]]=i),s[2]&&s[2].filter(a=>typeof a=="number").forEach(a=>{r[a.toString(16)]=i}),r)),TT=t((r,s,i)=>(r[i]=i,s[2]&&s[2].filter(a=>typeof a=="string").forEach(a=>{r[a]=i}),r)),CT=t((r,s,i)=>{const o=s[2];return r[i]=i,o.forEach(a=>{r[a]=i}),r});const e="far"in bs||X.autoFetchSvg,n=Hh(p9,(r,s)=>{const i=s[0];let o=s[1];const a=s[2];return o==="far"&&!e&&(o="fas"),typeof i=="string"&&(r.names[i]={prefix:o,iconName:a}),typeof i=="number"&&(r.unicodes[i.toString(16)]={prefix:o,iconName:a}),r},{names:{},unicodes:{}});IT=n.names,ST=n.unicodes,Ug=Sd(X.styleDefault,{family:X.familyDefault})};r9(t=>{Ug=Sd(t.styleDefault,{family:X.familyDefault})});kT();function Vg(t,e){return(ET[t]||{})[e]}function _9(t,e){return(TT[t]||{})[e]}function Fr(t,e){return(CT[t]||{})[e]}function AT(t){return IT[t]||{prefix:null,iconName:null}}function x9(t){const e=ST[t],n=Vg("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function ss(){return Ug}const $g=()=>({prefix:null,iconName:null,rest:[]});function Sd(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:n=Oe}=e,r=Os[n][t],s=tl[n][t]||tl[n][r],i=t in Pn.styles?t:null;return s||i||null}const w9={[Oe]:Object.keys(Ds[Oe]),[Gt]:Object.keys(Ds[Gt]),[Kt]:Object.keys(Ds[Kt])};function Cd(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:n=!1}=e,r={[Oe]:"".concat(X.cssPrefix,"-").concat(Oe),[Gt]:"".concat(X.cssPrefix,"-").concat(Gt),[Kt]:"".concat(X.cssPrefix,"-").concat(Kt)};let s=null,i=Oe;const o=AD.filter(l=>l!==cT);o.forEach(l=>{(t.includes(r[l])||t.some(d=>w9[l].includes(d)))&&(i=l)});const a=t.reduce((l,d)=>{const h=v9(X.cssPrefix,d);if(bs[d]?(d=m9[i].includes(d)?QD[i][d]:d,s=d,l.prefix=d):g9[i].indexOf(d)>-1?(s=d,l.prefix=Sd(d,{family:i})):h?l.iconName=h:d!==X.replacementClass&&!o.some(p=>d===r[p])&&l.rest.push(d),!n&&l.prefix&&l.iconName){const p=s==="fa"?AT(l.iconName):{},g=Fr(l.prefix,l.iconName);p.prefix&&(s=null),l.iconName=p.iconName||g||l.iconName,l.prefix=p.prefix||l.prefix,l.prefix==="far"&&!bs.far&&bs.fas&&!X.autoFetchSvg&&(l.prefix="fas")}return l},$g());return(t.includes("fa-brands")||t.includes("fab"))&&(a.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(a.prefix="fad"),!a.prefix&&i===Gt&&(bs.fass||X.autoFetchSvg)&&(a.prefix="fass",a.iconName=Fr(a.prefix,a.iconName)||a.iconName),!a.prefix&&i===Kt&&(bs.fasds||X.autoFetchSvg)&&(a.prefix="fasds",a.iconName=Fr(a.prefix,a.iconName)||a.iconName),(a.prefix==="fa"||s==="fa")&&(a.prefix=ss()||"fas"),a}class b9{constructor(){this.definitions={}}add(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const s=n.reduce(this._pullDefinitions,{});Object.keys(s).forEach(i=>{this.definitions[i]={...this.definitions[i]||{},...s[i]},Rp(i,s[i]);const o=Ds[Oe][i];o&&Rp(o,s[i]),kT()})}reset(){this.definitions={}}_pullDefinitions(e,n){const r=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(r).map(s=>{const{prefix:i,iconName:o,icon:a}=r[s],l=a[2];e[i]||(e[i]={}),l.length>0&&l.forEach(d=>{typeof d=="string"&&(e[i][d]=a)}),e[i][o]=a}),e}}let a1=[],ji={};const Ki={},E9=Object.keys(Ki);function T9(t,e){let{mixoutsTo:n}=e;return a1=t,ji={},Object.keys(Ki).forEach(r=>{E9.indexOf(r)===-1&&delete Ki[r]}),a1.forEach(r=>{const s=r.mixout?r.mixout():{};if(Object.keys(s).forEach(i=>{typeof s[i]=="function"&&(n[i]=s[i]),typeof s[i]=="object"&&Object.keys(s[i]).forEach(o=>{n[i]||(n[i]={}),n[i][o]=s[i][o]})}),r.hooks){const i=r.hooks();Object.keys(i).forEach(o=>{ji[o]||(ji[o]=[]),ji[o].push(i[o])})}r.provides&&r.provides(Ki)}),n}function Pp(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];return(ji[t]||[]).forEach(o=>{e=o.apply(null,[e,...r])}),e}function Qs(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(ji[t]||[]).forEach(i=>{i.apply(null,n)})}function is(){const t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Ki[t]?Ki[t].apply(null,e):void 0}function Np(t){t.prefix==="fa"&&(t.prefix="fas");let{iconName:e}=t;const n=t.prefix||ss();if(e)return e=Fr(n,e)||e,i1(RT.definitions,n,e)||i1(Pn.styles,n,e)}const RT=new b9,I9=()=>{X.autoReplaceSvg=!1,X.observeMutations=!1,Qs("noAuto")},S9={i2svg:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ur?(Qs("beforeI2svg",t),is("pseudoElements2svg",t),is("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=t;X.autoReplaceSvg===!1&&(X.autoReplaceSvg=!0),X.observeMutations=!0,d9(()=>{k9({autoReplaceSvgRoot:e}),Qs("watch",t)})}},C9={icon:t=>{if(t===null)return null;if(typeof t=="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:Fr(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){const e=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],n=Sd(t[0]);return{prefix:n,iconName:Fr(n,e)||e}}if(typeof t=="string"&&(t.indexOf("".concat(X.cssPrefix,"-"))>-1||t.match(YD))){const e=Cd(t.split(" "),{skipLookups:!0});return{prefix:e.prefix||ss(),iconName:Fr(e.prefix,e.iconName)||e.iconName}}if(typeof t=="string"){const e=ss();return{prefix:e,iconName:Fr(e,t)||t}}}},Zt={noAuto:I9,config:X,dom:S9,parse:C9,library:RT,findIconDefinition:Np,toHtml:bl},k9=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=Pe}=t;(Object.keys(Pn.styles).length>0||X.autoFetchSvg)&&ur&&X.autoReplaceSvg&&Zt.dom.i2svg({node:e})};function kd(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(n=>bl(n))}}),Object.defineProperty(t,"node",{get:function(){if(!ur)return;const n=Pe.createElement("div");return n.innerHTML=t.html,n.children}}),t}function A9(t){let{children:e,main:n,mask:r,attributes:s,styles:i,transform:o}=t;if(Fg(o)&&n.found&&!r.found){const{width:a,height:l}=n,d={x:a/l/2,y:.5};s.style=Id({...i,"transform-origin":"".concat(d.x+o.x/16,"em ").concat(d.y+o.y/16,"em")})}return[{tag:"svg",attributes:s,children:e}]}function R9(t){let{prefix:e,iconName:n,children:r,attributes:s,symbol:i}=t;const o=i===!0?"".concat(e,"-").concat(X.cssPrefix,"-").concat(n):i;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:{...s,id:o},children:r}]}]}function Bg(t){const{icons:{main:e,mask:n},prefix:r,iconName:s,transform:i,symbol:o,title:a,maskId:l,titleId:d,extra:h,watchable:p=!1}=t,{width:g,height:w}=n.found?n:e,k=r==="fak",N=[X.replacementClass,s?"".concat(X.cssPrefix,"-").concat(s):""].filter(U=>h.classes.indexOf(U)===-1).filter(U=>U!==""||!!U).concat(h.classes).join(" ");let P={children:[],attributes:{...h.attributes,"data-prefix":r,"data-icon":s,class:N,role:h.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(w)}};const A=k&&!~h.classes.indexOf("fa-fw")?{width:"".concat(g/w*16*.0625,"em")}:{};p&&(P.attributes[Ks]=""),a&&(P.children.push({tag:"title",attributes:{id:P.attributes["aria-labelledby"]||"title-".concat(d||nl())},children:[a]}),delete P.attributes.title);const E={...P,prefix:r,iconName:s,main:e,mask:n,maskId:l,transform:i,symbol:o,styles:{...A,...h.styles}},{children:C,attributes:j}=n.found&&e.found?is("generateAbstractMask",E)||{children:[],attributes:{}}:is("generateAbstractIcon",E)||{children:[],attributes:{}};return E.children=C,E.attributes=j,o?R9(E):A9(E)}function l1(t){const{content:e,width:n,height:r,transform:s,title:i,extra:o,watchable:a=!1}=t,l={...o.attributes,...i?{title:i}:{},class:o.classes.join(" ")};a&&(l[Ks]="");const d={...o.styles};Fg(s)&&(d.transform=l9({transform:s,startCentered:!0,width:n,height:r}),d["-webkit-transform"]=d.transform);const h=Id(d);h.length>0&&(l.style=h);const p=[];return p.push({tag:"span",attributes:l,children:[e]}),i&&p.push({tag:"span",attributes:{class:"sr-only"},children:[i]}),p}function P9(t){const{content:e,title:n,extra:r}=t,s={...r.attributes,...n?{title:n}:{},class:r.classes.join(" ")},i=Id(r.styles);i.length>0&&(s.style=i);const o=[];return o.push({tag:"span",attributes:s,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}const{styles:Wh}=Pn;function jp(t){const e=t[0],n=t[1],[r]=t.slice(4);let s=null;return Array.isArray(r)?s={tag:"g",attributes:{class:"".concat(X.cssPrefix,"-").concat(zh.GROUP)},children:[{tag:"path",attributes:{class:"".concat(X.cssPrefix,"-").concat(zh.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(X.cssPrefix,"-").concat(zh.PRIMARY),fill:"currentColor",d:r[1]}}]}:s={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:e,height:n,icon:s}}const N9={found:!1,width:512,height:512};function j9(t,e){!pT&&!X.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function Op(t,e){let n=e;return e==="fa"&&X.styleDefault!==null&&(e=ss()),new Promise((r,s)=>{if(n==="fa"){const i=AT(t)||{};t=i.iconName||t,e=i.prefix||e}if(t&&e&&Wh[e]&&Wh[e][t]){const i=Wh[e][t];return r(jp(i))}j9(t,e),r({...N9,icon:X.showMissingIcons&&t?is("missingIconAbstract")||{}:{}})})}const c1=()=>{},Dp=X.measurePerformance&&gc&&gc.mark&&gc.measure?gc:{mark:c1,measure:c1},la='FA "6.6.0"',O9=t=>(Dp.mark("".concat(la," ").concat(t," begins")),()=>PT(t)),PT=t=>{Dp.mark("".concat(la," ").concat(t," ends")),Dp.measure("".concat(la," ").concat(t),"".concat(la," ").concat(t," begins"),"".concat(la," ").concat(t," ends"))};var zg={begin:O9,end:PT};const Uc=()=>{};function u1(t){return typeof(t.getAttribute?t.getAttribute(Ks):null)=="string"}function D9(t){const e=t.getAttribute?t.getAttribute(Dg):null,n=t.getAttribute?t.getAttribute(Lg):null;return e&&n}function L9(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(X.replacementClass)}function M9(){return X.autoReplaceSvg===!0?Vc.replace:Vc[X.autoReplaceSvg]||Vc.replace}function F9(t){return Pe.createElementNS("http://www.w3.org/2000/svg",t)}function U9(t){return Pe.createElement(t)}function NT(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:n=t.tag==="svg"?F9:U9}=e;if(typeof t=="string")return Pe.createTextNode(t);const r=n(t.tag);return Object.keys(t.attributes||[]).forEach(function(i){r.setAttribute(i,t.attributes[i])}),(t.children||[]).forEach(function(i){r.appendChild(NT(i,{ceFn:n}))}),r}function V9(t){let e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const Vc={replace:function(t){const e=t[0];if(e.parentNode)if(t[1].forEach(n=>{e.parentNode.insertBefore(NT(n),e)}),e.getAttribute(Ks)===null&&X.keepOriginalSource){let n=Pe.createComment(V9(e));e.parentNode.replaceChild(n,e)}else e.remove()},nest:function(t){const e=t[0],n=t[1];if(~Mg(e).indexOf(X.replacementClass))return Vc.replace(t);const r=new RegExp("".concat(X.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const i=n[0].attributes.class.split(" ").reduce((o,a)=>(a===X.replacementClass||a.match(r)?o.toSvg.push(a):o.toNode.push(a),o),{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),i.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",i.toNode.join(" "))}const s=n.map(i=>bl(i)).join(`
`);e.setAttribute(Ks,""),e.innerHTML=s}};function d1(t){t()}function jT(t,e){const n=typeof e=="function"?e:Uc;if(t.length===0)n();else{let r=d1;X.mutateApproach===GD&&(r=rs.requestAnimationFrame||d1),r(()=>{const s=M9(),i=zg.begin("mutate");t.map(s),i(),n()})}}let qg=!1;function OT(){qg=!0}function Lp(){qg=!1}let Ou=null;function h1(t){if(!e1||!X.observeMutations)return;const{treeCallback:e=Uc,nodeCallback:n=Uc,pseudoElementsCallback:r=Uc,observeMutationsRoot:s=Pe}=t;Ou=new e1(i=>{if(qg)return;const o=ss();Io(i).forEach(a=>{if(a.type==="childList"&&a.addedNodes.length>0&&!u1(a.addedNodes[0])&&(X.searchPseudoElements&&r(a.target),e(a.target)),a.type==="attributes"&&a.target.parentNode&&X.searchPseudoElements&&r(a.target.parentNode),a.type==="attributes"&&u1(a.target)&&~ZD.indexOf(a.attributeName))if(a.attributeName==="class"&&D9(a.target)){const{prefix:l,iconName:d}=Cd(Mg(a.target));a.target.setAttribute(Dg,l||o),d&&a.target.setAttribute(Lg,d)}else L9(a.target)&&n(a.target)})}),ur&&Ou.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function $9(){Ou&&Ou.disconnect()}function B9(t){const e=t.getAttribute("style");let n=[];return e&&(n=e.split(";").reduce((r,s)=>{const i=s.split(":"),o=i[0],a=i.slice(1);return o&&a.length>0&&(r[o]=a.join(":").trim()),r},{})),n}function z9(t){const e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"";let s=Cd(Mg(t));return s.prefix||(s.prefix=ss()),e&&n&&(s.prefix=e,s.iconName=n),s.iconName&&s.prefix||(s.prefix&&r.length>0&&(s.iconName=_9(s.prefix,t.innerText)||Vg(s.prefix,Ap(t.innerText))),!s.iconName&&X.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=t.firstChild.data)),s}function q9(t){const e=Io(t.attributes).reduce((s,i)=>(s.name!=="class"&&s.name!=="style"&&(s[i.name]=i.value),s),{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return X.autoA11y&&(n?e["aria-labelledby"]="".concat(X.replacementClass,"-title-").concat(r||nl()):(e["aria-hidden"]="true",e.focusable="false")),e}function H9(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Rn,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function f1(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:s}=z9(t),i=q9(t),o=Pp("parseNodeAttributes",{},t);let a=e.styleParser?B9(t):[];return{iconName:n,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:r,transform:Rn,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:a,attributes:i},...o}}const{styles:W9}=Pn;function DT(t){const e=X.autoReplaceSvg==="nest"?f1(t,{styleParser:!1}):f1(t);return~e.extra.classes.indexOf(yT)?is("generateLayersText",t,e):is("generateSvgReplacementMutation",t,e)}let Vn=new Set;mT.map(t=>{Vn.add("fa-".concat(t))});Object.keys(Os[Oe]).map(Vn.add.bind(Vn));Object.keys(Os[Gt]).map(Vn.add.bind(Vn));Object.keys(Os[Kt]).map(Vn.add.bind(Vn));Vn=[...Vn];function p1(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!ur)return Promise.resolve();const n=Pe.documentElement.classList,r=h=>n.add("".concat(r1,"-").concat(h)),s=h=>n.remove("".concat(r1,"-").concat(h)),i=X.autoFetchSvg?Vn:mT.map(h=>"fa-".concat(h)).concat(Object.keys(W9));i.includes("fa")||i.push("fa");const o=[".".concat(yT,":not([").concat(Ks,"])")].concat(i.map(h=>".".concat(h,":not([").concat(Ks,"])"))).join(", ");if(o.length===0)return Promise.resolve();let a=[];try{a=Io(t.querySelectorAll(o))}catch{}if(a.length>0)r("pending"),s("complete");else return Promise.resolve();const l=zg.begin("onTree"),d=a.reduce((h,p)=>{try{const g=DT(p);g&&h.push(g)}catch(g){pT||g.name==="MissingIcon"&&console.error(g)}return h},[]);return new Promise((h,p)=>{Promise.all(d).then(g=>{jT(g,()=>{r("active"),r("complete"),s("pending"),typeof e=="function"&&e(),l(),h()})}).catch(g=>{l(),p(g)})})}function G9(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;DT(t).then(n=>{n&&jT([n],e)})}function K9(t){return function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(e||{}).icon?e:Np(e||{});let{mask:s}=n;return s&&(s=(s||{}).icon?s:Np(s||{})),t(r,{...n,mask:s})}}const Q9=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=Rn,symbol:r=!1,mask:s=null,maskId:i=null,title:o=null,titleId:a=null,classes:l=[],attributes:d={},styles:h={}}=e;if(!t)return;const{prefix:p,iconName:g,icon:w}=t;return kd({type:"icon",...t},()=>(Qs("beforeDOMElementCreation",{iconDefinition:t,params:e}),X.autoA11y&&(o?d["aria-labelledby"]="".concat(X.replacementClass,"-title-").concat(a||nl()):(d["aria-hidden"]="true",d.focusable="false")),Bg({icons:{main:jp(w),mask:s?jp(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:p,iconName:g,transform:{...Rn,...n},symbol:r,title:o,maskId:i,titleId:a,extra:{attributes:d,styles:h,classes:l}})))};var Y9={mixout(){return{icon:K9(Q9)}},hooks(){return{mutationObserverCallbacks(t){return t.treeCallback=p1,t.nodeCallback=G9,t}}},provides(t){t.i2svg=function(e){const{node:n=Pe,callback:r=()=>{}}=e;return p1(n,r)},t.generateSvgReplacementMutation=function(e,n){const{iconName:r,title:s,titleId:i,prefix:o,transform:a,symbol:l,mask:d,maskId:h,extra:p}=n;return new Promise((g,w)=>{Promise.all([Op(r,o),d.iconName?Op(d.iconName,d.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(k=>{let[N,P]=k;g([e,Bg({icons:{main:N,mask:P},prefix:o,iconName:r,transform:a,symbol:l,maskId:h,title:s,titleId:i,extra:p,watchable:!0})])}).catch(w)})},t.generateAbstractIcon=function(e){let{children:n,attributes:r,main:s,transform:i,styles:o}=e;const a=Id(o);a.length>0&&(r.style=a);let l;return Fg(i)&&(l=is("generateAbstractTransformGrouping",{main:s,transform:i,containerWidth:s.width,iconWidth:s.width})),n.push(l||s.icon),{children:n,attributes:r}}}},J9={mixout(){return{layer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:n=[]}=e;return kd({type:"layer"},()=>{Qs("beforeDOMElementCreation",{assembler:t,params:e});let r=[];return t(s=>{Array.isArray(s)?s.map(i=>{r=r.concat(i.abstract)}):r=r.concat(s.abstract)}),[{tag:"span",attributes:{class:["".concat(X.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}}}},X9={mixout(){return{counter(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:n=null,classes:r=[],attributes:s={},styles:i={}}=e;return kd({type:"counter",content:t},()=>(Qs("beforeDOMElementCreation",{content:t,params:e}),P9({content:t.toString(),title:n,extra:{attributes:s,styles:i,classes:["".concat(X.cssPrefix,"-layers-counter"),...r]}})))}}}},Z9={mixout(){return{text(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=Rn,title:r=null,classes:s=[],attributes:i={},styles:o={}}=e;return kd({type:"text",content:t},()=>(Qs("beforeDOMElementCreation",{content:t,params:e}),l1({content:t,transform:{...Rn,...n},title:r,extra:{attributes:i,styles:o,classes:["".concat(X.cssPrefix,"-layers-text"),...s]}})))}}},provides(t){t.generateLayersText=function(e,n){const{title:r,transform:s,extra:i}=n;let o=null,a=null;if(lT){const l=parseInt(getComputedStyle(e).fontSize,10),d=e.getBoundingClientRect();o=d.width/l,a=d.height/l}return X.autoA11y&&!r&&(i.attributes["aria-hidden"]="true"),Promise.resolve([e,l1({content:e.innerHTML,width:o,height:a,transform:s,title:r,extra:i,watchable:!0})])}}};const eL=new RegExp('"',"ug"),m1=[1105920,1112319],g1={FontAwesome:{normal:"fas",400:"fas"},...DD,...OD,...zD},Mp=Object.keys(g1).reduce((t,e)=>(t[e.toLowerCase()]=g1[e],t),{}),tL=Object.keys(Mp).reduce((t,e)=>{const n=Mp[e];return t[e]=n[900]||[...Object.entries(n)][0][1],t},{});function nL(t){const e=t.replace(eL,""),n=f9(e,0),r=n>=m1[0]&&n<=m1[1],s=e.length===2?e[0]===e[1]:!1;return{value:Ap(s?e[0]:e),isSecondary:r||s}}function rL(t,e){const n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),s=isNaN(r)?"normal":r;return(Mp[n]||{})[s]||tL[n]}function y1(t,e){const n="".concat(WD).concat(e.replace(":","-"));return new Promise((r,s)=>{if(t.getAttribute(n)!==null)return r();const o=Io(t.children).filter(g=>g.getAttribute(Ip)===e)[0],a=rs.getComputedStyle(t,e),l=a.getPropertyValue("font-family"),d=l.match(JD),h=a.getPropertyValue("font-weight"),p=a.getPropertyValue("content");if(o&&!d)return t.removeChild(o),r();if(d&&p!=="none"&&p!==""){const g=a.getPropertyValue("content");let w=rL(l,h);const{value:k,isSecondary:N}=nL(g),P=d[0].startsWith("FontAwesome");let A=Vg(w,k),E=A;if(P){const C=x9(k);C.iconName&&C.prefix&&(A=C.iconName,w=C.prefix)}if(A&&!N&&(!o||o.getAttribute(Dg)!==w||o.getAttribute(Lg)!==E)){t.setAttribute(n,E),o&&t.removeChild(o);const C=H9(),{extra:j}=C;j.attributes[Ip]=e,Op(A,w).then(U=>{const L=Bg({...C,icons:{main:U,mask:$g()},prefix:w,iconName:E,extra:j,watchable:!0}),v=Pe.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(v,t.firstChild):t.appendChild(v),v.outerHTML=L.map(y=>bl(y)).join(`
`),t.removeAttribute(n),r()}).catch(s)}else r()}else r()})}function sL(t){return Promise.all([y1(t,"::before"),y1(t,"::after")])}function iL(t){return t.parentNode!==document.head&&!~KD.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(Ip)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function v1(t){if(ur)return new Promise((e,n)=>{const r=Io(t.querySelectorAll("*")).filter(iL).map(sL),s=zg.begin("searchPseudoElements");OT(),Promise.all(r).then(()=>{s(),Lp(),e()}).catch(()=>{s(),Lp(),n()})})}var oL={hooks(){return{mutationObserverCallbacks(t){return t.pseudoElementsCallback=v1,t}}},provides(t){t.pseudoElements2svg=function(e){const{node:n=Pe}=e;X.searchPseudoElements&&v1(n)}}};let _1=!1;var aL={mixout(){return{dom:{unwatch(){OT(),_1=!0}}}},hooks(){return{bootstrap(){h1(Pp("mutationObserverCallbacks",{}))},noAuto(){$9()},watch(t){const{observeMutationsRoot:e}=t;_1?Lp():h1(Pp("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const x1=t=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce((n,r)=>{const s=r.toLowerCase().split("-"),i=s[0];let o=s.slice(1).join("-");if(i&&o==="h")return n.flipX=!0,n;if(i&&o==="v")return n.flipY=!0,n;if(o=parseFloat(o),isNaN(o))return n;switch(i){case"grow":n.size=n.size+o;break;case"shrink":n.size=n.size-o;break;case"left":n.x=n.x-o;break;case"right":n.x=n.x+o;break;case"up":n.y=n.y-o;break;case"down":n.y=n.y+o;break;case"rotate":n.rotate=n.rotate+o;break}return n},e)};var lL={mixout(){return{parse:{transform:t=>x1(t)}}},hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-transform");return n&&(t.transform=x1(n)),t}}},provides(t){t.generateAbstractTransformGrouping=function(e){let{main:n,transform:r,containerWidth:s,iconWidth:i}=e;const o={transform:"translate(".concat(s/2," 256)")},a="translate(".concat(r.x*32,", ").concat(r.y*32,") "),l="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),d="rotate(".concat(r.rotate," 0 0)"),h={transform:"".concat(a," ").concat(l," ").concat(d)},p={transform:"translate(".concat(i/2*-1," -256)")},g={outer:o,inner:h,path:p};return{tag:"g",attributes:{...g.outer},children:[{tag:"g",attributes:{...g.inner},children:[{tag:n.icon.tag,children:n.icon.children,attributes:{...n.icon.attributes,...g.path}}]}]}}}};const Gh={x:0,y:0,width:"100%",height:"100%"};function w1(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function cL(t){return t.tag==="g"?t.children:[t]}var uL={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-mask"),r=n?Cd(n.split(" ").map(s=>s.trim())):$g();return r.prefix||(r.prefix=ss()),t.mask=r,t.maskId=e.getAttribute("data-fa-mask-id"),t}}},provides(t){t.generateAbstractMask=function(e){let{children:n,attributes:r,main:s,mask:i,maskId:o,transform:a}=e;const{width:l,icon:d}=s,{width:h,icon:p}=i,g=a9({transform:a,containerWidth:h,iconWidth:l}),w={tag:"rect",attributes:{...Gh,fill:"white"}},k=d.children?{children:d.children.map(w1)}:{},N={tag:"g",attributes:{...g.inner},children:[w1({tag:d.tag,attributes:{...d.attributes,...g.path},...k})]},P={tag:"g",attributes:{...g.outer},children:[N]},A="mask-".concat(o||nl()),E="clip-".concat(o||nl()),C={tag:"mask",attributes:{...Gh,id:A,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"},children:[w,P]},j={tag:"defs",children:[{tag:"clipPath",attributes:{id:E},children:cL(p)},C]};return n.push(j,{tag:"rect",attributes:{fill:"currentColor","clip-path":"url(#".concat(E,")"),mask:"url(#".concat(A,")"),...Gh}}),{children:n,attributes:r}}}},dL={provides(t){let e=!1;rs.matchMedia&&(e=rs.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){const n=[],r={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:{...r,d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}});const i={...s,attributeName:"opacity"},o={tag:"circle",attributes:{...r,cx:"256",cy:"364",r:"28"},children:[]};return e||o.children.push({tag:"animate",attributes:{...s,attributeName:"r",values:"28;14;28;28;14;28;"}},{tag:"animate",attributes:{...i,values:"1;0;1;1;0;1;"}}),n.push(o),n.push({tag:"path",attributes:{...r,opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"},children:e?[]:[{tag:"animate",attributes:{...i,values:"1;0;0;0;0;1;"}}]}),e||n.push({tag:"path",attributes:{...r,opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"},children:[{tag:"animate",attributes:{...i,values:"0;0;1;1;0;0;"}}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},hL={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-symbol"),r=n===null?!1:n===""?!0:n;return t.symbol=r,t}}}},fL=[u9,Y9,J9,X9,Z9,oL,aL,lL,uL,dL,hL];T9(fL,{mixoutsTo:Zt});Zt.noAuto;Zt.config;Zt.library;Zt.dom;const Fp=Zt.parse;Zt.findIconDefinition;Zt.toHtml;const pL=Zt.icon;Zt.layer;Zt.text;Zt.counter;function b1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Cn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b1(Object(n),!0).forEach(function(r){Oi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Du(t){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Du(t)}function Oi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mL(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function gL(t,e){if(t==null)return{};var n=mL(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Up(t){return yL(t)||vL(t)||_L(t)||xL()}function yL(t){if(Array.isArray(t))return Vp(t)}function vL(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _L(t,e){if(t){if(typeof t=="string")return Vp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vp(t,e)}}function Vp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xL(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wL(t){var e,n=t.beat,r=t.fade,s=t.beatFade,i=t.bounce,o=t.shake,a=t.flash,l=t.spin,d=t.spinPulse,h=t.spinReverse,p=t.pulse,g=t.fixedWidth,w=t.inverse,k=t.border,N=t.listItem,P=t.flip,A=t.size,E=t.rotation,C=t.pull,j=(e={"fa-beat":n,"fa-fade":r,"fa-beat-fade":s,"fa-bounce":i,"fa-shake":o,"fa-flash":a,"fa-spin":l,"fa-spin-reverse":h,"fa-spin-pulse":d,"fa-pulse":p,"fa-fw":g,"fa-inverse":w,"fa-border":k,"fa-li":N,"fa-flip":P===!0,"fa-flip-horizontal":P==="horizontal"||P==="both","fa-flip-vertical":P==="vertical"||P==="both"},Oi(e,"fa-".concat(A),typeof A<"u"&&A!==null),Oi(e,"fa-rotate-".concat(E),typeof E<"u"&&E!==null&&E!==0),Oi(e,"fa-pull-".concat(C),typeof C<"u"&&C!==null),Oi(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(j).map(function(U){return j[U]?U:null}).filter(function(U){return U})}function bL(t){return t=t-0,t===t}function LT(t){return bL(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,n){return n?n.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}var EL=["style"];function TL(t){return t.charAt(0).toUpperCase()+t.slice(1)}function IL(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var r=n.indexOf(":"),s=LT(n.slice(0,r)),i=n.slice(r+1).trim();return s.startsWith("webkit")?e[TL(s)]=i:e[s]=i,e},{})}function MT(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(l){return MT(t,l)}),s=Object.keys(e.attributes||{}).reduce(function(l,d){var h=e.attributes[d];switch(d){case"class":l.attrs.className=h,delete e.attributes.class;break;case"style":l.attrs.style=IL(h);break;default:d.indexOf("aria-")===0||d.indexOf("data-")===0?l.attrs[d.toLowerCase()]=h:l.attrs[LT(d)]=h}return l},{attrs:{}}),i=n.style,o=i===void 0?{}:i,a=gL(n,EL);return s.attrs.style=Cn(Cn({},s.attrs.style),o),t.apply(void 0,[e.tag,Cn(Cn({},s.attrs),a)].concat(Up(r)))}var FT=!1;try{FT=!0}catch{}function SL(){if(!FT&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function E1(t){if(t&&Du(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(Fp.icon)return Fp.icon(t);if(t===null)return null;if(t&&Du(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function Kh(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?Oi({},t,e):{}}var T1={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},jt=xe.forwardRef(function(t,e){var n=Cn(Cn({},T1),t),r=n.icon,s=n.mask,i=n.symbol,o=n.className,a=n.title,l=n.titleId,d=n.maskId,h=E1(r),p=Kh("classes",[].concat(Up(wL(n)),Up((o||"").split(" ")))),g=Kh("transform",typeof n.transform=="string"?Fp.transform(n.transform):n.transform),w=Kh("mask",E1(s)),k=pL(h,Cn(Cn(Cn(Cn({},p),g),w),{},{symbol:i,title:a,titleId:l,maskId:d}));if(!k)return SL("Could not find icon",h),null;var N=k.abstract,P={ref:e};return Object.keys(n).forEach(function(A){T1.hasOwnProperty(A)||(P[A]=n[A])}),CL(N[0],P)});jt.displayName="FontAwesomeIcon";jt.propTypes={beat:ce.bool,border:ce.bool,beatFade:ce.bool,bounce:ce.bool,className:ce.string,fade:ce.bool,flash:ce.bool,mask:ce.oneOfType([ce.object,ce.array,ce.string]),maskId:ce.string,fixedWidth:ce.bool,inverse:ce.bool,flip:ce.oneOf([!0,!1,"horizontal","vertical","both"]),icon:ce.oneOfType([ce.object,ce.array,ce.string]),listItem:ce.bool,pull:ce.oneOf(["right","left"]),pulse:ce.bool,rotation:ce.oneOf([0,90,180,270]),shake:ce.bool,size:ce.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:ce.bool,spinPulse:ce.bool,spinReverse:ce.bool,symbol:ce.oneOfType([ce.bool,ce.string]),title:ce.string,titleId:ce.string,transform:ce.oneOfType([ce.string,ce.object]),swapOpacity:ce.bool};var CL=MT.bind(null,xe.createElement);const Hg={prefix:"fas",iconName:"box-archive",icon:[512,512,["archive"],"f187","M32 32l448 0c17.7 0 32 14.3 32 32l0 32c0 17.7-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96L0 64C0 46.3 14.3 32 32 32zm0 128l448 0 0 256c0 35.3-28.7 64-64 64L96 480c-35.3 0-64-28.7-64-64l0-256zm128 80c0 8.8 7.2 16 16 16l160 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-160 0c-8.8 0-16 7.2-16 16z"]},kL={prefix:"fas",iconName:"file-excel",icon:[384,512,[],"f1c3","M64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-288-128 0c-17.7 0-32-14.3-32-32L224 0 64 0zM256 0l0 128 128 0L256 0zM155.7 250.2L192 302.1l36.3-51.9c7.6-10.9 22.6-13.5 33.4-5.9s13.5 22.6 5.9 33.4L221.3 344l46.4 66.2c7.6 10.9 5 25.8-5.9 33.4s-25.8 5-33.4-5.9L192 385.8l-36.3 51.9c-7.6 10.9-22.6 13.5-33.4 5.9s-13.5-22.6-5.9-33.4L162.7 344l-46.4-66.2c-7.6-10.9-5-25.8 5.9-33.4s25.8-5 33.4 5.9z"]},AL={prefix:"fas",iconName:"clipboard-check",icon:[384,512,[],"f46c","M192 0c-41.8 0-77.4 26.7-90.5 64L64 64C28.7 64 0 92.7 0 128L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64l-37.5 0C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM305 273L177 401c-9.4 9.4-24.6 9.4-33.9 0L79 337c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L271 239c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"]},RL={prefix:"fas",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M256 0a256 256 0 1 1 0 512A256 256 0 1 1 256 0zM232 120l0 136c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2 280 120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]},PL={prefix:"fas",iconName:"house",icon:[576,512,[127968,63498,63500,"home","home-alt","home-lg-alt"],"f015","M575.8 255.5c0 18-15 32.1-32 32.1l-32 0 .7 160.2c0 2.7-.2 5.4-.5 8.1l0 16.2c0 22.1-17.9 40-40 40l-16 0c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1L416 512l-24 0c-22.1 0-40-17.9-40-40l0-24 0-64c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32 14.3-32 32l0 64 0 24c0 22.1-17.9 40-40 40l-24 0-31.9 0c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2l-16 0c-22.1 0-40-17.9-40-40l0-112c0-.9 0-1.9 .1-2.8l0-69.7-32 0c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"]},NL={prefix:"fas",iconName:"bell",icon:[448,512,[128276,61602],"f0f3","M224 0c-17.7 0-32 14.3-32 32l0 19.2C119 66 64 130.6 64 208l0 18.8c0 47-17.3 92.4-48.5 127.6l-7.4 8.3c-8.4 9.4-10.4 22.9-5.3 34.4S19.4 416 32 416l384 0c12.6 0 24-7.4 29.2-18.9s3.1-25-5.3-34.4l-7.4-8.3C401.3 319.2 384 273.9 384 226.8l0-18.8c0-77.4-55-142-128-156.8L256 32c0-17.7-14.3-32-32-32zm45.3 493.3c12-12 18.7-28.3 18.7-45.3l-64 0-64 0c0 17 6.7 33.3 18.7 45.3s28.3 18.7 45.3 18.7s33.3-6.7 45.3-18.7z"]},jL={prefix:"fas",iconName:"border-all",icon:[448,512,[],"f84c","M384 96l0 128-128 0 0-128 128 0zm0 192l0 128-128 0 0-128 128 0zM192 224L64 224 64 96l128 0 0 128zM64 288l128 0 0 128L64 416l0-128zM64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32z"]},Wg={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]};function OL({data:t}){const e=n=>n?new Date(n.seconds*1e3).toLocaleString():"yyyy/mm/dd hh:mm";return u.jsxs("div",{className:"notif1",children:[u.jsx("img",{src:t.imageUrl||"",alt:"notifImg",className:"notifImg"}),u.jsxs("div",{className:"innerBody",children:[u.jsx("p",{id:"pxD",className:"notifName",children:t.objectName||"Notif Name"}),u.jsx("label",{id:"labelxD",className:"notifDesc",children:t.message||"Notif Desc"}),u.jsx("p",{className:"notifDate",children:e(t.timestamp)})]})]})}function DL(){const t=ei(),[e,n]=O.useState(!0),[r,s]=O.useState(null),[i,o]=O.useState([]),[a,l]=O.useState([]),[d,h]=O.useState(!1),[p,g]=O.useState(0),[w,k]=O.useState(0),N=O.useRef(0),P=O.useRef([]),A=O.useRef([]),E=O.useRef(null),C=O.useRef(null),[j,U]=O.useState("Home"),L=O.useRef([]),v=(T,M)=>{T.preventDefault();const $=document.getElementById(M);$&&$.scrollIntoView({behavior:"smooth"})},y=async()=>{try{const{count:T,error:M}=await Uh.from("item_reports2").select("*",{count:"exact"}).eq("type","Found").eq("status","pending");if(M)throw M;g(T);const{count:$,error:V}=await Uh.from("item_reports2").select("*",{count:"exact"}).eq("type","Lost").eq("status","pending");if(V)throw V;k($)}catch(T){console.error("Error fetching counts:",T)}};O.useEffect(()=>{y();const T=setInterval(y,5e3);return()=>clearInterval(T)},[]),O.useEffect(()=>{const T=localStorage.getItem("scrollToSection");if(T){const $=setTimeout(()=>{const V=document.getElementById(T);V&&V.scrollIntoView({behavior:"smooth"}),localStorage.removeItem("scrollToSection")},100);return()=>clearTimeout($)}},[]);const x=async()=>{try{const{error:T}=await Uh.auth.signOut();T?console.error("Error logging out:",T.message):(console.log("User logged out successfully"),t("/login"))}catch(T){console.error("Unexpected error during logout:",T.message)}};O.useEffect(()=>{const T=new IntersectionObserver(M=>{M.forEach($=>{const V=$.target.id;$.isIntersecting&&U(V)})},{threshold:.5});return L.current.forEach(M=>{M&&T.observe(M)}),()=>T.disconnect()},[]),O.useEffect(()=>{(async()=>{const $=ig().currentUser;$&&s($.uid),n(!1)})()},[]),O.useEffect(()=>{const T=new IntersectionObserver(M=>{M.forEach($=>{$.isIntersecting?$.target.classList.add("visible"):$.target.classList.remove("visible")})},{threshold:.3});return P.current.forEach(M=>{M&&T.observe(M)}),A.current.forEach(M=>{M&&T.observe(M)}),E.current&&T.observe(E.current),C.current&&T.observe(C.current),()=>T.disconnect()},[]);const R=T=>{T.preventDefault();const M=new Date().getTime();if(M-N.current<600)return;N.current=M;const V=document.querySelectorAll(".sections > div"),z=window.innerHeight,H=Array.from(V).findIndex(J=>{const te=J.getBoundingClientRect();return te.top>=0&&te.top<z});let Q;T.deltaY>0?Q=H+1<V.length?H+1:H:Q=H-1>=0?H-1:H,V[Q].scrollIntoView({behavior:"smooth"})};O.useEffect(()=>{const T=M=>R(M);return window.addEventListener("wheel",T,{passive:!1}),()=>window.removeEventListener("wheel",T)},[]),O.useEffect(()=>{!e&&r==="4skSWo0Ld2YnIZG1hGRaNQd3Kg72"&&t("/adminpage")},[e,r,t]),O.useEffect(()=>{if(r){const T=o6(kD,"users",r,"notifications"),M=_6(T,$=>{const V=$.docs.map(z=>({id:z.id,...z.data()}));l(V)});return()=>M()}},[r]),i.filter(T=>T.status==="lost").length,i.filter(T=>T.status==="pending").length;const b=()=>{h(!d)},I=()=>{t("/report-lost-item")},_=()=>{t("/report-found-item")},D=()=>{t("/edit-reported-item")};return u.jsxs("div",{className:"homepage-main",children:[u.jsxs("div",{className:"navbar",children:[u.jsxs("div",{className:"start",children:[u.jsx("img",{src:i5,alt:"NU Logo",className:"logo"}),u.jsx("label",{children:"NU LOST AND FOUND DASMARIAS"})]}),u.jsx("div",{className:"navs",children:u.jsxs("nav",{className:"nav",children:[u.jsx("a",{href:"#HomePage",className:j==="HomePage"?"active":"",onClick:T=>v(T,"HomePage"),children:"Home"}),u.jsx("a",{href:"#Memo1",className:j==="Memo1"||j==="Memo2"?"active":"",onClick:T=>v(T,"Memo1"),children:"Memorandum"}),u.jsx("a",{href:"#Report1",className:j==="Report1"?"active":"",onClick:T=>v(T,"Report1"),children:"Report"})]})}),u.jsx("img",{src:o5,alt:"Notifications",className:"notif",onClick:b})]}),d&&u.jsxs("div",{className:"notifbody",children:[u.jsx("h2",{children:"Notifications:"}),u.jsx("div",{className:"notifScroll",children:a.length===0?u.jsx("p",{className:"noNotificationsMessage",children:"No notifications available."}):a.map(T=>u.jsx(OL,{data:T},T.id))}),u.jsx("div",{className:"logoutDiv",children:u.jsx("button",{className:"logoutBtnxd",id:"logoutBtn",onClick:x,children:"Logout"})})]}),u.jsxs("div",{className:"sections",children:[u.jsxs("div",{className:"HomePage",id:"HomePage",ref:T=>L.current[0]=T,children:[u.jsxs("div",{className:"homepage-fade HomePageContent",ref:E,children:[u.jsx("h1",{children:"The lost items are in DOs hands."}),u.jsx("p",{children:"Welcome to our page, the easy way to manage lost and found items on campus. Quickly report and locate missing belongings, helping students reconnect with their items."})]}),u.jsxs("div",{className:"homepage-fade ItemStatus",ref:C,children:[u.jsxs("div",{className:"LostStatus",children:[u.jsx("h2",{id:"lostitems",children:w}),u.jsx("span",{children:"Lost Items"})]}),u.jsxs("div",{className:"FoundStatus",children:[u.jsx("h2",{id:"founditems",children:p}),u.jsx("span",{children:"Found Items"})]})]})]}),u.jsxs("div",{className:"Memo1",id:"Memo1",ref:T=>L.current[1]=T,children:[u.jsx("img",{src:a5,className:"Memo1Img fade-content1",ref:T=>A.current[0]=T}),u.jsxs("div",{className:"Memo1TextContainer fade-content1",ref:T=>P.current[0]=T,children:[u.jsx("h1",{children:"Memorandum for the Disposal of Found Items."}),u.jsxs("p",{children:[" Unclaimed property that easily decays, releases odor, or is perishable will be disposed of within 48 hours. Proper documentation, such as a picture, will be provided.",u.jsx("br",{})," Unclaimed non-perishable property will be disposed of after the end of the academic year.",u.jsx("br",{})," All items shredded or disposed of must be recorded in the Lost and Found Property Logbook."]})]})]}),u.jsxs("div",{className:"Memo2",children:[u.jsxs("div",{className:"Memo2TextContainer fade-content2",ref:T=>P.current[1]=T,children:[u.jsx("h1",{children:"Memorandum for the Claiming of Found Items."}),u.jsxs("p",{children:[" Perishable and personal items that can emit foul odor must be claimed within 48 hours to prevent pest infestation.",u.jsx("br",{})," Non-perishable items can be claimed at the end of the term.",u.jsx("br",{}),u.jsx("br",{}),"Items that are perishable and other personal items that can emit foul odor are as follows.",u.jsx("br",{})," Food and Beverages (Lunch Box, Tumbler, etc.)",u.jsx("br",{})," Personal Care Items (Toiletries, etc.)",u.jsx("br",{})," Fabric (Clothes, Lab Gown, Towel, Jacket Socks, etc.)",u.jsx("br",{}),u.jsx("br",{}),"Items that are non-perishable are as follows.",u.jsx("br",{})," Accessories",u.jsx("br",{})," Electronics"]})]}),u.jsx("img",{src:l5,className:"Memo2Img fade-content2",ref:T=>A.current[1]=T})]}),u.jsxs("div",{className:"Report1",id:"Report1",ref:T=>L.current[3]=T,children:[u.jsx("img",{src:c5,className:"Report1Img fade-content1",ref:T=>A.current[2]=T}),u.jsxs("div",{className:"Report1TextContainer fade-content1",ref:T=>P.current[2]=T,children:[u.jsx("h1",{children:"Report a Found Item."}),u.jsxs("p",{children:["When reporting a found item, please follow the necessary steps below to help us identify the item and the person who surrendered it.",u.jsx("br",{}),u.jsx("br",{})," Please read the Terms and Conditions.",u.jsx("br",{})," Describe the item you found.",u.jsx("br",{})," Fill out the Response Form."]}),u.jsx("button",{className:"ReportFoundbtn",onClick:_,children:"Report a Found Item"})]})]}),u.jsxs("div",{className:"Report2",id:"Report2",children:[u.jsxs("div",{className:"Report2TextContainer fade-content2",ref:T=>P.current[3]=T,children:[u.jsx("h1",{children:"Report a Missing Item."}),u.jsxs("p",{children:["When reporting a missing item, please follow the necessary steps below to help us identify you and check for matching items based on your description.",u.jsx("br",{}),u.jsx("br",{})," Please read the Terms and Conditions.",u.jsx("br",{})," Describe the item you lost.",u.jsx("br",{})," Fill out the Response Form."]}),u.jsx("button",{className:"ReportLostbtn",onClick:I,children:"Report a Missing Item"})]}),u.jsx("img",{src:B_,className:"Report2Img fade-content2",ref:T=>A.current[4]=T})]}),u.jsxs("div",{className:"Report2",id:"Report3",children:[u.jsxs("div",{className:"Report2TextContainer fade-content2",ref:T=>P.current[3]=T,children:[u.jsx("h1",{children:"Edit your reports"}),u.jsx("p",{children:"You can update the details of your lost or found item report at any time. Whether it's to provide a more accurate description, update the items condition, or change your contact information, simply select the report you wish to edit and make the necessary adjustments. This helps us ensure the most up-to-date information is available for matching lost and found items."}),u.jsx("button",{className:"ReportLostbtn",onClick:D,children:"Edit or delete reports"})]}),u.jsx("img",{src:B_,className:"Report2Img fade-content2",ref:T=>A.current[4]=T})]}),u.jsx("div",{className:"dark-blue-footer",children:u.jsxs("div",{className:"footerContent",children:[u.jsx("h3",{children:"Contact Us:"}),u.jsxs("ul",{children:[u.jsxs("li",{children:["Email:"," ",u.jsx("a",{href:"mailto:nu.lostandfound.dasmarinas@gmail.com",children:"nu.lostandfound.dasmarinas@gmail.com"})]}),u.jsx("li",{children:"Contact No.: 0999-999-9999"})]})]})})]})]})}function LL(){const t=ei(),[e,n]=O.useState(1),[r,s]=O.useState(""),[i,o]=O.useState(""),[a,l]=O.useState(!1),[d,h]=O.useState(""),[p,g]=O.useState({}),[w,k]=O.useState(""),[N,P]=O.useState(!1),[A,E]=O.useState(30),[C,j]=O.useState(!1),[U,L]=O.useState(""),[v,y]=O.useState(""),[x,R]=O.useState(""),[b,I]=O.useState(""),[_,D]=O.useState(""),[T,M]=O.useState(""),[$,V]=O.useState(null),[z,H]=O.useState(!1),[Q,J]=O.useState(""),[te,we]=O.useState(!1),[be,le]=O.useState("");O.useEffect(()=>{const re=JSON.parse(sessionStorage.getItem("user"));re?g({name:`${re.firstname} ${re.lastname}`,email:re.email,contactNumber:re.contact,id:re.id}):console.error("No user data found in sessionStorage.")},[]);const et=re=>{re.target.files[0]&&V(re.target.files[0])},So=async()=>{if($)try{const re=`${Vm()}-${$.name}`,{data:xt,error:dn}=await Ie.storage.from("lost-items").upload(`lost-items/${re}`,$,{cacheControl:"3600",upsert:!1});if(dn)return console.error("Error uploading image:",dn),null;console.log("Uploaded image data:",xt);const us=`https://mxqzohhojkveomcyfxuv.supabase.co/storage/v1/object/public/lost-items/${xt.path}`;return console.log("Manually constructed Image URL:",us),J(us),us}catch(re){return console.error("Unexpected error during image upload:",re.message),null}return null},El=async()=>{const re=Math.floor(1e5+Math.random()*9e5).toString();h(re),P(!1),E(30),j(!1),we(!0);try{const xt=new Date().toISOString(),dn=b||xt.split("T")[0],dr=_||"00:00:00",us=p.id,Tl=await So();if(!Tl){console.error("Image upload failed. Code generation aborted.");return}const{data:hr,error:oi}=await Ie.from("item_reports2").insert([{code:parseInt(re,10),confirmed:!1,createdat:xt,holderid:us,category:r,brand:v,color:x,datefound:dn,timefound:dr,locationfound:T,objectname:U,imageurl:Tl,type:"Found",status:"pending"}]).select("id").single();if(oi){console.error("Error inserting into database:",oi.message);return}if(!hr||!hr.id){console.error("No valid data returned from the database.");return}k(hr.id);let ds=30;const Il=setInterval(()=>{ds-=1,E(ds),ds<=0&&(clearInterval(Il),ii(hr.id))},1e3),ai=async()=>{try{const{data:fr,error:Co}=await Ie.from("item_reports2").select("confirmed").eq("id",hr.id).single();if(Co)throw Co;fr&&fr.confirmed?(clearInterval(Il),j(!0),P(!1)):ds>0&&setTimeout(ai,1e3)}catch(fr){console.error("Error checking confirmation:",fr.message)}};ai()}catch(xt){console.error("Unexpected error:",xt.message)}},ii=async re=>{try{const{data:xt,error:dn}=await Ie.from("item_reports2").select("confirmed").eq("id",re).single();if(dn)throw dn;if(!xt.confirmed){const{error:dr}=await Ie.from("item_reports2").delete().eq("id",re);if(dr)throw dr;P(!0)}}catch(xt){console.error("Error expiring code:",xt)}};O.useEffect(()=>{e===4&&!te&&El()},[e,te]);const Bn=()=>{e===4&&!C?alert("Your code is not yet confirmed by the admin. Please wait for confirmation."):n(e+1)},cs=()=>{n(e-1)};return u.jsx(u.Fragment,{children:u.jsxs("div",{className:"report-found-item-container",children:[e===1&&u.jsxs("div",{className:"step1",children:[u.jsx("h2",{children:"REPORT A FOUND ITEM"}),u.jsxs("div",{className:"ProgressIndi",children:[u.jsx("div",{className:"step active",children:"1"}),u.jsx("div",{className:"step",children:"2"}),u.jsx("div",{className:"step",children:"3"}),u.jsx("div",{className:"step",children:"4"}),u.jsx("div",{className:"step",children:"5"})]}),u.jsxs("div",{className:"ReportFoundContainer",children:[u.jsx("h3",{children:"TERMS AND CONDITIONS"}),u.jsxs("p",{children:["We appreciate your willingness to turn in the items ",u.jsx("br",{})," ","you've found. By providing your information, you agree ",u.jsx("br",{})," to these terms."]}),u.jsxs("p",{children:["Your personal information will be kept confidential. It ",u.jsx("br",{})," ","will only be used to help identify the item and will not ",u.jsx("br",{})," ","be shared with anyone else without your permission."]}),u.jsxs("p",{children:["Please note that NU Lost and Found Dasmarias is not ",u.jsx("br",{})," ","responsible for any damage to items you surrender. We ",u.jsx("br",{})," ","sincerely appreciate your honesty in returning found ",u.jsx("br",{})," ","items."]}),u.jsxs("p",{children:["By surrendering a found item, you confirm that you have ",u.jsx("br",{})," ","read and understood these terms."]}),u.jsx("div",{className:"CheckboxContainer",children:u.jsxs("label",{children:[u.jsx("input",{type:"checkbox",checked:a,onChange:()=>l(!a)}),"I understand and agree."]})})]}),u.jsxs("div",{className:"ButtonContainer",children:[u.jsx("button",{className:"PrevBtn",onClick:()=>{t("/homepage"),setTimeout(()=>{window.scrollTo(0,document.body.scrollHeight-1800)},100)},children:"Home"}),u.jsx("button",{className:"NextBtn",disabled:!a,onClick:Bn,children:"Next"})]})]}),e===2&&u.jsxs("div",{className:"step2",children:[u.jsx("h2",{children:"REPORT A FOUND ITEM"}),u.jsxs("div",{className:"ProgressIndi",children:[u.jsx("div",{className:"step active",children:"1"}),u.jsx("div",{className:"step active",children:"2"}),u.jsx("div",{className:"step",children:"3"}),u.jsx("div",{className:"step",children:"4"}),u.jsx("div",{className:"step",children:"5"})]}),u.jsxs("div",{className:"ReportLostContainer",children:[u.jsx("h3",{children:"CHOOSE CATEGORY"}),u.jsxs("form",{children:[u.jsxs("label",{children:[u.jsx("input",{type:"radio",name:"category",value:"Personal Belonging",checked:r==="Personal Belonging",onChange:re=>s(re.target.value)}),"Personal Belonging",u.jsxs("ul",{children:[u.jsx("li",{children:" Wallet"}),u.jsx("li",{children:" Bag"}),u.jsx("li",{children:" Clothing"}),u.jsx("li",{children:" Jewelry, etc..."})]})]}),u.jsxs("label",{children:[u.jsx("input",{type:"radio",name:"category",value:"Electronics",checked:r==="Electronics",onChange:re=>s(re.target.value)}),"Electronics",u.jsxs("ul",{children:[u.jsx("li",{children:" Phones"}),u.jsx("li",{children:" Laptop"}),u.jsx("li",{children:" Charger"}),u.jsx("li",{children:" Camera, etc..."})]})]}),u.jsxs("label",{children:[u.jsx("input",{type:"radio",name:"category",value:"Documents",checked:r==="Documents",onChange:re=>s(re.target.value)}),"Documents",u.jsxs("ul",{children:[u.jsx("li",{children:" ID"}),u.jsx("li",{children:" Cards"}),u.jsx("li",{children:" Printed Materials"}),u.jsx("li",{children:" School works, etc..."})]})]}),u.jsxs("label",{children:[u.jsx("input",{type:"radio",name:"category",value:"Other",checked:r==="Other",onChange:re=>s(re.target.value)}),"Other (Specify)",r==="Other"&&u.jsx("input",{type:"text",className:"FInput",placeholder:"Other category",value:i,onChange:re=>o(re.target.value),required:!0})]})]})]}),u.jsxs("div",{className:"ButtonContainer",children:[u.jsx("button",{className:"PrevBtn",onClick:cs,children:"Previous"}),u.jsxs("button",{className:"NextBtn",onClick:Bn,disabled:!r||r==="Other"&&!i,children:["Next"," "]})]})]}),e===3&&u.jsxs("div",{className:"step3",children:[u.jsx("h2",{children:"REPORT A FOUND ITEM"}),u.jsxs("div",{className:"ProgressIndi",children:[u.jsx("div",{className:"step active",children:"1"}),u.jsx("div",{className:"step active",children:"2"}),u.jsx("div",{className:"step active",children:"3"}),u.jsx("div",{className:"step",children:"4"}),u.jsx("div",{className:"step",children:"5"})]}),u.jsxs("div",{className:"ReportFoundContainer",children:[u.jsx("h3",{children:"RESPONSE FORM"}),u.jsxs("div",{className:"FormRow",children:[u.jsx("label",{htmlFor:"NameInp",children:"Name:"}),u.jsx("input",{className:"FInput",type:"text",id:"NameInp",value:p==null?void 0:p.name,readOnly:!0,required:!0})]}),u.jsxs("div",{className:"FormRow",children:[u.jsx("label",{htmlFor:"EmailInp",children:"Email:"}),u.jsx("input",{className:"FInput",type:"text",id:"EmailInp",value:p==null?void 0:p.email,readOnly:!0,required:!0})]}),u.jsxs("div",{className:"FormRow",children:[u.jsx("label",{htmlFor:"ContactNumInp",children:"Contact Number:"}),u.jsx("input",{className:"FInput",type:"text",id:"ContactNumInp",value:p==null?void 0:p.contactNumber,readOnly:!0,required:!0})]}),u.jsxs("div",{className:"FormRow",children:[u.jsx("label",{htmlFor:"ObjectNameInp",children:"Object name:"}),u.jsx("input",{className:"FInput",type:"text",id:"ObjectNameInp",value:U,onChange:re=>L(re.target.value),required:!0})]}),u.jsxs("div",{className:"FormRow",children:[u.jsx("label",{htmlFor:"BrandInp",children:"Brand:"}),u.jsx("input",{className:"FInput",type:"text",id:"BrandInp",value:v,onChange:re=>y(re.target.value),required:!0})]}),u.jsxs("div",{className:"FormRow",children:[u.jsx("label",{htmlFor:"ColorInp",children:"Color:"}),u.jsxs("select",{id:"ColorInp",className:"FInput",value:x,onChange:re=>R(re.target.value),required:!0,children:[u.jsx("option",{value:"",children:"Select a color"}),u.jsx("option",{value:"Red",children:"Red"}),u.jsx("option",{value:"Blue",children:"Blue"}),u.jsx("option",{value:"Green",children:"Green"}),u.jsx("option",{value:"Yellow",children:"Yellow"}),u.jsx("option",{value:"Orange",children:"Orange"}),u.jsx("option",{value:"Purple",children:"Purple"}),u.jsx("option",{value:"Pink",children:"Pink"}),u.jsx("option",{value:"Black",children:"Black"}),u.jsx("option",{value:"White",children:"White"}),u.jsx("option",{value:"Gray",children:"Gray"}),u.jsx("option",{value:"Others",children:"Other"})]}),x==="Others"&&u.jsx("input",{className:"FInput",type:"text",placeholder:"Specify color",value:be,onChange:re=>le(re.target.value),required:!0})]}),u.jsxs("div",{className:"FormRow",children:[u.jsx("label",{htmlFor:"DateFoundInp",children:"Date Found:"}),u.jsx("input",{className:"FInput",type:"date",id:"DateFoundInp",value:b,onChange:re=>I(re.target.value),required:!0})]}),u.jsxs("div",{className:"FormRow",children:[u.jsx("label",{htmlFor:"TimeFoundInp",children:"Time Found:"})," ",u.jsx("input",{className:"FInput",type:"time",id:"TimeFoundInp",value:_,onChange:re=>D(re.target.value),required:!0})]}),u.jsxs("div",{className:"FormRow",children:[u.jsx("label",{htmlFor:"LocationFoundInp",children:"Location Found:"}),u.jsx("input",{className:"FInput",type:"text",id:"LocationFoundInp",value:T,onChange:re=>M(re.target.value),required:!0})]}),u.jsxs("div",{className:"FormRow",children:[u.jsx("label",{htmlFor:"ImageInp",children:"Upload Image:"}),u.jsx("input",{className:"FInput",type:"file",id:"ImageInp",onChange:et,accept:"image/*"})]}),u.jsx("div",{className:"FormRow"}),z&&u.jsx("p",{children:"Uploading image..."})]}),u.jsxs("div",{className:"ButtonContainer",children:[u.jsx("button",{className:"PrevBtn",onClick:cs,children:"Previous"}),u.jsx("button",{className:"NextBtn",onClick:Bn,disabled:!U||!x||!b||!T||!_,children:"Next"})]})]}),e===4&&u.jsxs("div",{className:"step4",children:[u.jsx("h2",{children:"REPORT A FOUND ITEM"}),u.jsxs("div",{className:"ProgressIndi",children:[u.jsx("div",{className:"step active",children:"1"}),u.jsx("div",{className:"step active",children:"2"}),u.jsx("div",{className:"step active",children:"3"}),u.jsx("div",{className:"step active",children:"4"}),u.jsx("div",{className:"step",children:"5"})]}),u.jsxs("div",{className:"FReportFoundContainer",children:[u.jsx("p",{children:"PLEASE PROCEED TO THE DISCIPLINARY OFFICE TO SURRENDER FOUND ITEMS."}),u.jsx("p",{children:"Show the Code"}),u.jsx("div",{children:N?u.jsxs("div",{children:[u.jsx("p",{children:"Code expired. Please generate a new code."}),u.jsx("button",{onClick:El,children:"Generate New Code"})]}):C?u.jsx("div",{children:u.jsx("p",{children:"Code confirmed"})}):u.jsxs("div",{children:[u.jsxs("p",{children:["Time left before code expires: ",A," seconds"]}),u.jsx("h1",{children:d}),u.jsx("p",{children:"Admin needs to confirm this code."})]})})]}),u.jsxs("div",{className:"ButtonContainer",children:[u.jsx("button",{className:"PrevBtn",onClick:cs,disabled:C,children:"Previous"}),u.jsx("button",{className:"Nextbtn",onClick:Bn,disabled:!C,children:"Next"})]})]}),e===5&&u.jsxs("div",{className:"step5",children:[u.jsx("h2",{children:"REPORT A FOUND ITEM"}),u.jsxs("div",{className:"ProgressIndi",children:[u.jsx("div",{className:"step active",children:"1"}),u.jsx("div",{className:"step active",children:"2"}),u.jsx("div",{className:"step active",children:"3"}),u.jsx("div",{className:"step active",children:"4"}),u.jsx("div",{className:"step active",children:"5"})]}),u.jsxs("div",{className:"FReportFoundContainer",children:[u.jsx("h3",{children:"Thank You!"}),u.jsx("p",{children:"Your honesty and effort will greatly assist the owner in retrieving their belongings."})]}),u.jsx("button",{className:"FinishBtn",onClick:()=>t("/homepage#body1"),children:"Finish"})]})]})})}function UT(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=UT(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ur(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=UT(t))&&(r&&(r+=" "),r+=e);return r}const rl=t=>typeof t=="number"&&!isNaN(t),Ls=t=>typeof t=="string",Ht=t=>typeof t=="function",$c=t=>Ls(t)||Ht(t)?t:null,$p=t=>O.isValidElement(t)||Ls(t)||Ht(t)||rl(t);function ML(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:s}=t;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,n)})})}function Ad(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:s=!0,collapseDuration:i=300}=t;return function(o){let{children:a,position:l,preventExitTransition:d,done:h,nodeRef:p,isIn:g,playToast:w}=o;const k=r?`${e}--${l}`:e,N=r?`${n}--${l}`:n,P=O.useRef(0);return O.useLayoutEffect(()=>{const A=p.current,E=k.split(" "),C=j=>{j.target===p.current&&(w(),A.removeEventListener("animationend",C),A.removeEventListener("animationcancel",C),P.current===0&&j.type!=="animationcancel"&&A.classList.remove(...E))};A.classList.add(...E),A.addEventListener("animationend",C),A.addEventListener("animationcancel",C)},[]),O.useEffect(()=>{const A=p.current,E=()=>{A.removeEventListener("animationend",E),s?ML(A,h,i):h()};g||(d?E():(P.current=1,A.className+=` ${N}`,A.addEventListener("animationend",E)))},[g]),xe.createElement(xe.Fragment,null,a)}}function I1(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const It=new Map;let sl=[];const Bp=new Set,FL=t=>Bp.forEach(e=>e(t)),VT=()=>It.size>0;function $T(t,e){var n;if(e)return!((n=It.get(e))==null||!n.isToastActive(t));let r=!1;return It.forEach(s=>{s.isToastActive(t)&&(r=!0)}),r}function BT(t,e){$p(t)&&(VT()||sl.push({content:t,options:e}),It.forEach(n=>{n.buildToast(t,e)}))}function S1(t,e){It.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function UL(t){const{subscribe:e,getSnapshot:n,setProps:r}=O.useRef(function(i){const o=i.containerId||1;return{subscribe(a){const l=function(h,p,g){let w=1,k=0,N=[],P=[],A=[],E=p;const C=new Map,j=new Set,U=()=>{A=Array.from(C.values()),j.forEach(y=>y())},L=y=>{P=y==null?[]:P.filter(x=>x!==y),U()},v=y=>{const{toastId:x,onOpen:R,updateId:b,children:I}=y.props,_=b==null;y.staleId&&C.delete(y.staleId),C.set(x,y),P=[...P,y.props.toastId].filter(D=>D!==y.staleId),U(),g(I1(y,_?"added":"updated")),_&&Ht(R)&&R(O.isValidElement(I)&&I.props)};return{id:h,props:E,observe:y=>(j.add(y),()=>j.delete(y)),toggle:(y,x)=>{C.forEach(R=>{x!=null&&x!==R.props.toastId||Ht(R.toggle)&&R.toggle(y)})},removeToast:L,toasts:C,clearQueue:()=>{k-=N.length,N=[]},buildToast:(y,x)=>{if((J=>{let{containerId:te,toastId:we,updateId:be}=J;const le=te?te!==h:h!==1,et=C.has(we)&&be==null;return le||et})(x))return;const{toastId:R,updateId:b,data:I,staleId:_,delay:D}=x,T=()=>{L(R)},M=b==null;M&&k++;const $={...E,style:E.toastStyle,key:w++,...Object.fromEntries(Object.entries(x).filter(J=>{let[te,we]=J;return we!=null})),toastId:R,updateId:b,data:I,closeToast:T,isIn:!1,className:$c(x.className||E.toastClassName),bodyClassName:$c(x.bodyClassName||E.bodyClassName),progressClassName:$c(x.progressClassName||E.progressClassName),autoClose:!x.isLoading&&(V=x.autoClose,z=E.autoClose,V===!1||rl(V)&&V>0?V:z),deleteToast(){const J=C.get(R),{onClose:te,children:we}=J.props;Ht(te)&&te(O.isValidElement(we)&&we.props),g(I1(J,"removed")),C.delete(R),k--,k<0&&(k=0),N.length>0?v(N.shift()):U()}};var V,z;$.closeButton=E.closeButton,x.closeButton===!1||$p(x.closeButton)?$.closeButton=x.closeButton:x.closeButton===!0&&($.closeButton=!$p(E.closeButton)||E.closeButton);let H=y;O.isValidElement(y)&&!Ls(y.type)?H=O.cloneElement(y,{closeToast:T,toastProps:$,data:I}):Ht(y)&&(H=y({closeToast:T,toastProps:$,data:I}));const Q={content:H,props:$,staleId:_};E.limit&&E.limit>0&&k>E.limit&&M?N.push(Q):rl(D)?setTimeout(()=>{v(Q)},D):v(Q)},setProps(y){E=y},setToggle:(y,x)=>{C.get(y).toggle=x},isToastActive:y=>P.some(x=>x===y),getSnapshot:()=>E.newestOnTop?A.reverse():A}}(o,i,FL);It.set(o,l);const d=l.observe(a);return sl.forEach(h=>BT(h.content,h.options)),sl=[],()=>{d(),It.delete(o)}},setProps(a){var l;(l=It.get(o))==null||l.setProps(a)},getSnapshot(){var a;return(a=It.get(o))==null?void 0:a.getSnapshot()}}}(t)).current;r(t);const s=O.useSyncExternalStore(e,n,n);return{getToastToRender:function(i){if(!s)return[];const o=new Map;return s.forEach(a=>{const{position:l}=a.props;o.has(l)||o.set(l,[]),o.get(l).push(a)}),Array.from(o,a=>i(a[0],a[1]))},isToastActive:$T,count:s==null?void 0:s.length}}function VL(t){const[e,n]=O.useState(!1),[r,s]=O.useState(!1),i=O.useRef(null),o=O.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:d,onClick:h,closeOnClick:p}=t;var g,w;function k(){n(!0)}function N(){n(!1)}function P(C){const j=i.current;o.canDrag&&j&&(o.didMove=!0,e&&N(),o.delta=t.draggableDirection==="x"?C.clientX-o.start:C.clientY-o.start,o.start!==C.clientX&&(o.canCloseOnClick=!1),j.style.transform=`translate3d(${t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,j.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function A(){document.removeEventListener("pointermove",P),document.removeEventListener("pointerup",A);const C=i.current;if(o.canDrag&&o.didMove&&C){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return s(!0),t.closeToast(),void t.collapseAll();C.style.transition="transform 0.2s, opacity 0.2s",C.style.removeProperty("transform"),C.style.removeProperty("opacity")}}(w=It.get((g={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||w.setToggle(g.id,g.fn),O.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||N(),window.addEventListener("focus",k),window.addEventListener("blur",N),()=>{window.removeEventListener("focus",k),window.removeEventListener("blur",N)}},[t.pauseOnFocusLoss]);const E={onPointerDown:function(C){if(t.draggable===!0||t.draggable===C.pointerType){o.didMove=!1,document.addEventListener("pointermove",P),document.addEventListener("pointerup",A);const j=i.current;o.canCloseOnClick=!0,o.canDrag=!0,j.style.transition="none",t.draggableDirection==="x"?(o.start=C.clientX,o.removalDistance=j.offsetWidth*(t.draggablePercent/100)):(o.start=C.clientY,o.removalDistance=j.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(C){const{top:j,bottom:U,left:L,right:v}=i.current.getBoundingClientRect();C.nativeEvent.type!=="touchend"&&t.pauseOnHover&&C.clientX>=L&&C.clientX<=v&&C.clientY>=j&&C.clientY<=U?N():k()}};return a&&l&&(E.onMouseEnter=N,t.stacked||(E.onMouseLeave=k)),p&&(E.onClick=C=>{h&&h(C),o.canCloseOnClick&&d()}),{playToast:k,pauseToast:N,isRunning:e,preventExitTransition:r,toastRef:i,eventHandlers:E}}function $L(t){let{delay:e,isRunning:n,closeToast:r,type:s="default",hide:i,className:o,style:a,controlledProgress:l,progress:d,rtl:h,isIn:p,theme:g}=t;const w=i||l&&d===0,k={...a,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};l&&(k.transform=`scaleX(${d})`);const N=Ur("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${g}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":h}),P=Ht(o)?o({rtl:h,type:s,defaultClassName:N}):Ur(N,o),A={[l&&d>=1?"onTransitionEnd":"onAnimationEnd"]:l&&d<1?null:()=>{p&&r()}};return xe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":w},xe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${g} Toastify__progress-bar--${s}`}),xe.createElement("div",{role:"progressbar","aria-hidden":w?"true":"false","aria-label":"notification timer",className:P,style:k,...A}))}let BL=1;const zT=()=>""+BL++;function zL(t){return t&&(Ls(t.toastId)||rl(t.toastId))?t.toastId:zT()}function ka(t,e){return BT(t,e),e.toastId}function Lu(t,e){return{...e,type:e&&e.type||t,toastId:zL(e)}}function yc(t){return(e,n)=>ka(e,Lu(t,n))}function ve(t,e){return ka(t,Lu("default",e))}ve.loading=(t,e)=>ka(t,Lu("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),ve.promise=function(t,e,n){let r,{pending:s,error:i,success:o}=e;s&&(r=Ls(s)?ve.loading(s,n):ve.loading(s.render,{...n,...s}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(h,p,g)=>{if(p==null)return void ve.dismiss(r);const w={type:h,...a,...n,data:g},k=Ls(p)?{render:p}:p;return r?ve.update(r,{...w,...k}):ve(k.render,{...w,...k}),g},d=Ht(t)?t():t;return d.then(h=>l("success",o,h)).catch(h=>l("error",i,h)),d},ve.success=yc("success"),ve.info=yc("info"),ve.error=yc("error"),ve.warning=yc("warning"),ve.warn=ve.warning,ve.dark=(t,e)=>ka(t,Lu("default",{theme:"dark",...e})),ve.dismiss=function(t){(function(e){var n;if(VT()){if(e==null||Ls(n=e)||rl(n))It.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=It.get(e.containerId);r?r.removeToast(e.id):It.forEach(s=>{s.removeToast(e.id)})}}else sl=sl.filter(r=>e!=null&&r.options.toastId!==e)})(t)},ve.clearWaitingQueue=function(t){t===void 0&&(t={}),It.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},ve.isActive=$T,ve.update=function(t,e){e===void 0&&(e={});const n=((r,s)=>{var i;let{containerId:o}=s;return(i=It.get(o||1))==null?void 0:i.toasts.get(r)})(t,e);if(n){const{props:r,content:s}=n,i={delay:100,...r,...e,toastId:e.toastId||t,updateId:zT()};i.toastId!==t&&(i.staleId=t);const o=i.render||s;delete i.render,ka(o,i)}},ve.done=t=>{ve.update(t,{progress:1})},ve.onChange=function(t){return Bp.add(t),()=>{Bp.delete(t)}},ve.play=t=>S1(!0,t),ve.pause=t=>S1(!1,t);const qL=typeof window<"u"?O.useLayoutEffect:O.useEffect,vc=t=>{let{theme:e,type:n,isLoading:r,...s}=t;return xe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...s})},Qh={info:function(t){return xe.createElement(vc,{...t},xe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return xe.createElement(vc,{...t},xe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return xe.createElement(vc,{...t},xe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return xe.createElement(vc,{...t},xe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return xe.createElement("div",{className:"Toastify__spinner"})}},HL=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:s,playToast:i}=VL(t),{closeButton:o,children:a,autoClose:l,onClick:d,type:h,hideProgressBar:p,closeToast:g,transition:w,position:k,className:N,style:P,bodyClassName:A,bodyStyle:E,progressClassName:C,progressStyle:j,updateId:U,role:L,progress:v,rtl:y,toastId:x,deleteToast:R,isIn:b,isLoading:I,closeOnClick:_,theme:D}=t,T=Ur("Toastify__toast",`Toastify__toast-theme--${D}`,`Toastify__toast--${h}`,{"Toastify__toast--rtl":y},{"Toastify__toast--close-on-click":_}),M=Ht(N)?N({rtl:y,position:k,type:h,defaultClassName:T}):Ur(T,N),$=function(Q){let{theme:J,type:te,isLoading:we,icon:be}=Q,le=null;const et={theme:J,type:te};return be===!1||(Ht(be)?le=be({...et,isLoading:we}):O.isValidElement(be)?le=O.cloneElement(be,et):we?le=Qh.spinner():(So=>So in Qh)(te)&&(le=Qh[te](et))),le}(t),V=!!v||!l,z={closeToast:g,type:h,theme:D};let H=null;return o===!1||(H=Ht(o)?o(z):O.isValidElement(o)?O.cloneElement(o,z):function(Q){let{closeToast:J,theme:te,ariaLabel:we="close"}=Q;return xe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${te}`,type:"button",onClick:be=>{be.stopPropagation(),J(be)},"aria-label":we},xe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},xe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(z)),xe.createElement(w,{isIn:b,done:R,position:k,preventExitTransition:n,nodeRef:r,playToast:i},xe.createElement("div",{id:x,onClick:d,"data-in":b,className:M,...s,style:P,ref:r},xe.createElement("div",{...b&&{role:L},className:Ht(A)?A({type:h}):Ur("Toastify__toast-body",A),style:E},$!=null&&xe.createElement("div",{className:Ur("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!I})},$),xe.createElement("div",null,a)),H,xe.createElement($L,{...U&&!V?{key:`pb-${U}`}:{},rtl:y,theme:D,delay:l,isRunning:e,isIn:b,closeToast:g,hide:p,type:h,style:j,className:C,controlledProgress:V,progress:v||0})))},Rd=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},WL=Ad(Rd("bounce",!0));Ad(Rd("slide",!0));Ad(Rd("zoom"));Ad(Rd("flip"));const GL={position:"top-right",transition:WL,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function KL(t){let e={...GL,...t};const n=t.stacked,[r,s]=O.useState(!0),i=O.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=UL(e),{className:d,style:h,rtl:p,containerId:g}=e;function w(N){const P=Ur("Toastify__toast-container",`Toastify__toast-container--${N}`,{"Toastify__toast-container--rtl":p});return Ht(d)?d({position:N,rtl:p,defaultClassName:P}):Ur(P,$c(d))}function k(){n&&(s(!0),ve.play())}return qL(()=>{if(n){var N;const P=i.current.querySelectorAll('[data-in="true"]'),A=12,E=(N=e.position)==null?void 0:N.includes("top");let C=0,j=0;Array.from(P).reverse().forEach((U,L)=>{const v=U;v.classList.add("Toastify__toast--stacked"),L>0&&(v.dataset.collapsed=`${r}`),v.dataset.pos||(v.dataset.pos=E?"top":"bot");const y=C*(r?.2:1)+(r?0:A*L);v.style.setProperty("--y",`${E?y:-1*y}px`),v.style.setProperty("--g",`${A}`),v.style.setProperty("--s",""+(1-(r?j:0))),C+=v.offsetHeight,j+=.025})}},[r,l,n]),xe.createElement("div",{ref:i,className:"Toastify",id:g,onMouseEnter:()=>{n&&(s(!1),ve.pause())},onMouseLeave:k},o((N,P)=>{const A=P.length?{...h}:{...h,pointerEvents:"none"};return xe.createElement("div",{className:w(N),style:A,key:`container-${N}`},P.map(E=>{let{content:C,props:j}=E;return xe.createElement(HL,{...j,stacked:n,collapseAll:k,isIn:a(j.toastId,j.containerId),style:j.style,key:`toast-${j.key}`},C)}))}))}function QL(){const[t,e]=O.useState(""),[n,r]=O.useState(""),[s,i]=O.useState([]),[o,a]=O.useState(null);O.useEffect(()=>{const k=JSON.parse(sessionStorage.getItem("user"));k?a({name:`${k.firstname} ${k.lastname}`,email:k.email,contactNumber:k.contact,userId:k.id}):console.log("No user data found in sessionStorage.")},[]);const l=k=>{e(k.target.value)},d=async()=>{try{const{data:k,error:N}=await Ie.from("item_reports2").select("*").eq("code",parseInt(t,10)).single();N?(r("Error fetching item. Please try again."),console.error("Error fetching item:",N),ve.error("Error fetching item. Please try again.")):k?(k.confirmed?ve.info("This item has already been confirmed."):(await h(k.id),ve.success("Reported found item confirmed successfully!")),e("")):(r("No matching item found for the given code."),ve.warning("No matching item found for the given code."))}catch(k){console.error("Error fetching document:",k),r("Error fetching item. Please try again."),ve.error("Error fetching item. Please try again.")}},h=async k=>{try{const{error:N}=await Ie.from("item_reports2").update({confirmed:!0}).eq("id",k);N&&(ve.error("Error confirming the item. Please try again."),console.error("Error updating confirmation status:",N))}catch(N){console.error("Error confirming item:",N),ve.error("Error confirming the item. Please try again.")}};O.useEffect(()=>{(async()=>{try{const{data:N,error:P}=await Ie.from("item_reports2").select(`
          *,
          userinfo:holderid (firstname, lastname)
        `);P?console.error("Error fetching found items: ",P):i(N)}catch(N){console.error("Error fetching found items: ",N)}})()},[]);const p=s.filter(k=>k.status==="pending"&&k.type==="Found").length,g=s.filter(k=>k.status==="pending"&&k.type==="Lost").length,w=s.filter(k=>k.status==="claimed").length;return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"adminnavbar",children:[u.jsxs("div",{children:[u.jsx("p",{className:"header",children:"Dashboard"}),u.jsx("p",{children:"Welcome to NU Lost and Found!"})]}),u.jsxs("div",{children:[u.jsx("input",{className:"entercode",maxLength:6,placeholder:"ENTER CODE",value:t,onChange:l}),u.jsx("button",{className:"codebtn",id:"entercodebtn",onClick:d,children:u.jsx(jt,{icon:Wg})})]})]}),u.jsxs("div",{className:"dashboardbody",children:[u.jsxs("div",{className:"panels",children:[u.jsxs("div",{className:"panel",children:[u.jsx("p",{id:"lostitemcount",className:"panelh2",children:p}),u.jsx("p",{className:"panelp",children:"Lost Items"})]}),u.jsxs("div",{className:"panel",children:[u.jsx("p",{id:"pendingclaimcount",className:"panelh2",children:g}),u.jsx("p",{className:"panelp",children:"Pending Claims"})]}),u.jsxs("div",{className:"panel",children:[u.jsx("p",{id:"claimeditemscount",className:"panelh2",children:w}),u.jsx("p",{className:"panelp",children:"Claimed Items"})]})]}),u.jsxs("div",{className:"dashboardtable",children:[u.jsx("p",{className:"ptag",children:"Displaying Most Recent Lost Items"}),u.jsx("div",{className:"table-container",children:u.jsxs("table",{className:"report-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Reported By"}),u.jsx("th",{children:"Category"}),u.jsx("th",{children:"Object Name"}),u.jsx("th",{children:"Reported Date"}),u.jsx("th",{children:"Type"}),u.jsx("th",{children:"Claimed By"})]})}),u.jsx("tbody",{children:s.length>0?s.filter(k=>k.status).sort((k,N)=>new Date(N.createdat)-new Date(k.createdat)).slice(0,5).map(k=>{var N,P;return u.jsxs("tr",{children:[u.jsx("td",{children:(N=k.userinfo)!=null&&N.firstname&&((P=k.userinfo)!=null&&P.lastname)?`${k.userinfo.firstname} ${k.userinfo.lastname}`:"N/A"}),u.jsx("td",{children:k.category}),u.jsx("td",{children:k.objectname}),u.jsx("td",{children:k.createdat?new Date(k.createdat).toLocaleString():"N/A"}),u.jsx("td",{children:k.status==="lost"?"Lost":k.status==="pending"?"Missing":k.status==="claimed"?"Claimed":"N/A"}),u.jsx("td",{children:k.claimedby?k.claimedby:"N/A"})]},k.id)}):u.jsx("tr",{children:u.jsx("td",{colSpan:"6",children:"No data available"})})})]})})]})]}),u.jsx(KL,{})]})}const Gg="/assets/imgplaceholder-BlucxwEu.png";function YL(){const[t,e]=O.useState([]),[n,r]=O.useState(""),[s,i]=O.useState(""),[o,a]=O.useState({start:"",end:""}),[l,d]=O.useState(!1),[h,p]=O.useState(!1),[g,w]=O.useState(null);O.useState(null),O.useState("Your lost item might have been matched."),O.useState(!1);const[k,N]=O.useState(""),[P,A]=O.useState({claimedBy:"",claimContactNumber:"",claimEmail:""});O.useEffect(()=>{(async()=>{let v=Ie.from("item_reports2").select(`
          *,
          userinfo:holderid (firstname, lastname, email, contact)
        `).eq("status","pending").eq("type","Found").eq("confirmed",!0).order("createdat",{ascending:!1});n&&(v=v.eq("category",n)),s&&(v=v.eq("color",s)),o.start&&(v=v.gte("datefound",o.start)),o.end&&(v=v.lte("datefound",o.end));const{data:y,error:x}=await v.order("datefound",{ascending:!1}).order("timefound",{ascending:!1});if(x)console.error("Error fetching found items:",x);else{const R=y.map(b=>{var _,D;const I=(_=b.userinfo)!=null&&_.firstname&&((D=b.userinfo)!=null&&D.lastname)?`${b.userinfo.firstname} ${b.userinfo.lastname}`:"N/A";return{...b,userName:I}});e(R)}})()},[n,s,o]);const E=L=>{w(L),d(!0)},C=L=>{w(L),p(!0)},j=async()=>{if(!(!g||!k.trim()))try{const{error:L}=await Ie.from("item_reports2").update({status:"archived",archiveremark:k}).eq("id",g);L?console.error("Error archiving item:",L):(e(t.filter(v=>v.id!==g)),d(!1),N(""),console.log("Item archived successfully."))}catch(L){console.error("Error archiving item: ",L)}},U=async()=>{if(!(!P.claimedBy.trim()||!P.claimContactNumber.trim()||!P.claimEmail.trim()))try{const{error:L}=await Ie.from("item_reports2").update({status:"claimed",claimedby:P.claimedBy,claimcontactnumber:P.claimContactNumber,claimemail:P.claimEmail}).eq("id",g);if(L){console.error("Error updating claim status:",L);return}await(async()=>{let y=Ie.from("item_reports2").select(`
            *,
            userinfo:holderid (firstname, lastname, email, contact)
          `).eq("status","pending").eq("type","Found").eq("confirmed",!0).order("createdat",{ascending:!1});n&&(y=y.eq("category",n)),s&&(y=y.eq("color",s)),o.start&&(y=y.gte("datefound",o.start)),o.end&&(y=y.lte("datefound",o.end));const{data:x,error:R}=await y;R?console.error("Error fetching updated items:",R):e(x)})(),p(!1),A({claimedBy:"",claimContactNumber:"",claimEmail:""}),console.log("Item successfully marked as claimed.")}catch(L){console.error("Error handling claim:",L)}};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"adminnavbar",children:[u.jsxs("div",{children:[u.jsx("p",{className:"header",children:"Found Item Reports"}),u.jsxs("div",{className:"categoryx",children:[u.jsx("p",{children:"Filter"}),u.jsxs("select",{className:"categorybutton",value:n,onChange:L=>r(L.target.value),children:[u.jsx("option",{value:"",children:"All Categories"}),u.jsx("option",{value:"Personal Belonging",children:"Personal Belonging"}),u.jsx("option",{value:"Electronics",children:"Electronics"}),u.jsx("option",{value:"Documents",children:"Documents"}),u.jsx("option",{value:"Others",children:"Others"})]}),u.jsxs("select",{className:"categorybutton",value:s,onChange:L=>i(L.target.value),children:[u.jsx("option",{value:"",children:"All Colors"}),u.jsx("option",{value:"Red",children:"Red"}),u.jsx("option",{value:"Blue",children:"Blue"}),u.jsx("option",{value:"Green",children:"Green"}),u.jsx("option",{value:"Yellow",children:"Yellow"}),u.jsx("option",{value:"Orange",children:"Orange"}),u.jsx("option",{value:"Purple",children:"Purple"}),u.jsx("option",{value:"Pink",children:"Pink"}),u.jsx("option",{value:"Black",children:"Black"}),u.jsx("option",{value:"White",children:"White"}),u.jsx("option",{value:"Gray",children:"Gray"})]}),u.jsxs("div",{className:"dateDiv",children:[u.jsx("input",{type:"date",value:o.start,onChange:L=>{const v=L.target.value;a(y=>({...y,start:v,end:y.end<v?v:y.end}))}}),u.jsx("label",{className:"tolabel",children:""}),u.jsx("input",{type:"date",value:o.end,onChange:L=>a({...o,end:L.target.value}),min:o.start})]})]})]}),u.jsxs("label",{className:"adminh2",children:[t.length," "]})]}),u.jsx("div",{className:"containerlostdata",children:t.map(L=>{var v,y,x,R;return u.jsxs("div",{className:"lostitemcontainer",children:[u.jsx("img",{className:"lostitemimg",src:L.imageurl||Gg,alt:"Lost Item"}),u.jsxs("div",{className:"lostitembody",children:[u.jsxs("div",{className:"lostitemtop",children:[u.jsx("label",{className:"lostitemlabel",children:L.objectname}),u.jsxs("div",{className:"buttonslost",children:[u.jsx("button",{className:"lostitemimg2",id:"removelostitem",onClick:()=>E(L.id),children:u.jsx(jt,{icon:Hg})}),u.jsx("button",{className:"lostitemimg2",id:"checklostitem",onClick:()=>C(L.id),children:u.jsx(jt,{icon:Wg})})]})]}),u.jsxs("div",{className:"lostitembody1",children:[u.jsxs("div",{className:"lostitempanel1",children:[u.jsx("label",{className:"lostitemlabel2",children:"Category"}),u.jsx("label",{className:"lostitemlabel3",children:L.category}),u.jsx("label",{className:"lostitemlabel2",children:"Brand"}),u.jsx("label",{className:"lostitemlabel3",children:L.brand}),u.jsx("label",{className:"lostitemlabel2",children:"Color"}),u.jsx("label",{className:"lostitemlabel3",children:L.color})]}),u.jsxs("div",{className:"lostitempanel1",children:[u.jsx("label",{className:"lostitemlabel2",children:"Reported by:"}),u.jsx("label",{className:"lostitemlabel3",children:(v=L.userinfo)!=null&&v.firstname&&((y=L.userinfo)!=null&&y.lastname)?`${L.userinfo.firstname} ${L.userinfo.lastname}`:"N/A"}),u.jsx("label",{className:"lostitemlabel2",children:"Contact Number"}),u.jsx("label",{className:"lostitemlabel3",children:(x=L.userinfo)==null?void 0:x.contact}),u.jsx("label",{className:"lostitemlabel2",children:"Email"}),u.jsx("label",{className:"lostitemlabel3",children:(R=L.userinfo)==null?void 0:R.email})]}),u.jsxs("div",{className:"lostitempanel2",children:[u.jsx("label",{className:"lostitemlabel2",children:"Date Found"}),u.jsxs("label",{className:"lostitemlabel3",children:[L.datefound," at ",L.timefound]}),u.jsx("label",{className:"lostitemlabel2",children:"Location Found"}),u.jsx("label",{className:"lostitemlabel3",children:L.locationfound})]})]})]})]},L.id)})}),l&&u.jsx("div",{className:"modal",children:u.jsxs("div",{className:"modal-content",children:[u.jsx("p",{children:"Archive this item?"}),u.jsx("input",{placeholder:"Archive Reason",value:k,onChange:L=>N(L.target.value)}),u.jsxs("div",{className:"modalBtnDiv",children:[u.jsx("button",{onClick:()=>{j(),d(!1)},disabled:!k.trim(),children:"Yes"}),u.jsx("button",{onClick:()=>d(!1),children:"No"})]})]})}),h&&u.jsx("div",{className:"modal",children:u.jsxs("div",{className:"modal-content",children:[u.jsx("h2",{children:"Claim Item"}),u.jsx("label",{children:"Claimed By:"}),u.jsx("input",{type:"text",value:P.claimedBy,onChange:L=>A({...P,claimedBy:L.target.value}),required:!0}),u.jsx("label",{children:"Contact Number:"}),u.jsx("input",{type:"number",value:P.claimContactNumber,onChange:L=>A({...P,claimContactNumber:L.target.value}),required:!0,onWheel:L=>L.target.blur()}),u.jsx("label",{children:"Email:"}),u.jsx("input",{type:"email",value:P.claimEmail,onChange:L=>A({...P,claimEmail:L.target.value}),required:!0}),u.jsxs("div",{className:"modal-buttons",children:[u.jsx("button",{onClick:()=>p(!1),children:"Cancel"}),u.jsx("button",{onClick:U,disabled:!P.claimedBy.trim()||!P.claimContactNumber.trim()||!P.claimEmail.trim(),children:"Confirm Claim"})]})]})})]})}function JL(){const[t,e]=O.useState([]),[n,r]=O.useState(""),[s,i]=O.useState(""),[o,a]=O.useState({start:"",end:""}),[l,d]=O.useState(!1),[h,p]=O.useState(!1),[g,w]=O.useState(null),[k,N]=O.useState(null),[P,A]=O.useState("Your lost item might have been matched."),[E,C]=O.useState(!1),[j,U]=O.useState(""),[L,v]=O.useState({claimedBy:"",claimContactNumber:"",claimEmail:""}),y=async()=>{let T=Ie.from("item_reports2").select(`
        *,
        userinfo:holderid (firstname, lastname, email, contact)
      `).eq("status","pending").eq("type","Lost").order("createdat",{ascending:!1});n&&(T=T.eq("category",n)),s&&(T=T.eq("color",s)),o.start&&(T=T.gte("datelost",o.start)),o.end&&(T=T.lte("datelost",o.end));const{data:M,error:$}=await T.order("datelost",{ascending:!1}).order("timelost",{ascending:!1});if($)console.error("Error fetching found items:",$);else{const V=M.map(z=>{var Q;const H=((Q=z.userDetails)==null?void 0:Q.name)||"N/A";return{...z,userName:H}});e(V)}};O.useEffect(()=>{y()},[n,s,o]);const x=T=>{w(T),d(!0)},R=(T,M)=>{w(T),N(M),C(!0)},b=async()=>{try{const{data:T,error:M}=await Ie.from("item_reports2").select("*").eq("id",g).single();if(M){console.error("Error fetching item data:",M);return}const $=T.holderid;if(!$){console.error("No holder ID found for this item:",g);return}if(await Ie.from("item_reports2").update({notified:!0,message:P,notifdate:new Date}).eq("id",g),console.log(`Notification sent for item ${g} to holder ${$}`),C(!1),!P){console.error("Notification text is not defined.");return}}catch(T){console.error("Error sending notification: ",T)}},I=T=>{w(T),p(!0)},_=async T=>{if(!(!T||!j.trim()))try{const{error:M}=await Ie.from("item_reports2").update({status:"archived",archiveremark:j}).eq("id",T);M?console.error("Error archiving item:",M):(y(),console.log("Item archived and items refreshed."))}catch(M){console.error("Error archiving item: ",M)}},D=async()=>{if(!(!L.claimedBy.trim()||!L.claimContactNumber.trim()||!L.claimEmail.trim()))try{const{error:T}=await Ie.from("item_reports2").update({status:"claimed",claimedby:L.claimedBy,claimcontactnumber:L.claimContactNumber,claimemail:L.claimEmail,dateclaimed:new Date}).eq("id",g);T?console.error("Error updating claim status:",T):(y(),p(!1),v({claimedBy:"",claimContactNumber:"",claimEmail:""}),console.log("Item successfully marked as claimed."))}catch(T){console.error("Error handling claim:",T)}};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"adminnavbar",children:[u.jsxs("div",{children:[u.jsx("p",{className:"header",children:"Missing Item Reports"}),u.jsxs("div",{className:"categoryx",children:[u.jsx("p",{children:"Filter"}),u.jsxs("select",{className:"categorybutton",value:n,onChange:T=>r(T.target.value),children:[u.jsx("option",{value:"",children:"All Categories"}),u.jsx("option",{value:"Personal Belonging",children:"Personal Belonging"}),u.jsx("option",{value:"Electronics",children:"Electronics"}),u.jsx("option",{value:"Documents",children:"Documents"}),u.jsx("option",{value:"Others",children:"Others"})]}),u.jsxs("select",{className:"categorybutton",value:s,onChange:T=>i(T.target.value),children:[u.jsx("option",{value:"",children:"All Colors"}),u.jsx("option",{value:"Red",children:"Red"}),u.jsx("option",{value:"Blue",children:"Blue"}),u.jsx("option",{value:"Green",children:"Green"}),u.jsx("option",{value:"Yellow",children:"Yellow"}),u.jsx("option",{value:"Orange",children:"Orange"}),u.jsx("option",{value:"Purple",children:"Purple"}),u.jsx("option",{value:"Pink",children:"Pink"}),u.jsx("option",{value:"Black",children:"Black"}),u.jsx("option",{value:"White",children:"White"}),u.jsx("option",{value:"Gray",children:"Gray"})]}),u.jsxs("div",{className:"dateDiv",children:[u.jsx("input",{type:"date",value:o.start,onChange:T=>{const M=T.target.value;a($=>({...$,start:M,end:$.end<M?M:$.end}))}}),u.jsx("label",{className:"tolabel",children:""}),u.jsx("input",{type:"date",value:o.end,onChange:T=>a({...o,end:T.target.value}),min:o.start})]})]})]}),u.jsxs("label",{className:"adminh2",children:[t.length," "]})]}),u.jsx("div",{className:"containerlostdata",children:t.map(T=>{var M,$,V,z;return u.jsxs("div",{className:"lostitemcontainer",children:[u.jsx("img",{className:"lostitemimg",src:T.imageurl||Gg,alt:"Lost Item"}),u.jsxs("div",{className:"lostitembody",children:[u.jsxs("div",{className:"lostitemtop",children:[u.jsx("label",{className:"lostitemlabel",children:T.objectname}),u.jsxs("div",{className:"buttonslost",children:[u.jsx("button",{className:"lostitemimg2",id:"notifyuser",onClick:()=>R(T.id,T.holderid),children:u.jsx(jt,{icon:NL})}),u.jsx("button",{className:"lostitemimg2",id:"removelostitem",onClick:()=>x(T.id),children:u.jsx(jt,{icon:Hg})}),u.jsx("button",{className:"lostitemimg2",id:"checklostitem",onClick:()=>I(T.id),children:u.jsx(jt,{icon:Wg})})]})]}),u.jsxs("div",{className:"lostitembody1",children:[u.jsxs("div",{className:"lostitempanel1",children:[u.jsx("label",{className:"lostitemlabel2",children:"Category"}),u.jsx("label",{className:"lostitemlabel3",children:T.category}),u.jsx("label",{className:"lostitemlabel2",children:"Brand"}),u.jsx("label",{className:"lostitemlabel3",children:T.brand}),u.jsx("label",{className:"lostitemlabel2",children:"Color"}),u.jsx("label",{className:"lostitemlabel3",children:T.color})]}),u.jsxs("div",{className:"lostitempanel1",children:[u.jsx("label",{className:"lostitemlabel2",children:"Reported by:"}),u.jsx("label",{className:"lostitemlabel3",children:(M=T.userinfo)!=null&&M.firstname&&(($=T.userinfo)!=null&&$.lastname)?`${T.userinfo.firstname} ${T.userinfo.lastname}`:"N/A"}),u.jsx("label",{className:"lostitemlabel2",children:"Contact Number"}),u.jsx("label",{className:"lostitemlabel3",children:(V=T.userinfo)==null?void 0:V.contact}),u.jsx("label",{className:"lostitemlabel2",children:"Email"}),u.jsx("label",{className:"lostitemlabel3",children:(z=T.userinfo)==null?void 0:z.email})]}),u.jsxs("div",{className:"lostitempanel2",children:[u.jsx("label",{className:"lostitemlabel2",children:"Date Lost"}),u.jsxs("label",{className:"lostitemlabel3",children:[T.datelost," at ",T.timelost]}),u.jsx("label",{className:"lostitemlabel2",children:"Location Lost"}),u.jsx("label",{className:"lostitemlabel3",children:T.locationlost})]})]})]})]},T.id)})}),l&&u.jsx("div",{className:"modal",children:u.jsxs("div",{className:"modal-content",children:[u.jsx("p",{children:"Archive this item?"}),u.jsx("input",{placeholder:"Archive Reason",value:j,onChange:T=>U(T.target.value)}),u.jsxs("div",{className:"modalBtnDiv",children:[u.jsx("button",{onClick:()=>{_(g),d(!1)},disabled:!j.trim(),children:"Yes"}),u.jsx("button",{onClick:()=>d(!1),children:"No"})]})]})}),h&&u.jsx("div",{className:"modal",children:u.jsxs("div",{className:"modal-content",children:[u.jsx("h2",{children:"Claim Item"}),u.jsx("label",{children:"Claimed By:"}),u.jsx("input",{type:"text",value:L.claimedBy,onChange:T=>v({...L,claimedBy:T.target.value}),required:!0}),u.jsx("label",{children:"Contact Number:"}),u.jsx("input",{type:"number",value:L.claimContactNumber,onChange:T=>v({...L,claimContactNumber:T.target.value}),required:!0,onWheel:T=>T.target.blur()}),u.jsx("label",{children:"Email:"}),u.jsx("input",{type:"email",value:L.claimEmail,onChange:T=>v({...L,claimEmail:T.target.value}),required:!0}),u.jsxs("div",{className:"modal-buttons",children:[u.jsx("button",{onClick:()=>p(!1),children:"Cancel"}),u.jsx("button",{onClick:D,disabled:!L.claimedBy.trim()||!L.claimContactNumber.trim()||!L.claimEmail.trim(),children:"Confirm Claim"})]})]})}),E&&u.jsx("div",{className:"modal",children:u.jsxs("div",{className:"modal-content",children:[u.jsx("h2",{children:"Send Notification"}),u.jsx("p",{children:"Customize the notification message:"}),u.jsx("input",{type:"text",value:P,onChange:T=>A(T.target.value)}),u.jsxs("div",{className:"modal-buttons",children:[u.jsx("button",{onClick:()=>C(!1),children:"Cancel"}),u.jsx("button",{onClick:b,disabled:!P.trim(),children:"Send Notification"})]})]})})]})}function XL(){const[t,e]=O.useState([]),[n,r]=O.useState(""),[s,i]=O.useState(""),[o,a]=O.useState({start:"",end:""}),[l,d]=O.useState(!1),[h,p]=O.useState(!1),[g,w]=O.useState(null),[k,N]=O.useState("Your lost item might have been matched."),[P,A]=O.useState(!1),[E,C]=O.useState(""),[j,U]=O.useState({claimedBy:"",claimContactNumber:"",claimEmail:""}),L=async()=>{let y=Ie.from("item_reports2").select(`
        *,
        userinfo:holderid (firstname, lastname, email, contact)
      `).not("claimedby","is",null).order("createdat",{ascending:!1});n&&(y=y.eq("category",n)),s&&(y=y.eq("color",s)),o.start&&(y=y.gte("datelost",o.start)),o.end&&(y=y.lte("datelost",o.end));const{data:x,error:R}=await y;if(R)console.error("Error fetching found items:",R);else{console.log("Fetched Items:",x);const b=x.map(I=>{var _,D;return{...I,userName:(_=I.userinfo)!=null&&_.firstname&&((D=I.userinfo)!=null&&D.lastname)?`${I.userinfo.firstname} ${I.userinfo.lastname}`:"N/A"}});e(b)}};O.useEffect(()=>{L()},[n,s,o]);const v=y=>{if(!y)return"N/A";const x=new Date(y),R={year:"numeric",month:"long",day:"numeric"},b=x.toLocaleDateString(void 0,R),I=x.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"});return`${b}, ${I}`};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"adminnavbar",children:[u.jsxs("div",{children:[u.jsx("p",{className:"header",children:"Claimed Items"}),u.jsxs("div",{className:"categoryx",children:[u.jsx("p",{children:"Filter"}),u.jsxs("select",{className:"categorybutton",value:n,onChange:y=>r(y.target.value),children:[u.jsx("option",{value:"",children:"All Categories"}),u.jsx("option",{value:"Personal Belonging",children:"Personal Belonging"}),u.jsx("option",{value:"Electronics",children:"Electronics"}),u.jsx("option",{value:"Documents",children:"Documents"}),u.jsx("option",{value:"Others",children:"Others"})]}),u.jsxs("select",{className:"categorybutton",value:s,onChange:y=>i(y.target.value),children:[u.jsx("option",{value:"",children:"All Colors"}),u.jsx("option",{value:"Red",children:"Red"}),u.jsx("option",{value:"Blue",children:"Blue"}),u.jsx("option",{value:"Green",children:"Green"}),u.jsx("option",{value:"Yellow",children:"Yellow"}),u.jsx("option",{value:"Orange",children:"Orange"}),u.jsx("option",{value:"Purple",children:"Purple"}),u.jsx("option",{value:"Pink",children:"Pink"}),u.jsx("option",{value:"Black",children:"Black"}),u.jsx("option",{value:"White",children:"White"}),u.jsx("option",{value:"Gray",children:"Gray"})]}),u.jsxs("div",{className:"dateDiv",children:[u.jsx("input",{type:"date",value:o.start,onChange:y=>{const x=y.target.value;a(R=>({...R,start:x,end:R.end<x?x:R.end}))}}),u.jsx("label",{className:"tolabel",children:""}),u.jsx("input",{type:"date",value:o.end,onChange:y=>a({...o,end:y.target.value}),min:o.start})]})]})]}),u.jsxs("label",{className:"adminh2",children:[t.length," "]})]}),u.jsx("div",{className:"containerlostdata",children:t.map(y=>u.jsxs("div",{className:"lostitemcontainer",children:[u.jsx("img",{className:"lostitemimg",src:y.imageurl||Gg,alt:"Lost Item"}),u.jsxs("div",{className:"lostitembody",children:[u.jsx("div",{className:"lostitemtop",children:u.jsx("label",{className:"lostitemlabel",children:y.objectname||"N/A"})}),u.jsxs("div",{className:"lostitembody1",children:[u.jsxs("div",{className:"lostitempanel1",children:[u.jsx("label",{className:"lostitemlabel2",children:"Category"}),u.jsx("label",{className:"lostitemlabel3",children:y.category}),u.jsx("label",{className:"lostitemlabel2",children:"Brand"}),u.jsx("label",{className:"lostitemlabel3",children:y.brand}),u.jsx("label",{className:"lostitemlabel2",children:"Color"}),u.jsx("label",{className:"lostitemlabel3",children:y.color})]}),u.jsxs("div",{className:"lostitempanel1",children:[u.jsx("label",{className:"lostitemlabel2",children:"Claimed by:"}),u.jsx("label",{className:"lostitemlabel3",children:y.claimedby}),u.jsx("label",{className:"lostitemlabel2",children:"Contact Number"}),u.jsx("label",{className:"lostitemlabel3",children:y.claimcontactnumber}),u.jsx("label",{className:"lostitemlabel2",children:"Email"}),u.jsx("label",{className:"lostitemlabel3",children:y.claimemail}),u.jsx("label",{className:"lostitemlabel2",children:"Date Claimed"}),u.jsx("label",{className:"lostitemlabel3",children:v(y.dateclaimed)})]})]})]})]},y.id))}),l&&u.jsx("div",{className:"modal",children:u.jsxs("div",{className:"modal-content",children:[u.jsx("p",{children:"Archive this item?"}),u.jsx("input",{placeholder:"Archive Reason",value:E,onChange:y=>C(y.target.value)}),u.jsxs("div",{className:"modalBtnDiv",children:[u.jsx("button",{onClick:()=>{handleArchiveItem(g),d(!1)},disabled:!E.trim(),children:"Yes"}),u.jsx("button",{onClick:()=>d(!1),children:"No"})]})]})}),h&&u.jsx("div",{className:"modal",children:u.jsxs("div",{className:"modal-content",children:[u.jsx("h2",{children:"Claim Item"}),u.jsx("label",{children:"Claimed By:"}),u.jsx("input",{type:"text",value:j.claimedBy,onChange:y=>U({...j,claimedBy:y.target.value}),required:!0}),u.jsx("label",{children:"Contact Number:"}),u.jsx("input",{type:"number",value:j.claimContactNumber,onChange:y=>U({...j,claimContactNumber:y.target.value}),required:!0,onWheel:y=>y.target.blur()}),u.jsx("label",{children:"Email:"}),u.jsx("input",{type:"email",value:j.claimEmail,onChange:y=>U({...j,claimEmail:y.target.value}),required:!0}),u.jsxs("div",{className:"modal-buttons",children:[u.jsx("button",{onClick:()=>p(!1),children:"Cancel"}),u.jsx("button",{onClick:handleClaimItem,disabled:!j.claimedBy.trim()||!j.claimContactNumber.trim()||!j.claimEmail.trim(),children:"Confirm Claim"})]})]})}),P&&u.jsx("div",{className:"modal",children:u.jsxs("div",{className:"modal-content",children:[u.jsx("h2",{children:"Send Notification"}),u.jsx("p",{children:"Customize the notification message:"}),u.jsx("input",{type:"text",value:k,onChange:y=>N(y.target.value)}),u.jsxs("div",{className:"modal-buttons",children:[u.jsx("button",{onClick:()=>A(!1),children:"Cancel"}),u.jsx("button",{onClick:handleSendNotification,disabled:!k.trim(),children:"Send Notification"})]})]})})]})}function ZL(){const[t,e]=O.useState([]),[n,r]=O.useState("all"),[s,i]=O.useState(""),[o,a]=O.useState(""),[l,d]=O.useState({start:"",end:""}),[h,p]=O.useState(!0),[g,w]=O.useState({type:!0,category:!0,brand:!0,color:!0,objectname:!0,name:!0,contactnumber:!0,email:!0,datefound:!0,locationfound:!0,datelost:!0,locationlost:!0,claimedby:!0,claimemail:!0,claimcontactnumber:!0,dateclaimed:!0,status:!0}),k=()=>{p(v=>!v)},N={type:"Report Type",category:"Category",brand:"Brand",color:"Color",objectname:"Object Name",name:"Reported By Name",contactnumber:"Reported By Contact",email:"Reported By Email",datefound:"Date Found",locationfound:"Location Found",datelost:"Date Lost",locationlost:"Location Lost",claimedby:"Claimer's Name",claimemail:"Claimer's Email",claimcontactnumber:"Claimer's Contact",dateclaimed:"Date Claimed",status:"Status"},P=()=>{w(Object.keys(g).reduce((v,y)=>(v[y]=!0,v),{}))},A={lost:{type:!0,category:!0,brand:!0,color:!0,objectname:!0,name:!0,contactnumber:!0,email:!0,datefound:!1,locationfound:!1,datelost:!1,locationlost:!1,claimedby:!1,claimemail:!1,claimcontactnumber:!1,dateclaimed:!1,status:!0},pending:{type:!0,category:!0,brand:!0,color:!0,objectname:!0,name:!0,contactnumber:!0,email:!0,datefound:!1,locationfound:!1,datelost:!0,locationlost:!0,claimedby:!1,claimemail:!1,claimcontactnumber:!1,dateclaimed:!1,status:!0},claimed:{type:!0,category:!0,brand:!0,color:!0,objectname:!0,name:!0,contactnumber:!0,email:!0,datefound:!1,locationfound:!1,datelost:!1,locationlost:!1,claimedby:!0,claimemail:!0,claimcontactnumber:!0,dateclaimed:!0,status:!0},all:{type:!0,category:!0,brand:!0,color:!0,objectname:!0,name:!0,contactnumber:!0,email:!0,datefound:!0,locationfound:!0,datelost:!0,locationlost:!0,claimedby:!0,claimemail:!0,claimcontactnumber:!0,dateclaimed:!0,status:!0}},E=()=>{w(Object.keys(g).reduce((v,y)=>(v[y]=!1,v),{}))};O.useEffect(()=>{(async()=>{const{data:y,error:x}=await Ie.from("item_reports2").select("*");x?console.error("Error fetching data: ",x):e(y)})()},[]);const C=v=>{w(y=>({...y,[v]:!y[v]}))},j=v=>{r(v),w(v==="lost"||v==="pending"?{...A.all,type:!0}:v==="claimed"?{...A.claimed,type:!0}:A[v])},U=t.filter(v=>{const y=n==="lost"&&v.type==="Lost"||n==="pending"&&v.type==="Found"||n==="claimed"&&v.status==="claimed"||n==="all",x=s==="Others"?!["Personal Belonging","Electronics","Documents"].includes(v.category):s?v.category===s:!0,R=o?v.color===o:!0,b=new Date(v.createdAt),I=(!l.start||b>=new Date(l.start))&&(!l.end||b<=new Date(l.end)),_=v.confirmed!==!1;return y&&x&&R&&I&&_}),L=v=>n==="lost"&&v==="Found"?"Lost":n==="pending"&&v==="Lost"?"Missing":v;return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"adminnavbar",children:[u.jsxs("div",{children:[u.jsx("p",{className:"header",children:"All Items"}),u.jsxs("div",{className:"categoryx",children:[u.jsx("p",{children:"Filter"}),u.jsx("button",{onClick:()=>j("all"),children:"All"}),u.jsx("button",{onClick:()=>j("lost"),children:"Lost"}),u.jsx("button",{onClick:()=>j("pending"),children:"Missing"}),u.jsx("button",{onClick:()=>j("claimed"),children:"Claimed"}),u.jsxs("select",{className:"categorybutton",value:s,onChange:v=>i(v.target.value),children:[u.jsx("option",{value:"",children:"All Categories"}),u.jsx("option",{value:"Personal Belonging",children:"Personal Belonging"}),u.jsx("option",{value:"Electronics",children:"Electronics"}),u.jsx("option",{value:"Documents",children:"Documents"}),u.jsx("option",{value:"Others",children:"Others"})]}),u.jsxs("select",{className:"categorybutton",value:o,onChange:v=>a(v.target.value),children:[u.jsx("option",{value:"",children:"All Colors"}),u.jsx("option",{value:"Red",children:"Red"}),u.jsx("option",{value:"Blue",children:"Blue"}),u.jsx("option",{value:"Green",children:"Green"}),u.jsx("option",{value:"Yellow",children:"Yellow"}),u.jsx("option",{value:"Orange",children:"Orange"}),u.jsx("option",{value:"Purple",children:"Purple"}),u.jsx("option",{value:"Pink",children:"Pink"}),u.jsx("option",{value:"Black",children:"Black"}),u.jsx("option",{value:"White",children:"White"}),u.jsx("option",{value:"Gray",children:"Gray"})]}),u.jsxs("div",{className:"dateDiv",children:[u.jsx("input",{type:"date",value:l.start,onChange:v=>d(y=>({...y,start:v.target.value}))}),u.jsx("label",{className:"tolabel",children:""}),u.jsx("input",{type:"date",value:l.end,onChange:v=>d(y=>({...y,end:v.target.value})),min:l.start})]})]})]}),u.jsx("label",{className:"adminh2",children:U.length})]}),u.jsxs("div",{className:"showCheckbox",children:[u.jsx("p",{children:"Select Columns:"}),u.jsxs("div",{className:"checkbox-buttons",children:[u.jsx("button",{onClick:P,children:"Select All"}),u.jsx("button",{onClick:E,children:"Deselect All"}),u.jsx("button",{className:"togglev",onClick:k,children:"Toggle"})," "]})]}),h&&u.jsx("div",{className:"checkbox-container",children:Object.keys(g).map(v=>u.jsxs("div",{children:[u.jsx("input",{type:"checkbox",checked:g[v],onChange:()=>C(v)}),u.jsx("label",{children:N[v]})]},v))}),u.jsx("div",{className:"dashboardbody",children:u.jsx("div",{className:"dashboardtable",children:u.jsx("div",{className:"table-containerAll",children:u.jsxs("table",{className:"report-table",children:[u.jsx("thead",{children:u.jsx("tr",{children:Object.keys(g).map(v=>g[v]&&u.jsx("th",{children:N[v]},v))})}),u.jsx("tbody",{children:U.length>0?U.map(v=>u.jsx("tr",{children:Object.keys(g).map(y=>g[y]&&u.jsx("td",{children:y==="type"?L(v[y]):v[y]||"N/A"},y))},v.id)):u.jsx("tr",{children:u.jsx("td",{colSpan:"18",children:"No items found"})})})]})})})})]})}function e8(){const[t,e]=O.useState([]),[n,r]=O.useState("all"),[s,i]=O.useState(""),[o,a]=O.useState(""),[l,d]=O.useState({start:"",end:""}),[h,p]=O.useState(!0),[g,w]=O.useState({type:!0,category:!0,brand:!0,color:!0,objectname:!0,reportedbyname:!0,reportedbycontact:!0,reportedbyemail:!0,datefound:!0,locationfound:!0,datelost:!0,locationlost:!0,status:!0,archiveremark:!0}),k=()=>{p(v=>!v)},N={type:"Report Type",category:"Category",brand:"Brand",color:"Color",objectname:"Object Name",reportedbyname:"Reported By Name",reportedbycontact:"Reported By Contact",reportedbyemail:"Reported By Email",datefound:"Date Found",locationfound:"Location Found",datelost:"Date Lost",locationlost:"Location Lost",status:"Status",archiveremark:"Archive Reason"},P=()=>{w(Object.keys(g).reduce((v,y)=>(v[y]=!0,v),{}))},A={lost:{type:!0,category:!0,brand:!0,color:!0,objectname:!0,reportedbyname:!0,reportedbycontact:!0,reportedbyemail:!0,datefound:!0,locationfound:!0,datelost:!1,locationlost:!1,status:!0,archiveremark:!0},pending:{type:!0,category:!0,brand:!0,color:!0,objectname:!0,reportedbyname:!0,reportedbycontact:!0,reportedbyemail:!0,datefound:!1,locationfound:!1,datelost:!0,locationlost:!0,status:!0,archiveremark:!0},claimed:{type:!0,category:!0,brand:!0,color:!0,objectname:!0,reportedbyname:!0,reportedbycontact:!0,reportedbyemail:!0,datefound:!1,locationfound:!1,datelost:!1,locationlost:!1,status:!0,archiveremark:!0},all:{type:!0,category:!0,brand:!0,color:!0,objectname:!0,reportedbyname:!0,reportedbycontact:!0,reportedbyemail:!0,datefound:!0,locationfound:!0,datelost:!0,locationlost:!0,status:!0,remark:!0}},E=()=>{w(Object.keys(g).reduce((v,y)=>(v[y]=!1,v),{}))},C=async v=>{const{data:y,error:x}=await Ie.from("userinfo").select("firstname, lastname, contact, email").eq("id",v).single();return x?(console.error("Error fetching user data:",x),null):y};O.useEffect(()=>{(async()=>{const y=await Ie.from("item_reports2").select("*"),x=await Promise.all(y.data.map(async R=>{const b=await C(R.holderid);return{...R,reportedbyname:`${b.firstname} ${b.lastname}`,reportedbycontact:b.contact,reportedbyemail:b.email}}));e(x)})()},[]),O.useEffect(()=>{(async()=>{try{const{data:y,error:x}=await Ie.from("item_reports2").select("*");if(x)throw x;e(y)}catch(y){console.error("Error fetching items:",y)}})()},[]);const j=v=>{w(y=>({...y,[v]:!y[v]}))},U=v=>{r(v),w(A[v])},L=t.filter(v=>{const y=n==="lost"&&v.type==="Lost"||n==="pending"&&v.type==="Found"||n==="claimed"&&v.status==="claimed"||n==="all",x=s==="Others"?!["Personal Belonging","Electronics","Documents"].includes(v.category):s?v.category===s:!0,R=o?v.color===o:!0,b=new Date(v.createdAt),I=(!l.start||b>=new Date(l.start))&&(!l.end||b<=new Date(l.end)),_=v.confirmed!==!1,D=v.status==="archived";return y&&x&&R&&I&&_&&D});return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"adminnavbar",children:[u.jsxs("div",{children:[u.jsx("p",{className:"header",children:"Archived Reports"}),u.jsxs("div",{className:"categoryx",children:[u.jsx("p",{children:"Filter"}),u.jsx("button",{onClick:()=>U("all"),children:"All"}),u.jsx("button",{onClick:()=>U("lost"),children:"Lost"}),u.jsx("button",{onClick:()=>U("pending"),children:"Missing"}),u.jsx("button",{id:"buttonclaimed",onClick:()=>U("claimed"),children:"Claimed"}),u.jsxs("select",{className:"categorybutton",value:s,onChange:v=>i(v.target.value),children:[u.jsx("option",{value:"",children:"All Categories"}),u.jsx("option",{value:"Personal Belonging",children:"Personal Belonging"}),u.jsx("option",{value:"Electronics",children:"Electronics"}),u.jsx("option",{value:"Documents",children:"Documents"}),u.jsx("option",{value:"Others",children:"Others"})]}),u.jsxs("select",{className:"categorybutton",value:o,onChange:v=>a(v.target.value),children:[u.jsx("option",{value:"",children:"All Colors"}),u.jsx("option",{value:"Red",children:"Red"}),u.jsx("option",{value:"Blue",children:"Blue"}),u.jsx("option",{value:"Green",children:"Green"}),u.jsx("option",{value:"Yellow",children:"Yellow"}),u.jsx("option",{value:"Orange",children:"Orange"}),u.jsx("option",{value:"Purple",children:"Purple"}),u.jsx("option",{value:"Pink",children:"Pink"}),u.jsx("option",{value:"Black",children:"Black"}),u.jsx("option",{value:"White",children:"White"}),u.jsx("option",{value:"Gray",children:"Gray"})]}),u.jsxs("div",{className:"dateDiv",children:[u.jsx("input",{type:"date",value:l.start,onChange:v=>d(y=>({...y,start:v.target.value}))}),u.jsx("label",{className:"tolabel",children:""}),u.jsx("input",{type:"date",value:l.end,onChange:v=>d(y=>({...y,end:v.target.value})),min:l.start})]})]})]}),u.jsx("label",{className:"adminh2",children:L.length})]}),u.jsxs("div",{className:"showCheckbox",children:[u.jsx("p",{children:"Select Columns:"}),u.jsxs("div",{className:"checkbox-buttons",children:[u.jsx("button",{onClick:P,children:"Select All"}),u.jsx("button",{onClick:E,children:"Deselect All"}),u.jsx("button",{className:"togglev",onClick:k,children:"Toggle"})," "]})]}),h&&u.jsx("div",{className:"checkbox-container",children:Object.keys(g).map(v=>u.jsxs("div",{children:[u.jsx("input",{type:"checkbox",checked:g[v],onChange:()=>j(v)}),u.jsx("label",{children:N[v]})]},v))}),u.jsx("div",{className:"dashboardbody",children:u.jsx("div",{className:"dashboardtable",children:u.jsx("div",{className:"table-containerAll",children:u.jsxs("table",{className:"report-table",children:[u.jsx("thead",{children:u.jsx("tr",{children:Object.keys(g).map(v=>g[v]&&u.jsx("th",{children:N[v]},v))})}),u.jsx("tbody",{children:L.length>0?L.map(v=>u.jsx("tr",{children:Object.keys(g).map(y=>g[y]&&u.jsx("td",{children:v[y]},y))},v.id)):u.jsx("tr",{children:u.jsx("td",{colSpan:Object.keys(g).length,children:"No items found."})})})]})})})})]})}const t8="/assets/logo-DYTZgZ72.png";function n8(){return u.jsxs("div",{className:"mainbody",children:[u.jsxs("div",{className:"sidebar",children:[u.jsx("img",{src:t8,alt:"logo",className:"logo2"}),u.jsxs("ul",{children:[u.jsx("li",{children:u.jsxs(fi,{to:"/adminpage/",children:[" ",u.jsx(jt,{icon:PL})," Dashboard"]})}),u.jsx("li",{children:u.jsxs(fi,{to:"/adminpage/lostitems",children:[u.jsx(jt,{icon:kL})," Found Items"]})}),u.jsx("li",{children:u.jsxs(fi,{to:"/adminpage/pending",children:[u.jsx(jt,{icon:RL})," Lost Items"]})}),u.jsx("li",{children:u.jsxs(fi,{to:"/adminpage/claimed",children:[u.jsx(jt,{icon:AL})," Claimed Items"]})}),u.jsx("li",{children:u.jsxs(fi,{to:"/adminpage/all",children:[u.jsx(jt,{icon:jL})," All Reports"]})}),u.jsx("li",{children:u.jsxs(fi,{to:"/adminpage/archive",children:[u.jsx(jt,{icon:Hg})," Archived Reports"]})})]})]}),u.jsx("div",{className:"content",children:u.jsxs(Xw,{children:[u.jsx(Rt,{path:"/",element:u.jsx(QL,{})}),u.jsx(Rt,{path:"/lostitems",element:u.jsx(YL,{})}),u.jsx(Rt,{path:"/pending",element:u.jsx(JL,{})}),u.jsx(Rt,{path:"/claimed",element:u.jsx(XL,{})}),u.jsx(Rt,{path:"/all",element:u.jsx(ZL,{})}),u.jsx(Rt,{path:"/archive",element:u.jsx(e8,{})})]})})]})}function r8(){const t=ei(),[e,n]=O.useState(1),[r,s]=O.useState(!1),[i,o]=O.useState({name:"",email:"",contactNumber:""}),[a,l]=O.useState(null),[d,h]=O.useState(""),[p,g]=O.useState(""),[w,k]=O.useState({brand:"",color:"",dateFound:"",locationFound:"",timeFound:"",objectName:""}),[N,P]=O.useState(null),[A,E]=O.useState("");O.useEffect(()=>{const x=JSON.parse(sessionStorage.getItem("user"));x?o({name:`${x.firstname} ${x.lastname}`,email:x.email,contactNumber:x.contact}):console.log("No user data found in sessionStorage.")},[]);const C=x=>{x.target.files[0]&&P(x.target.files[0])},j=async()=>{if(N)try{const x=`${Vm()}-${N.name}`,{data:R,error:b}=await Ie.storage.from("lost-items").upload(`lost-items/${x}`,N,{cacheControl:"3600",upsert:!1});if(b)return console.error("Error uploading image:",b),null;const _=`https://mxqzohhojkveomcyfxuv.supabase.co/storage/v1/object/public/lost-items/${R.path}`;return E(_),_}catch(x){return console.error("Unexpected error during image upload:",x.message),null}return null},U=async()=>{try{const x=JSON.parse(sessionStorage.getItem("user")),R=x==null?void 0:x.id;if(!R){console.error("User is not authenticated");return}const b=new Date,I=new Date(b.getTime()-60*60*1e3),_=new Date(b.getTime()-3*60*1e3),{data:D,error:T}=await Ie.from("item_reports2").select("createdat",{count:"exact"}).eq("holderid",R).gte("createdat",I.toISOString());if(T){console.error("Error fetching recent reports:",T.message);return}if(console.log(`User has created ${D.length} reports in the last hour.`),D.length>=5){alert("You have reached the limit of 5 reports per hour. Please wait before reporting again."),console.log("User has reached the limit of 5 reports per hour.");return}if(D.length>0&&new Date(D[0].createdat)>=_){alert("Please wait 3 minutes before submitting another report."),console.log("User must wait 3 minutes before submitting another report.");return}const M=b.toLocaleString(),V=await j()||null,z=`
        INSERT INTO item_reports2 (
          category, brand, color, datelost, timelost, locationlost, objectname, 
          imageurl, holderid, createdat, type, status
        )
        VALUES (
          '${d==="Other"?p:d}', 
          '${w.brand}', 
          '${w.color}', 
          '${w.dateFound}', 
          '${w.timeFound}', 
          '${w.locationFound}', 
          '${w.objectName}', 
          ${V?`'${V}'`:"null"}, 
          '${R}', 
          '${M}', 
          'Lost', 
          'pending'
        );
      `,{error:H}=await Ie.rpc("execute_sql",{sql:z});if(H){console.error("Error executing RPC with raw SQL:",H.message);return}console.log("Item data saved successfully via raw SQL!"),n(e+1)}catch(x){console.error("Error saving item via raw SQL:",x)}},L=w.color&&w.dateFound&&w.timeFound&&w.locationFound&&w.objectName,v=x=>{h(x.target.value),x.target.value!=="Other"&&g("")},y=()=>d==="Other"?p.trim()==="":d==="";return u.jsxs("div",{className:"report-lost-item-container",children:[e===1&&u.jsxs("div",{className:"step1",children:[u.jsx("h2",{children:"REPORT A LOST ITEM"}),u.jsxs("div",{className:"ProgressIndi",children:[u.jsx("div",{className:"step active",children:"1"}),u.jsx("div",{className:"step",children:"2"}),u.jsx("div",{className:"step",children:"3"}),u.jsx("div",{className:"step",children:"4"})]}),u.jsxs("div",{className:"ReportLostContainer",children:[u.jsx("h3",{children:"TERMS AND CONDITIONS"}),u.jsxs("p",{children:["We appreciate your desire to retrieve the item you lost. ",u.jsx("br",{}),"By providing your information, you agree to these terms."]}),u.jsxs("p",{children:["Your personal information will be kept confidential. It will be used solely to verify your ownership of the item ",u.jsx("br",{}),"and will not be shared with anyone else without your permission."]}),u.jsxs("p",{children:["Please note that NU Lost and Found Dasmarias cannot ",u.jsx("br",{})," be held responsible for any damage to items you claim. We sincerely appreciate your understanding regarding this matter."]}),u.jsxs("p",{children:["By claiming a lost item, you confirm that you have read ",u.jsx("br",{})," and understood these terms."]}),u.jsx("div",{className:"CheckboxContainer",children:u.jsxs("label",{children:[u.jsx("input",{type:"checkbox",checked:r,onChange:()=>s(!r)}),"I understand and agree."]})})]}),u.jsxs("div",{className:"ButtonContainer",children:[u.jsx("button",{className:"PrevBtn",onClick:()=>{t("/homepage"),setTimeout(()=>window.scrollTo(0,document.body.scrollHeight),100)},children:"Home"}),u.jsx("button",{className:"NextBtn",disabled:!r,onClick:()=>n(e+1),children:"Next"})]})]}),e===2&&u.jsxs("div",{className:"step2",children:[u.jsx("h2",{children:"REPORT A LOST ITEM"}),u.jsxs("div",{className:"ProgressIndi",children:[u.jsx("div",{className:"step active",children:"1"}),u.jsx("div",{className:"step active",children:"2"}),u.jsx("div",{className:"step",children:"3"}),u.jsx("div",{className:"step",children:"4"})]}),u.jsxs("div",{className:"ReportLostContainer",children:[u.jsx("h3",{children:"CHOOSE CATEGORY"}),u.jsxs("form",{children:[u.jsxs("label",{children:[u.jsx("input",{type:"radio",name:"category",value:"Personal Belonging",onChange:v}),"Personal Belonging",u.jsxs("ul",{children:[u.jsx("li",{children:" Wallet"}),u.jsx("li",{children:" Bag"}),u.jsx("li",{children:" Clothing"}),u.jsx("li",{children:" Jewelry, etc..."})]})]}),u.jsxs("label",{children:[u.jsx("input",{type:"radio",name:"category",value:"Electronics",onChange:v}),"Electronics",u.jsxs("ul",{children:[u.jsx("li",{children:" Phones"}),u.jsx("li",{children:" Laptop"}),u.jsx("li",{children:" Charger"}),u.jsx("li",{children:" Camera, etc..."})]})]}),u.jsxs("label",{children:[u.jsx("input",{type:"radio",name:"category",value:"Documents",onChange:v}),"Documents",u.jsxs("ul",{children:[u.jsx("li",{children:" ID"}),u.jsx("li",{children:" Cards"}),u.jsx("li",{children:" Printed Materials"}),u.jsx("li",{children:" School works, etc..."})]})]}),u.jsxs("label",{children:[u.jsx("input",{type:"radio",name:"category",value:"Other",onChange:v}),"Other (Specify)",d==="Other"&&u.jsx("input",{type:"text",className:"OtherInput",placeholder:"Other category",value:p,onChange:x=>g(x.target.value)})]})]})]}),u.jsxs("div",{className:"ButtonContainer",children:[u.jsx("button",{className:"PrevBtn",onClick:()=>n(e-1),children:"Previous"}),u.jsx("button",{className:"NextBtn",onClick:()=>n(e+1),disabled:y(),children:"Next"})]})]}),e===3&&u.jsxs("div",{className:"step3",children:[u.jsx("h2",{children:"REPORT A MISSING ITEM"}),u.jsxs("div",{className:"ProgressIndi",children:[u.jsx("div",{className:"step active",children:"1"}),u.jsx("div",{className:"step active",children:"2"}),u.jsx("div",{className:"step active",children:"3"}),u.jsx("div",{className:"step",children:"4"})]}),u.jsxs("div",{className:"ReportLostContainer",children:[u.jsx("h3",{children:"RESPONSE FORM"}),u.jsxs("div",{className:"FormRow",children:[u.jsx("label",{children:"Name: "}),u.jsx("input",{className:"FInput",type:"text",value:i.name,onChange:x=>o({...i,name:x.target.value}),readOnly:!0})]}),u.jsxs("div",{className:"FormRow",children:[u.jsx("label",{children:"Email: "}),u.jsx("input",{className:"FInput",type:"email",value:i.email,onChange:x=>o({...i,email:x.target.value}),readOnly:!0})]}),u.jsxs("div",{className:"FormRow",children:[u.jsx("label",{children:"Contact Number: "}),u.jsx("input",{className:"FInput",type:"text",value:i.contactNumber,onChange:x=>o({...i,contactNumber:x.target.value}),readOnly:!0})]}),u.jsxs("div",{className:"FormRow",children:[u.jsx("label",{children:"Item Name:"}),u.jsx("input",{className:"FInput",type:"text",id:"objectName",value:w.objectName,onChange:x=>k({...w,objectName:x.target.value}),required:!0,placeholder:"Enter the name of the item"})]}),u.jsxs("div",{className:"FormRow",children:[u.jsx("label",{children:"Brand:"}),u.jsx("input",{className:"FInput",type:"text",id:"brand",value:w.brand,onChange:x=>k({...w,brand:x.target.value}),placeholder:"Enter the brand of the item"})]}),u.jsxs("div",{className:"FormRow",children:[u.jsx("label",{children:"Color:"}),u.jsxs("select",{id:"ColorInp",value:w.color,onChange:x=>{const R=x.target.value;k({...w,color:R})},required:!0,children:[u.jsx("option",{value:"",children:"Select a color"}),u.jsx("option",{value:"Red",children:"Red"}),u.jsx("option",{value:"Blue",children:"Blue"}),u.jsx("option",{value:"Green",children:"Green"}),u.jsx("option",{value:"Yellow",children:"Yellow"}),u.jsx("option",{value:"Orange",children:"Orange"}),u.jsx("option",{value:"Purple",children:"Purple"}),u.jsx("option",{value:"Pink",children:"Pink"}),u.jsx("option",{value:"Black",children:"Black"}),u.jsx("option",{value:"White",children:"White"}),u.jsx("option",{value:"Gray",children:"Gray"}),u.jsx("option",{value:"Others",children:"Other"})]}),w.color==="Others"&&u.jsx("input",{className:"FInput",type:"text",placeholder:"Specify color",value:a,onChange:x=>l(x.target.value),required:!0})]}),u.jsxs("div",{className:"FormRow",children:[u.jsx("label",{children:"Date Lost:"}),u.jsx("input",{className:"FInput",type:"date",id:"dateFound",value:w.dateFound,onChange:x=>k({...w,dateFound:x.target.value}),required:!0})]}),u.jsxs("div",{className:"FormRow",children:[u.jsx("label",{children:"Time Lost:"}),u.jsx("input",{className:"FInput",type:"time",id:"timeFound",value:w.timeFound,onChange:x=>k({...w,timeFound:x.target.value}),required:!0})]}),u.jsxs("div",{className:"FormRow",children:[u.jsx("label",{children:"Location Found:"}),u.jsx("input",{className:"FInput",type:"text",id:"locationFound",value:w.locationFound,onChange:x=>k({...w,locationFound:x.target.value}),required:!0,placeholder:"Enter where the item was Lost"})]}),u.jsxs("div",{className:"FormRow",children:[u.jsx("label",{children:"Upload Image:"}),u.jsx("input",{className:"FInput",type:"file",accept:"image/*",onChange:C})]})]}),u.jsxs("div",{className:"ButtonContainer",children:[u.jsx("button",{className:"PrevBtn",onClick:()=>n(e-1),children:"Previous"}),u.jsx("button",{className:"NextBtn",onClick:()=>U(),disabled:!L,children:"Submit"})]})]}),e===4&&u.jsxs("div",{className:"step4",children:[u.jsx("h2",{children:"REPORT A MISSING ITEM"}),u.jsxs("div",{className:"ProgressIndi",children:[u.jsx("div",{className:"step active",children:"1"}),u.jsx("div",{className:"step active",children:"2"}),u.jsx("div",{className:"step active",children:"3"}),u.jsx("div",{className:"step active",children:"4"})]}),u.jsxs("div",{className:"LReportLostContainer",children:[u.jsx("h3",{children:"Item Reported!"}),u.jsx("p",{children:"Your report has been submitted. We'll notify you if there's a match!"})]}),u.jsx("button",{className:"FinishBtn",onClick:()=>t("/homepage#body1"),children:"Finish"})]})]})}const s8=()=>{const t=ei();return u.jsxs("form",{children:[u.jsx("div",{children:u.jsx("h1",{children:"Hello"})}),u.jsx("div",{children:u.jsx("button",{className:"PrevBtn",type:"button",onClick:()=>{localStorage.setItem("scrollToSection","Report3"),t("/homepage")},children:"Home"})})]})};function i8(){return u.jsx(u.Fragment,{children:u.jsx(L2,{children:u.jsx(Mk,{children:u.jsxs(Xw,{children:[u.jsx(Rt,{path:"/",element:u.jsx(nP,{})}),u.jsx(Rt,{path:"/login",element:u.jsx(rP,{})}),u.jsx(Rt,{path:"/homepage",element:u.jsx(DL,{})}),u.jsx(Rt,{path:"/report-lost-item/*",element:u.jsx(r8,{})}),u.jsx(Rt,{path:"/report-found-item/*",element:u.jsx(LL,{})}),u.jsx(Rt,{path:"/edit-reported-item/*",element:u.jsx(s8,{})}),u.jsx(Rt,{path:"/adminpage/*",element:u.jsx(n8,{})})]})})})})}Vw(document.getElementById("root")).render(u.jsx(O.StrictMode,{children:u.jsx(i8,{})}));export{zp as g};
