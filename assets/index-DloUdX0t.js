function rI(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Qt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function E1(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var T1={exports:{}},Lu={},I1={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sl=Symbol.for("react.element"),sI=Symbol.for("react.portal"),iI=Symbol.for("react.fragment"),oI=Symbol.for("react.strict_mode"),aI=Symbol.for("react.profiler"),lI=Symbol.for("react.provider"),cI=Symbol.for("react.context"),uI=Symbol.for("react.forward_ref"),dI=Symbol.for("react.suspense"),hI=Symbol.for("react.memo"),fI=Symbol.for("react.lazy"),U0=Symbol.iterator;function pI(t){return t===null||typeof t!="object"?null:(t=U0&&t[U0]||t["@@iterator"],typeof t=="function"?t:null)}var S1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C1=Object.assign,k1={};function fo(t,e,n){this.props=t,this.context=e,this.refs=k1,this.updater=n||S1}fo.prototype.isReactComponent={};fo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};fo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function A1(){}A1.prototype=fo.prototype;function $p(t,e,n){this.props=t,this.context=e,this.refs=k1,this.updater=n||S1}var Bp=$p.prototype=new A1;Bp.constructor=$p;C1(Bp,fo.prototype);Bp.isPureReactComponent=!0;var V0=Array.isArray,R1=Object.prototype.hasOwnProperty,zp={current:null},P1={key:!0,ref:!0,__self:!0,__source:!0};function N1(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)R1.call(e,r)&&!P1.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),d=0;d<a;d++)l[d]=arguments[d+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:sl,type:t,key:i,ref:o,props:s,_owner:zp.current}}function mI(t,e){return{$$typeof:sl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function qp(t){return typeof t=="object"&&t!==null&&t.$$typeof===sl}function gI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var $0=/\/+/g;function qd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?gI(""+t.key):e.toString(36)}function vc(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case sl:case sI:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+qd(o,0):r,V0(s)?(n="",t!=null&&(n=t.replace($0,"$&/")+"/"),vc(s,e,n,"",function(d){return d})):s!=null&&(qp(s)&&(s=mI(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace($0,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",V0(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+qd(i,a);o+=vc(i,e,n,l,s)}else if(l=pI(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+qd(i,a++),o+=vc(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function $l(t,e,n){if(t==null)return t;var r=[],s=0;return vc(t,r,"","",function(i){return e.call(n,i,s++)}),r}function yI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var kt={current:null},_c={transition:null},vI={ReactCurrentDispatcher:kt,ReactCurrentBatchConfig:_c,ReactCurrentOwner:zp};function j1(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:$l,forEach:function(t,e,n){$l(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return $l(t,function(){e++}),e},toArray:function(t){return $l(t,function(e){return e})||[]},only:function(t){if(!qp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ue.Component=fo;ue.Fragment=iI;ue.Profiler=aI;ue.PureComponent=$p;ue.StrictMode=oI;ue.Suspense=dI;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vI;ue.act=j1;ue.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=C1({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=zp.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)R1.call(e,l)&&!P1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var d=0;d<l;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:sl,type:t.type,key:s,ref:i,props:r,_owner:o}};ue.createContext=function(t){return t={$$typeof:cI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:lI,_context:t},t.Consumer=t};ue.createElement=N1;ue.createFactory=function(t){var e=N1.bind(null,t);return e.type=t,e};ue.createRef=function(){return{current:null}};ue.forwardRef=function(t){return{$$typeof:uI,render:t}};ue.isValidElement=qp;ue.lazy=function(t){return{$$typeof:fI,_payload:{_status:-1,_result:t},_init:yI}};ue.memo=function(t,e){return{$$typeof:hI,type:t,compare:e===void 0?null:e}};ue.startTransition=function(t){var e=_c.transition;_c.transition={};try{t()}finally{_c.transition=e}};ue.unstable_act=j1;ue.useCallback=function(t,e){return kt.current.useCallback(t,e)};ue.useContext=function(t){return kt.current.useContext(t)};ue.useDebugValue=function(){};ue.useDeferredValue=function(t){return kt.current.useDeferredValue(t)};ue.useEffect=function(t,e){return kt.current.useEffect(t,e)};ue.useId=function(){return kt.current.useId()};ue.useImperativeHandle=function(t,e,n){return kt.current.useImperativeHandle(t,e,n)};ue.useInsertionEffect=function(t,e){return kt.current.useInsertionEffect(t,e)};ue.useLayoutEffect=function(t,e){return kt.current.useLayoutEffect(t,e)};ue.useMemo=function(t,e){return kt.current.useMemo(t,e)};ue.useReducer=function(t,e,n){return kt.current.useReducer(t,e,n)};ue.useRef=function(t){return kt.current.useRef(t)};ue.useState=function(t){return kt.current.useState(t)};ue.useSyncExternalStore=function(t,e,n){return kt.current.useSyncExternalStore(t,e,n)};ue.useTransition=function(){return kt.current.useTransition()};ue.version="18.3.1";I1.exports=ue;var O=I1.exports;const xe=Vp(O),_I=rI({__proto__:null,default:xe},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xI=O,wI=Symbol.for("react.element"),bI=Symbol.for("react.fragment"),EI=Object.prototype.hasOwnProperty,TI=xI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,II={key:!0,ref:!0,__self:!0,__source:!0};function O1(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)EI.call(e,r)&&!II.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:wI,type:t,key:i,ref:o,props:s,_owner:TI.current}}Lu.Fragment=bI;Lu.jsx=O1;Lu.jsxs=O1;T1.exports=Lu;var u=T1.exports,D1={exports:{}},Jt={},L1={exports:{}},M1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,z){var H=V.length;V.push(z);e:for(;0<H;){var Q=H-1>>>1,J=V[Q];if(0<s(J,z))V[Q]=z,V[H]=J,H=Q;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var z=V[0],H=V.pop();if(H!==z){V[0]=H;e:for(var Q=0,J=V.length,ee=J>>>1;Q<ee;){var we=2*(Q+1)-1,be=V[we],le=we+1,et=V[le];if(0>s(be,H))le<J&&0>s(et,be)?(V[Q]=et,V[le]=H,Q=le):(V[Q]=be,V[we]=H,Q=we);else if(le<J&&0>s(et,H))V[Q]=et,V[le]=H,Q=le;else break e}}return z}function s(V,z){var H=V.sortIndex-z.sortIndex;return H!==0?H:V.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],d=[],h=1,p=null,g=3,b=!1,k=!1,N=!1,P=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(V){for(var z=n(d);z!==null;){if(z.callback===null)r(d);else if(z.startTime<=V)r(d),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(d)}}function j(V){if(N=!1,C(V),!k)if(n(l)!==null)k=!0,M(U);else{var z=n(d);z!==null&&$(j,z.startTime-V)}}function U(V,z){k=!1,N&&(N=!1,A(y),y=-1),b=!0;var H=g;try{for(C(z),p=n(l);p!==null&&(!(p.expirationTime>z)||V&&!w());){var Q=p.callback;if(typeof Q=="function"){p.callback=null,g=p.priorityLevel;var J=Q(p.expirationTime<=z);z=t.unstable_now(),typeof J=="function"?p.callback=J:p===n(l)&&r(l),C(z)}else r(l);p=n(l)}if(p!==null)var ee=!0;else{var we=n(d);we!==null&&$(j,we.startTime-z),ee=!1}return ee}finally{p=null,g=H,b=!1}}var L=!1,v=null,y=-1,x=5,R=-1;function w(){return!(t.unstable_now()-R<x)}function I(){if(v!==null){var V=t.unstable_now();R=V;var z=!0;try{z=v(!0,V)}finally{z?_():(L=!1,v=null)}}else L=!1}var _;if(typeof E=="function")_=function(){E(I)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,T=D.port2;D.port1.onmessage=I,_=function(){T.postMessage(null)}}else _=function(){P(I,0)};function M(V){v=V,L||(L=!0,_())}function $(V,z){y=P(function(){V(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){k||b||(k=!0,M(U))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(g){case 1:case 2:case 3:var z=3;break;default:z=g}var H=g;g=z;try{return V()}finally{g=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,z){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var H=g;g=V;try{return z()}finally{g=H}},t.unstable_scheduleCallback=function(V,z,H){var Q=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?Q+H:Q):H=Q,V){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=H+J,V={id:h++,callback:z,priorityLevel:V,startTime:H,expirationTime:J,sortIndex:-1},H>Q?(V.sortIndex=H,e(d,V),n(l)===null&&V===n(d)&&(N?(A(y),y=-1):N=!0,$(j,H-Q))):(V.sortIndex=J,e(l,V),k||b||(k=!0,M(U))),V},t.unstable_shouldYield=w,t.unstable_wrapCallback=function(V){var z=g;return function(){var H=g;g=z;try{return V.apply(this,arguments)}finally{g=H}}}})(M1);L1.exports=M1;var SI=L1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CI=O,Yt=SI;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var F1=new Set,ka={};function Gs(t,e){Ki(t,e),Ki(t+"Capture",e)}function Ki(t,e){for(ka[t]=e,t=0;t<e.length;t++)F1.add(e[t])}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gh=Object.prototype.hasOwnProperty,kI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,B0={},z0={};function AI(t){return Gh.call(z0,t)?!0:Gh.call(B0,t)?!1:kI.test(t)?z0[t]=!0:(B0[t]=!0,!1)}function RI(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function PI(t,e,n,r){if(e===null||typeof e>"u"||RI(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function At(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var at={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){at[t]=new At(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];at[e]=new At(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){at[t]=new At(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){at[t]=new At(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){at[t]=new At(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){at[t]=new At(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){at[t]=new At(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){at[t]=new At(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){at[t]=new At(t,5,!1,t.toLowerCase(),null,!1,!1)});var Hp=/[\-:]([a-z])/g;function Wp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Hp,Wp);at[e]=new At(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Hp,Wp);at[e]=new At(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Hp,Wp);at[e]=new At(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){at[t]=new At(t,1,!1,t.toLowerCase(),null,!1,!1)});at.xlinkHref=new At("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){at[t]=new At(t,1,!1,t.toLowerCase(),null,!0,!0)});function Gp(t,e,n,r){var s=at.hasOwnProperty(e)?at[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(PI(e,n,s,r)&&(n=null),r||s===null?AI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var lr=CI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bl=Symbol.for("react.element"),vi=Symbol.for("react.portal"),_i=Symbol.for("react.fragment"),Kp=Symbol.for("react.strict_mode"),Kh=Symbol.for("react.profiler"),U1=Symbol.for("react.provider"),V1=Symbol.for("react.context"),Qp=Symbol.for("react.forward_ref"),Qh=Symbol.for("react.suspense"),Yh=Symbol.for("react.suspense_list"),Yp=Symbol.for("react.memo"),wr=Symbol.for("react.lazy"),$1=Symbol.for("react.offscreen"),q0=Symbol.iterator;function Vo(t){return t===null||typeof t!="object"?null:(t=q0&&t[q0]||t["@@iterator"],typeof t=="function"?t:null)}var Le=Object.assign,Hd;function Jo(t){if(Hd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Hd=e&&e[1]||""}return`
`+Hd+t}var Wd=!1;function Gd(t,e){if(!t||Wd)return"";Wd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Wd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Jo(t):""}function NI(t){switch(t.tag){case 5:return Jo(t.type);case 16:return Jo("Lazy");case 13:return Jo("Suspense");case 19:return Jo("SuspenseList");case 0:case 2:case 15:return t=Gd(t.type,!1),t;case 11:return t=Gd(t.type.render,!1),t;case 1:return t=Gd(t.type,!0),t;default:return""}}function Jh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _i:return"Fragment";case vi:return"Portal";case Kh:return"Profiler";case Kp:return"StrictMode";case Qh:return"Suspense";case Yh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case V1:return(t.displayName||"Context")+".Consumer";case U1:return(t._context.displayName||"Context")+".Provider";case Qp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Yp:return e=t.displayName||null,e!==null?e:Jh(t.type)||"Memo";case wr:e=t._payload,t=t._init;try{return Jh(t(e))}catch{}}return null}function jI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jh(e);case 8:return e===Kp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Yr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function B1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function OI(t){var e=B1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function zl(t){t._valueTracker||(t._valueTracker=OI(t))}function z1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=B1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Bc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xh(t,e){var n=e.checked;return Le({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function H0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Yr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function q1(t,e){e=e.checked,e!=null&&Gp(t,"checked",e,!1)}function Zh(t,e){q1(t,e);var n=Yr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ef(t,e.type,n):e.hasOwnProperty("defaultValue")&&ef(t,e.type,Yr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function W0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ef(t,e,n){(e!=="number"||Bc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Xo=Array.isArray;function ji(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Yr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function tf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return Le({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function G0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(Xo(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Yr(n)}}function H1(t,e){var n=Yr(e.value),r=Yr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function K0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function W1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?W1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ql,G1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ql=ql||document.createElement("div"),ql.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ql.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Aa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var la={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},DI=["Webkit","ms","Moz","O"];Object.keys(la).forEach(function(t){DI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),la[e]=la[t]})});function K1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||la.hasOwnProperty(t)&&la[t]?(""+e).trim():e+"px"}function Q1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=K1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var LI=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rf(t,e){if(e){if(LI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function sf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var of=null;function Jp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var af=null,Oi=null,Di=null;function Q0(t){if(t=al(t)){if(typeof af!="function")throw Error(W(280));var e=t.stateNode;e&&(e=$u(e),af(t.stateNode,t.type,e))}}function Y1(t){Oi?Di?Di.push(t):Di=[t]:Oi=t}function J1(){if(Oi){var t=Oi,e=Di;if(Di=Oi=null,Q0(t),e)for(t=0;t<e.length;t++)Q0(e[t])}}function X1(t,e){return t(e)}function Z1(){}var Kd=!1;function ex(t,e,n){if(Kd)return t(e,n);Kd=!0;try{return X1(t,e,n)}finally{Kd=!1,(Oi!==null||Di!==null)&&(Z1(),J1())}}function Ra(t,e){var n=t.stateNode;if(n===null)return null;var r=$u(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var lf=!1;if(Xn)try{var $o={};Object.defineProperty($o,"passive",{get:function(){lf=!0}}),window.addEventListener("test",$o,$o),window.removeEventListener("test",$o,$o)}catch{lf=!1}function MI(t,e,n,r,s,i,o,a,l){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var ca=!1,zc=null,qc=!1,cf=null,FI={onError:function(t){ca=!0,zc=t}};function UI(t,e,n,r,s,i,o,a,l){ca=!1,zc=null,MI.apply(FI,arguments)}function VI(t,e,n,r,s,i,o,a,l){if(UI.apply(this,arguments),ca){if(ca){var d=zc;ca=!1,zc=null}else throw Error(W(198));qc||(qc=!0,cf=d)}}function Ks(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function tx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Y0(t){if(Ks(t)!==t)throw Error(W(188))}function $I(t){var e=t.alternate;if(!e){if(e=Ks(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Y0(s),t;if(i===r)return Y0(s),e;i=i.sibling}throw Error(W(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function nx(t){return t=$I(t),t!==null?rx(t):null}function rx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=rx(t);if(e!==null)return e;t=t.sibling}return null}var sx=Yt.unstable_scheduleCallback,J0=Yt.unstable_cancelCallback,BI=Yt.unstable_shouldYield,zI=Yt.unstable_requestPaint,Be=Yt.unstable_now,qI=Yt.unstable_getCurrentPriorityLevel,Xp=Yt.unstable_ImmediatePriority,ix=Yt.unstable_UserBlockingPriority,Hc=Yt.unstable_NormalPriority,HI=Yt.unstable_LowPriority,ox=Yt.unstable_IdlePriority,Mu=null,Rn=null;function WI(t){if(Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(Mu,t,void 0,(t.current.flags&128)===128)}catch{}}var _n=Math.clz32?Math.clz32:QI,GI=Math.log,KI=Math.LN2;function QI(t){return t>>>=0,t===0?32:31-(GI(t)/KI|0)|0}var Hl=64,Wl=4194304;function Zo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Wc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Zo(a):(i&=o,i!==0&&(r=Zo(i)))}else o=n&~s,o!==0?r=Zo(o):i!==0&&(r=Zo(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-_n(e),s=1<<n,r|=t[n],e&=~s;return r}function YI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function JI(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-_n(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=YI(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function uf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ax(){var t=Hl;return Hl<<=1,!(Hl&4194240)&&(Hl=64),t}function Qd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function il(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_n(e),t[e]=n}function XI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-_n(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Zp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-_n(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ee=0;function lx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var cx,em,ux,dx,hx,df=!1,Gl=[],Ur=null,Vr=null,$r=null,Pa=new Map,Na=new Map,Tr=[],ZI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function X0(t,e){switch(t){case"focusin":case"focusout":Ur=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":$r=null;break;case"pointerover":case"pointerout":Pa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Na.delete(e.pointerId)}}function Bo(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=al(e),e!==null&&em(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function eS(t,e,n,r,s){switch(e){case"focusin":return Ur=Bo(Ur,t,e,n,r,s),!0;case"dragenter":return Vr=Bo(Vr,t,e,n,r,s),!0;case"mouseover":return $r=Bo($r,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Pa.set(i,Bo(Pa.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Na.set(i,Bo(Na.get(i)||null,t,e,n,r,s)),!0}return!1}function fx(t){var e=ws(t.target);if(e!==null){var n=Ks(e);if(n!==null){if(e=n.tag,e===13){if(e=tx(n),e!==null){t.blockedOn=e,hx(t.priority,function(){ux(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=hf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);of=r,n.target.dispatchEvent(r),of=null}else return e=al(n),e!==null&&em(e),t.blockedOn=n,!1;e.shift()}return!0}function Z0(t,e,n){xc(t)&&n.delete(e)}function tS(){df=!1,Ur!==null&&xc(Ur)&&(Ur=null),Vr!==null&&xc(Vr)&&(Vr=null),$r!==null&&xc($r)&&($r=null),Pa.forEach(Z0),Na.forEach(Z0)}function zo(t,e){t.blockedOn===e&&(t.blockedOn=null,df||(df=!0,Yt.unstable_scheduleCallback(Yt.unstable_NormalPriority,tS)))}function ja(t){function e(s){return zo(s,t)}if(0<Gl.length){zo(Gl[0],t);for(var n=1;n<Gl.length;n++){var r=Gl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ur!==null&&zo(Ur,t),Vr!==null&&zo(Vr,t),$r!==null&&zo($r,t),Pa.forEach(e),Na.forEach(e),n=0;n<Tr.length;n++)r=Tr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Tr.length&&(n=Tr[0],n.blockedOn===null);)fx(n),n.blockedOn===null&&Tr.shift()}var Li=lr.ReactCurrentBatchConfig,Gc=!0;function nS(t,e,n,r){var s=Ee,i=Li.transition;Li.transition=null;try{Ee=1,tm(t,e,n,r)}finally{Ee=s,Li.transition=i}}function rS(t,e,n,r){var s=Ee,i=Li.transition;Li.transition=null;try{Ee=4,tm(t,e,n,r)}finally{Ee=s,Li.transition=i}}function tm(t,e,n,r){if(Gc){var s=hf(t,e,n,r);if(s===null)ih(t,e,r,Kc,n),X0(t,r);else if(eS(s,t,e,n,r))r.stopPropagation();else if(X0(t,r),e&4&&-1<ZI.indexOf(t)){for(;s!==null;){var i=al(s);if(i!==null&&cx(i),i=hf(t,e,n,r),i===null&&ih(t,e,r,Kc,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ih(t,e,r,null,n)}}var Kc=null;function hf(t,e,n,r){if(Kc=null,t=Jp(r),t=ws(t),t!==null)if(e=Ks(t),e===null)t=null;else if(n=e.tag,n===13){if(t=tx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Kc=t,null}function px(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qI()){case Xp:return 1;case ix:return 4;case Hc:case HI:return 16;case ox:return 536870912;default:return 16}default:return 16}}var Pr=null,nm=null,wc=null;function mx(){if(wc)return wc;var t,e=nm,n=e.length,r,s="value"in Pr?Pr.value:Pr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return wc=s.slice(t,1<r?1-r:void 0)}function bc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Kl(){return!0}function ey(){return!1}function Xt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Kl:ey,this.isPropagationStopped=ey,this}return Le(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Kl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Kl)},persist:function(){},isPersistent:Kl}),e}var po={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rm=Xt(po),ol=Le({},po,{view:0,detail:0}),sS=Xt(ol),Yd,Jd,qo,Fu=Le({},ol,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qo&&(qo&&t.type==="mousemove"?(Yd=t.screenX-qo.screenX,Jd=t.screenY-qo.screenY):Jd=Yd=0,qo=t),Yd)},movementY:function(t){return"movementY"in t?t.movementY:Jd}}),ty=Xt(Fu),iS=Le({},Fu,{dataTransfer:0}),oS=Xt(iS),aS=Le({},ol,{relatedTarget:0}),Xd=Xt(aS),lS=Le({},po,{animationName:0,elapsedTime:0,pseudoElement:0}),cS=Xt(lS),uS=Le({},po,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),dS=Xt(uS),hS=Le({},po,{data:0}),ny=Xt(hS),fS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=mS[t])?!!e[t]:!1}function sm(){return gS}var yS=Le({},ol,{key:function(t){if(t.key){var e=fS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=bc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sm,charCode:function(t){return t.type==="keypress"?bc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vS=Xt(yS),_S=Le({},Fu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ry=Xt(_S),xS=Le({},ol,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sm}),wS=Xt(xS),bS=Le({},po,{propertyName:0,elapsedTime:0,pseudoElement:0}),ES=Xt(bS),TS=Le({},Fu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),IS=Xt(TS),SS=[9,13,27,32],im=Xn&&"CompositionEvent"in window,ua=null;Xn&&"documentMode"in document&&(ua=document.documentMode);var CS=Xn&&"TextEvent"in window&&!ua,gx=Xn&&(!im||ua&&8<ua&&11>=ua),sy=" ",iy=!1;function yx(t,e){switch(t){case"keyup":return SS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xi=!1;function kS(t,e){switch(t){case"compositionend":return vx(e);case"keypress":return e.which!==32?null:(iy=!0,sy);case"textInput":return t=e.data,t===sy&&iy?null:t;default:return null}}function AS(t,e){if(xi)return t==="compositionend"||!im&&yx(t,e)?(t=mx(),wc=nm=Pr=null,xi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return gx&&e.locale!=="ko"?null:e.data;default:return null}}var RS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!RS[t.type]:e==="textarea"}function _x(t,e,n,r){Y1(r),e=Qc(e,"onChange"),0<e.length&&(n=new rm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var da=null,Oa=null;function PS(t){Rx(t,0)}function Uu(t){var e=Ei(t);if(z1(e))return t}function NS(t,e){if(t==="change")return e}var xx=!1;if(Xn){var Zd;if(Xn){var eh="oninput"in document;if(!eh){var ay=document.createElement("div");ay.setAttribute("oninput","return;"),eh=typeof ay.oninput=="function"}Zd=eh}else Zd=!1;xx=Zd&&(!document.documentMode||9<document.documentMode)}function ly(){da&&(da.detachEvent("onpropertychange",wx),Oa=da=null)}function wx(t){if(t.propertyName==="value"&&Uu(Oa)){var e=[];_x(e,Oa,t,Jp(t)),ex(PS,e)}}function jS(t,e,n){t==="focusin"?(ly(),da=e,Oa=n,da.attachEvent("onpropertychange",wx)):t==="focusout"&&ly()}function OS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uu(Oa)}function DS(t,e){if(t==="click")return Uu(e)}function LS(t,e){if(t==="input"||t==="change")return Uu(e)}function MS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wn=typeof Object.is=="function"?Object.is:MS;function Da(t,e){if(wn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Gh.call(e,s)||!wn(t[s],e[s]))return!1}return!0}function cy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function uy(t,e){var n=cy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cy(n)}}function bx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?bx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ex(){for(var t=window,e=Bc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Bc(t.document)}return e}function om(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function FS(t){var e=Ex(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&bx(n.ownerDocument.documentElement,n)){if(r!==null&&om(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=uy(n,i);var o=uy(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var US=Xn&&"documentMode"in document&&11>=document.documentMode,wi=null,ff=null,ha=null,pf=!1;function dy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;pf||wi==null||wi!==Bc(r)||(r=wi,"selectionStart"in r&&om(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ha&&Da(ha,r)||(ha=r,r=Qc(ff,"onSelect"),0<r.length&&(e=new rm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=wi)))}function Ql(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var bi={animationend:Ql("Animation","AnimationEnd"),animationiteration:Ql("Animation","AnimationIteration"),animationstart:Ql("Animation","AnimationStart"),transitionend:Ql("Transition","TransitionEnd")},th={},Tx={};Xn&&(Tx=document.createElement("div").style,"AnimationEvent"in window||(delete bi.animationend.animation,delete bi.animationiteration.animation,delete bi.animationstart.animation),"TransitionEvent"in window||delete bi.transitionend.transition);function Vu(t){if(th[t])return th[t];if(!bi[t])return t;var e=bi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Tx)return th[t]=e[n];return t}var Ix=Vu("animationend"),Sx=Vu("animationiteration"),Cx=Vu("animationstart"),kx=Vu("transitionend"),Ax=new Map,hy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ss(t,e){Ax.set(t,e),Gs(e,[t])}for(var nh=0;nh<hy.length;nh++){var rh=hy[nh],VS=rh.toLowerCase(),$S=rh[0].toUpperCase()+rh.slice(1);ss(VS,"on"+$S)}ss(Ix,"onAnimationEnd");ss(Sx,"onAnimationIteration");ss(Cx,"onAnimationStart");ss("dblclick","onDoubleClick");ss("focusin","onFocus");ss("focusout","onBlur");ss(kx,"onTransitionEnd");Ki("onMouseEnter",["mouseout","mouseover"]);Ki("onMouseLeave",["mouseout","mouseover"]);Ki("onPointerEnter",["pointerout","pointerover"]);Ki("onPointerLeave",["pointerout","pointerover"]);Gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ea="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BS=new Set("cancel close invalid load scroll toggle".split(" ").concat(ea));function fy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,VI(r,e,void 0,t),t.currentTarget=null}function Rx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,d=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;fy(s,a,d),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,d=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;fy(s,a,d),i=l}}}if(qc)throw t=cf,qc=!1,cf=null,t}function Ae(t,e){var n=e[_f];n===void 0&&(n=e[_f]=new Set);var r=t+"__bubble";n.has(r)||(Px(e,t,2,!1),n.add(r))}function sh(t,e,n){var r=0;e&&(r|=4),Px(n,t,r,e)}var Yl="_reactListening"+Math.random().toString(36).slice(2);function La(t){if(!t[Yl]){t[Yl]=!0,F1.forEach(function(n){n!=="selectionchange"&&(BS.has(n)||sh(n,!1,t),sh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Yl]||(e[Yl]=!0,sh("selectionchange",!1,e))}}function Px(t,e,n,r){switch(px(e)){case 1:var s=nS;break;case 4:s=rS;break;default:s=tm}n=s.bind(null,e,n,t),s=void 0,!lf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ih(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ws(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}ex(function(){var d=i,h=Jp(n),p=[];e:{var g=Ax.get(t);if(g!==void 0){var b=rm,k=t;switch(t){case"keypress":if(bc(n)===0)break e;case"keydown":case"keyup":b=vS;break;case"focusin":k="focus",b=Xd;break;case"focusout":k="blur",b=Xd;break;case"beforeblur":case"afterblur":b=Xd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=ty;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=oS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=wS;break;case Ix:case Sx:case Cx:b=cS;break;case kx:b=ES;break;case"scroll":b=sS;break;case"wheel":b=IS;break;case"copy":case"cut":case"paste":b=dS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=ry}var N=(e&4)!==0,P=!N&&t==="scroll",A=N?g!==null?g+"Capture":null:g;N=[];for(var E=d,C;E!==null;){C=E;var j=C.stateNode;if(C.tag===5&&j!==null&&(C=j,A!==null&&(j=Ra(E,A),j!=null&&N.push(Ma(E,j,C)))),P)break;E=E.return}0<N.length&&(g=new b(g,k,null,n,h),p.push({event:g,listeners:N}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",b=t==="mouseout"||t==="pointerout",g&&n!==of&&(k=n.relatedTarget||n.fromElement)&&(ws(k)||k[Zn]))break e;if((b||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,b?(k=n.relatedTarget||n.toElement,b=d,k=k?ws(k):null,k!==null&&(P=Ks(k),k!==P||k.tag!==5&&k.tag!==6)&&(k=null)):(b=null,k=d),b!==k)){if(N=ty,j="onMouseLeave",A="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(N=ry,j="onPointerLeave",A="onPointerEnter",E="pointer"),P=b==null?g:Ei(b),C=k==null?g:Ei(k),g=new N(j,E+"leave",b,n,h),g.target=P,g.relatedTarget=C,j=null,ws(h)===d&&(N=new N(A,E+"enter",k,n,h),N.target=C,N.relatedTarget=P,j=N),P=j,b&&k)t:{for(N=b,A=k,E=0,C=N;C;C=ui(C))E++;for(C=0,j=A;j;j=ui(j))C++;for(;0<E-C;)N=ui(N),E--;for(;0<C-E;)A=ui(A),C--;for(;E--;){if(N===A||A!==null&&N===A.alternate)break t;N=ui(N),A=ui(A)}N=null}else N=null;b!==null&&py(p,g,b,N,!1),k!==null&&P!==null&&py(p,P,k,N,!0)}}e:{if(g=d?Ei(d):window,b=g.nodeName&&g.nodeName.toLowerCase(),b==="select"||b==="input"&&g.type==="file")var U=NS;else if(oy(g))if(xx)U=LS;else{U=OS;var L=jS}else(b=g.nodeName)&&b.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(U=DS);if(U&&(U=U(t,d))){_x(p,U,n,h);break e}L&&L(t,g,d),t==="focusout"&&(L=g._wrapperState)&&L.controlled&&g.type==="number"&&ef(g,"number",g.value)}switch(L=d?Ei(d):window,t){case"focusin":(oy(L)||L.contentEditable==="true")&&(wi=L,ff=d,ha=null);break;case"focusout":ha=ff=wi=null;break;case"mousedown":pf=!0;break;case"contextmenu":case"mouseup":case"dragend":pf=!1,dy(p,n,h);break;case"selectionchange":if(US)break;case"keydown":case"keyup":dy(p,n,h)}var v;if(im)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else xi?yx(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(gx&&n.locale!=="ko"&&(xi||y!=="onCompositionStart"?y==="onCompositionEnd"&&xi&&(v=mx()):(Pr=h,nm="value"in Pr?Pr.value:Pr.textContent,xi=!0)),L=Qc(d,y),0<L.length&&(y=new ny(y,t,null,n,h),p.push({event:y,listeners:L}),v?y.data=v:(v=vx(n),v!==null&&(y.data=v)))),(v=CS?kS(t,n):AS(t,n))&&(d=Qc(d,"onBeforeInput"),0<d.length&&(h=new ny("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:d}),h.data=v))}Rx(p,e)})}function Ma(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Qc(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ra(t,n),i!=null&&r.unshift(Ma(t,i,s)),i=Ra(t,e),i!=null&&r.push(Ma(t,i,s))),t=t.return}return r}function ui(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function py(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,d=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&d!==null&&(a=d,s?(l=Ra(n,i),l!=null&&o.unshift(Ma(n,l,a))):s||(l=Ra(n,i),l!=null&&o.push(Ma(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var zS=/\r\n?/g,qS=/\u0000|\uFFFD/g;function my(t){return(typeof t=="string"?t:""+t).replace(zS,`
`).replace(qS,"")}function Jl(t,e,n){if(e=my(e),my(t)!==e&&n)throw Error(W(425))}function Yc(){}var mf=null,gf=null;function yf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vf=typeof setTimeout=="function"?setTimeout:void 0,HS=typeof clearTimeout=="function"?clearTimeout:void 0,gy=typeof Promise=="function"?Promise:void 0,WS=typeof queueMicrotask=="function"?queueMicrotask:typeof gy<"u"?function(t){return gy.resolve(null).then(t).catch(GS)}:vf;function GS(t){setTimeout(function(){throw t})}function oh(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ja(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ja(e)}function Br(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function yy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var mo=Math.random().toString(36).slice(2),Sn="__reactFiber$"+mo,Fa="__reactProps$"+mo,Zn="__reactContainer$"+mo,_f="__reactEvents$"+mo,KS="__reactListeners$"+mo,QS="__reactHandles$"+mo;function ws(t){var e=t[Sn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Zn]||n[Sn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=yy(t);t!==null;){if(n=t[Sn])return n;t=yy(t)}return e}t=n,n=t.parentNode}return null}function al(t){return t=t[Sn]||t[Zn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ei(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function $u(t){return t[Fa]||null}var xf=[],Ti=-1;function is(t){return{current:t}}function Re(t){0>Ti||(t.current=xf[Ti],xf[Ti]=null,Ti--)}function Ce(t,e){Ti++,xf[Ti]=t.current,t.current=e}var Jr={},vt=is(Jr),Dt=is(!1),Os=Jr;function Qi(t,e){var n=t.type.contextTypes;if(!n)return Jr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Lt(t){return t=t.childContextTypes,t!=null}function Jc(){Re(Dt),Re(vt)}function vy(t,e,n){if(vt.current!==Jr)throw Error(W(168));Ce(vt,e),Ce(Dt,n)}function Nx(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(W(108,jI(t)||"Unknown",s));return Le({},n,r)}function Xc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Jr,Os=vt.current,Ce(vt,t),Ce(Dt,Dt.current),!0}function _y(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=Nx(t,e,Os),r.__reactInternalMemoizedMergedChildContext=t,Re(Dt),Re(vt),Ce(vt,t)):Re(Dt),Ce(Dt,n)}var Hn=null,Bu=!1,ah=!1;function jx(t){Hn===null?Hn=[t]:Hn.push(t)}function YS(t){Bu=!0,jx(t)}function os(){if(!ah&&Hn!==null){ah=!0;var t=0,e=Ee;try{var n=Hn;for(Ee=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Hn=null,Bu=!1}catch(s){throw Hn!==null&&(Hn=Hn.slice(t+1)),sx(Xp,os),s}finally{Ee=e,ah=!1}}return null}var Ii=[],Si=0,Zc=null,eu=0,en=[],tn=0,Ds=null,Wn=1,Gn="";function ms(t,e){Ii[Si++]=eu,Ii[Si++]=Zc,Zc=t,eu=e}function Ox(t,e,n){en[tn++]=Wn,en[tn++]=Gn,en[tn++]=Ds,Ds=t;var r=Wn;t=Gn;var s=32-_n(r)-1;r&=~(1<<s),n+=1;var i=32-_n(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Wn=1<<32-_n(e)+s|n<<s|r,Gn=i+t}else Wn=1<<i|n<<s|r,Gn=t}function am(t){t.return!==null&&(ms(t,1),Ox(t,1,0))}function lm(t){for(;t===Zc;)Zc=Ii[--Si],Ii[Si]=null,eu=Ii[--Si],Ii[Si]=null;for(;t===Ds;)Ds=en[--tn],en[tn]=null,Gn=en[--tn],en[tn]=null,Wn=en[--tn],en[tn]=null}var Wt=null,qt=null,Ne=!1,yn=null;function Dx(t,e){var n=nn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function xy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Wt=t,qt=Br(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Wt=t,qt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ds!==null?{id:Wn,overflow:Gn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=nn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Wt=t,qt=null,!0):!1;default:return!1}}function wf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function bf(t){if(Ne){var e=qt;if(e){var n=e;if(!xy(t,e)){if(wf(t))throw Error(W(418));e=Br(n.nextSibling);var r=Wt;e&&xy(t,e)?Dx(r,n):(t.flags=t.flags&-4097|2,Ne=!1,Wt=t)}}else{if(wf(t))throw Error(W(418));t.flags=t.flags&-4097|2,Ne=!1,Wt=t}}}function wy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wt=t}function Xl(t){if(t!==Wt)return!1;if(!Ne)return wy(t),Ne=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!yf(t.type,t.memoizedProps)),e&&(e=qt)){if(wf(t))throw Lx(),Error(W(418));for(;e;)Dx(t,e),e=Br(e.nextSibling)}if(wy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){qt=Br(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}qt=null}}else qt=Wt?Br(t.stateNode.nextSibling):null;return!0}function Lx(){for(var t=qt;t;)t=Br(t.nextSibling)}function Yi(){qt=Wt=null,Ne=!1}function cm(t){yn===null?yn=[t]:yn.push(t)}var JS=lr.ReactCurrentBatchConfig;function Ho(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function Zl(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function by(t){var e=t._init;return e(t._payload)}function Mx(t){function e(A,E){if(t){var C=A.deletions;C===null?(A.deletions=[E],A.flags|=16):C.push(E)}}function n(A,E){if(!t)return null;for(;E!==null;)e(A,E),E=E.sibling;return null}function r(A,E){for(A=new Map;E!==null;)E.key!==null?A.set(E.key,E):A.set(E.index,E),E=E.sibling;return A}function s(A,E){return A=Wr(A,E),A.index=0,A.sibling=null,A}function i(A,E,C){return A.index=C,t?(C=A.alternate,C!==null?(C=C.index,C<E?(A.flags|=2,E):C):(A.flags|=2,E)):(A.flags|=1048576,E)}function o(A){return t&&A.alternate===null&&(A.flags|=2),A}function a(A,E,C,j){return E===null||E.tag!==6?(E=ph(C,A.mode,j),E.return=A,E):(E=s(E,C),E.return=A,E)}function l(A,E,C,j){var U=C.type;return U===_i?h(A,E,C.props.children,j,C.key):E!==null&&(E.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===wr&&by(U)===E.type)?(j=s(E,C.props),j.ref=Ho(A,E,C),j.return=A,j):(j=Ac(C.type,C.key,C.props,null,A.mode,j),j.ref=Ho(A,E,C),j.return=A,j)}function d(A,E,C,j){return E===null||E.tag!==4||E.stateNode.containerInfo!==C.containerInfo||E.stateNode.implementation!==C.implementation?(E=mh(C,A.mode,j),E.return=A,E):(E=s(E,C.children||[]),E.return=A,E)}function h(A,E,C,j,U){return E===null||E.tag!==7?(E=Cs(C,A.mode,j,U),E.return=A,E):(E=s(E,C),E.return=A,E)}function p(A,E,C){if(typeof E=="string"&&E!==""||typeof E=="number")return E=ph(""+E,A.mode,C),E.return=A,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Bl:return C=Ac(E.type,E.key,E.props,null,A.mode,C),C.ref=Ho(A,null,E),C.return=A,C;case vi:return E=mh(E,A.mode,C),E.return=A,E;case wr:var j=E._init;return p(A,j(E._payload),C)}if(Xo(E)||Vo(E))return E=Cs(E,A.mode,C,null),E.return=A,E;Zl(A,E)}return null}function g(A,E,C,j){var U=E!==null?E.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return U!==null?null:a(A,E,""+C,j);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Bl:return C.key===U?l(A,E,C,j):null;case vi:return C.key===U?d(A,E,C,j):null;case wr:return U=C._init,g(A,E,U(C._payload),j)}if(Xo(C)||Vo(C))return U!==null?null:h(A,E,C,j,null);Zl(A,C)}return null}function b(A,E,C,j,U){if(typeof j=="string"&&j!==""||typeof j=="number")return A=A.get(C)||null,a(E,A,""+j,U);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Bl:return A=A.get(j.key===null?C:j.key)||null,l(E,A,j,U);case vi:return A=A.get(j.key===null?C:j.key)||null,d(E,A,j,U);case wr:var L=j._init;return b(A,E,C,L(j._payload),U)}if(Xo(j)||Vo(j))return A=A.get(C)||null,h(E,A,j,U,null);Zl(E,j)}return null}function k(A,E,C,j){for(var U=null,L=null,v=E,y=E=0,x=null;v!==null&&y<C.length;y++){v.index>y?(x=v,v=null):x=v.sibling;var R=g(A,v,C[y],j);if(R===null){v===null&&(v=x);break}t&&v&&R.alternate===null&&e(A,v),E=i(R,E,y),L===null?U=R:L.sibling=R,L=R,v=x}if(y===C.length)return n(A,v),Ne&&ms(A,y),U;if(v===null){for(;y<C.length;y++)v=p(A,C[y],j),v!==null&&(E=i(v,E,y),L===null?U=v:L.sibling=v,L=v);return Ne&&ms(A,y),U}for(v=r(A,v);y<C.length;y++)x=b(v,A,y,C[y],j),x!==null&&(t&&x.alternate!==null&&v.delete(x.key===null?y:x.key),E=i(x,E,y),L===null?U=x:L.sibling=x,L=x);return t&&v.forEach(function(w){return e(A,w)}),Ne&&ms(A,y),U}function N(A,E,C,j){var U=Vo(C);if(typeof U!="function")throw Error(W(150));if(C=U.call(C),C==null)throw Error(W(151));for(var L=U=null,v=E,y=E=0,x=null,R=C.next();v!==null&&!R.done;y++,R=C.next()){v.index>y?(x=v,v=null):x=v.sibling;var w=g(A,v,R.value,j);if(w===null){v===null&&(v=x);break}t&&v&&w.alternate===null&&e(A,v),E=i(w,E,y),L===null?U=w:L.sibling=w,L=w,v=x}if(R.done)return n(A,v),Ne&&ms(A,y),U;if(v===null){for(;!R.done;y++,R=C.next())R=p(A,R.value,j),R!==null&&(E=i(R,E,y),L===null?U=R:L.sibling=R,L=R);return Ne&&ms(A,y),U}for(v=r(A,v);!R.done;y++,R=C.next())R=b(v,A,y,R.value,j),R!==null&&(t&&R.alternate!==null&&v.delete(R.key===null?y:R.key),E=i(R,E,y),L===null?U=R:L.sibling=R,L=R);return t&&v.forEach(function(I){return e(A,I)}),Ne&&ms(A,y),U}function P(A,E,C,j){if(typeof C=="object"&&C!==null&&C.type===_i&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Bl:e:{for(var U=C.key,L=E;L!==null;){if(L.key===U){if(U=C.type,U===_i){if(L.tag===7){n(A,L.sibling),E=s(L,C.props.children),E.return=A,A=E;break e}}else if(L.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===wr&&by(U)===L.type){n(A,L.sibling),E=s(L,C.props),E.ref=Ho(A,L,C),E.return=A,A=E;break e}n(A,L);break}else e(A,L);L=L.sibling}C.type===_i?(E=Cs(C.props.children,A.mode,j,C.key),E.return=A,A=E):(j=Ac(C.type,C.key,C.props,null,A.mode,j),j.ref=Ho(A,E,C),j.return=A,A=j)}return o(A);case vi:e:{for(L=C.key;E!==null;){if(E.key===L)if(E.tag===4&&E.stateNode.containerInfo===C.containerInfo&&E.stateNode.implementation===C.implementation){n(A,E.sibling),E=s(E,C.children||[]),E.return=A,A=E;break e}else{n(A,E);break}else e(A,E);E=E.sibling}E=mh(C,A.mode,j),E.return=A,A=E}return o(A);case wr:return L=C._init,P(A,E,L(C._payload),j)}if(Xo(C))return k(A,E,C,j);if(Vo(C))return N(A,E,C,j);Zl(A,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,E!==null&&E.tag===6?(n(A,E.sibling),E=s(E,C),E.return=A,A=E):(n(A,E),E=ph(C,A.mode,j),E.return=A,A=E),o(A)):n(A,E)}return P}var Ji=Mx(!0),Fx=Mx(!1),tu=is(null),nu=null,Ci=null,um=null;function dm(){um=Ci=nu=null}function hm(t){var e=tu.current;Re(tu),t._currentValue=e}function Ef(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Mi(t,e){nu=t,um=Ci=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ot=!0),t.firstContext=null)}function on(t){var e=t._currentValue;if(um!==t)if(t={context:t,memoizedValue:e,next:null},Ci===null){if(nu===null)throw Error(W(308));Ci=t,nu.dependencies={lanes:0,firstContext:t}}else Ci=Ci.next=t;return e}var bs=null;function fm(t){bs===null?bs=[t]:bs.push(t)}function Ux(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,fm(e)):(n.next=s.next,s.next=n),e.interleaved=n,er(t,r)}function er(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var br=!1;function pm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Jn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function zr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ge&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,er(t,n)}return s=r.interleaved,s===null?(e.next=e,fm(r)):(e.next=s.next,s.next=e),r.interleaved=e,er(t,n)}function Ec(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zp(t,n)}}function Ey(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ru(t,e,n,r){var s=t.updateQueue;br=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,d=l.next;l.next=null,o===null?i=d:o.next=d,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=d:a.next=d,h.lastBaseUpdate=l))}if(i!==null){var p=s.baseState;o=0,h=d=l=null,a=i;do{var g=a.lane,b=a.eventTime;if((r&g)===g){h!==null&&(h=h.next={eventTime:b,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var k=t,N=a;switch(g=e,b=n,N.tag){case 1:if(k=N.payload,typeof k=="function"){p=k.call(b,p,g);break e}p=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=N.payload,g=typeof k=="function"?k.call(b,p,g):k,g==null)break e;p=Le({},p,g);break e;case 2:br=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[a]:g.push(a))}else b={eventTime:b,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(d=h=b,l=p):h=h.next=b,o|=g;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;g=a,a=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(h===null&&(l=p),s.baseState=l,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ms|=o,t.lanes=o,t.memoizedState=p}}function Ty(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(W(191,s));s.call(r)}}}var ll={},Pn=is(ll),Ua=is(ll),Va=is(ll);function Es(t){if(t===ll)throw Error(W(174));return t}function mm(t,e){switch(Ce(Va,e),Ce(Ua,t),Ce(Pn,ll),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:nf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=nf(e,t)}Re(Pn),Ce(Pn,e)}function Xi(){Re(Pn),Re(Ua),Re(Va)}function $x(t){Es(Va.current);var e=Es(Pn.current),n=nf(e,t.type);e!==n&&(Ce(Ua,t),Ce(Pn,n))}function gm(t){Ua.current===t&&(Re(Pn),Re(Ua))}var Oe=is(0);function su(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var lh=[];function ym(){for(var t=0;t<lh.length;t++)lh[t]._workInProgressVersionPrimary=null;lh.length=0}var Tc=lr.ReactCurrentDispatcher,ch=lr.ReactCurrentBatchConfig,Ls=0,De=null,Ge=null,Xe=null,iu=!1,fa=!1,$a=0,XS=0;function ht(){throw Error(W(321))}function vm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!wn(t[n],e[n]))return!1;return!0}function _m(t,e,n,r,s,i){if(Ls=i,De=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Tc.current=t===null||t.memoizedState===null?nC:rC,t=n(r,s),fa){i=0;do{if(fa=!1,$a=0,25<=i)throw Error(W(301));i+=1,Xe=Ge=null,e.updateQueue=null,Tc.current=sC,t=n(r,s)}while(fa)}if(Tc.current=ou,e=Ge!==null&&Ge.next!==null,Ls=0,Xe=Ge=De=null,iu=!1,e)throw Error(W(300));return t}function xm(){var t=$a!==0;return $a=0,t}function Tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?De.memoizedState=Xe=t:Xe=Xe.next=t,Xe}function an(){if(Ge===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=Ge.next;var e=Xe===null?De.memoizedState:Xe.next;if(e!==null)Xe=e,Ge=t;else{if(t===null)throw Error(W(310));Ge=t,t={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},Xe===null?De.memoizedState=Xe=t:Xe=Xe.next=t}return Xe}function Ba(t,e){return typeof e=="function"?e(t):e}function uh(t){var e=an(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=Ge,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,d=i;do{var h=d.lane;if((Ls&h)===h)l!==null&&(l=l.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var p={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};l===null?(a=l=p,o=r):l=l.next=p,De.lanes|=h,Ms|=h}d=d.next}while(d!==null&&d!==i);l===null?o=r:l.next=a,wn(r,e.memoizedState)||(Ot=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,De.lanes|=i,Ms|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function dh(t){var e=an(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);wn(i,e.memoizedState)||(Ot=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Bx(){}function zx(t,e){var n=De,r=an(),s=e(),i=!wn(r.memoizedState,s);if(i&&(r.memoizedState=s,Ot=!0),r=r.queue,wm(Wx.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Xe!==null&&Xe.memoizedState.tag&1){if(n.flags|=2048,za(9,Hx.bind(null,n,r,s,e),void 0,null),Ze===null)throw Error(W(349));Ls&30||qx(n,e,s)}return s}function qx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=De.updateQueue,e===null?(e={lastEffect:null,stores:null},De.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Hx(t,e,n,r){e.value=n,e.getSnapshot=r,Gx(e)&&Kx(t)}function Wx(t,e,n){return n(function(){Gx(e)&&Kx(t)})}function Gx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!wn(t,n)}catch{return!0}}function Kx(t){var e=er(t,1);e!==null&&xn(e,t,1,-1)}function Iy(t){var e=Tn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:t},e.queue=t,t=t.dispatch=tC.bind(null,De,t),[e.memoizedState,t]}function za(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=De.updateQueue,e===null?(e={lastEffect:null,stores:null},De.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Qx(){return an().memoizedState}function Ic(t,e,n,r){var s=Tn();De.flags|=t,s.memoizedState=za(1|e,n,void 0,r===void 0?null:r)}function zu(t,e,n,r){var s=an();r=r===void 0?null:r;var i=void 0;if(Ge!==null){var o=Ge.memoizedState;if(i=o.destroy,r!==null&&vm(r,o.deps)){s.memoizedState=za(e,n,i,r);return}}De.flags|=t,s.memoizedState=za(1|e,n,i,r)}function Sy(t,e){return Ic(8390656,8,t,e)}function wm(t,e){return zu(2048,8,t,e)}function Yx(t,e){return zu(4,2,t,e)}function Jx(t,e){return zu(4,4,t,e)}function Xx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Zx(t,e,n){return n=n!=null?n.concat([t]):null,zu(4,4,Xx.bind(null,e,t),n)}function bm(){}function ew(t,e){var n=an();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function tw(t,e){var n=an();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function nw(t,e,n){return Ls&21?(wn(n,e)||(n=ax(),De.lanes|=n,Ms|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ot=!0),t.memoizedState=n)}function ZS(t,e){var n=Ee;Ee=n!==0&&4>n?n:4,t(!0);var r=ch.transition;ch.transition={};try{t(!1),e()}finally{Ee=n,ch.transition=r}}function rw(){return an().memoizedState}function eC(t,e,n){var r=Hr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},sw(t))iw(e,n);else if(n=Ux(t,e,n,r),n!==null){var s=Ct();xn(n,t,r,s),ow(n,e,r)}}function tC(t,e,n){var r=Hr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(sw(t))iw(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,wn(a,o)){var l=e.interleaved;l===null?(s.next=s,fm(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=Ux(t,e,s,r),n!==null&&(s=Ct(),xn(n,t,r,s),ow(n,e,r))}}function sw(t){var e=t.alternate;return t===De||e!==null&&e===De}function iw(t,e){fa=iu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ow(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zp(t,n)}}var ou={readContext:on,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useInsertionEffect:ht,useLayoutEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useMutableSource:ht,useSyncExternalStore:ht,useId:ht,unstable_isNewReconciler:!1},nC={readContext:on,useCallback:function(t,e){return Tn().memoizedState=[t,e===void 0?null:e],t},useContext:on,useEffect:Sy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ic(4194308,4,Xx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ic(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ic(4,2,t,e)},useMemo:function(t,e){var n=Tn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Tn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=eC.bind(null,De,t),[r.memoizedState,t]},useRef:function(t){var e=Tn();return t={current:t},e.memoizedState=t},useState:Iy,useDebugValue:bm,useDeferredValue:function(t){return Tn().memoizedState=t},useTransition:function(){var t=Iy(!1),e=t[0];return t=ZS.bind(null,t[1]),Tn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=De,s=Tn();if(Ne){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),Ze===null)throw Error(W(349));Ls&30||qx(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Sy(Wx.bind(null,r,i,t),[t]),r.flags|=2048,za(9,Hx.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Tn(),e=Ze.identifierPrefix;if(Ne){var n=Gn,r=Wn;n=(r&~(1<<32-_n(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=$a++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=XS++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},rC={readContext:on,useCallback:ew,useContext:on,useEffect:wm,useImperativeHandle:Zx,useInsertionEffect:Yx,useLayoutEffect:Jx,useMemo:tw,useReducer:uh,useRef:Qx,useState:function(){return uh(Ba)},useDebugValue:bm,useDeferredValue:function(t){var e=an();return nw(e,Ge.memoizedState,t)},useTransition:function(){var t=uh(Ba)[0],e=an().memoizedState;return[t,e]},useMutableSource:Bx,useSyncExternalStore:zx,useId:rw,unstable_isNewReconciler:!1},sC={readContext:on,useCallback:ew,useContext:on,useEffect:wm,useImperativeHandle:Zx,useInsertionEffect:Yx,useLayoutEffect:Jx,useMemo:tw,useReducer:dh,useRef:Qx,useState:function(){return dh(Ba)},useDebugValue:bm,useDeferredValue:function(t){var e=an();return Ge===null?e.memoizedState=t:nw(e,Ge.memoizedState,t)},useTransition:function(){var t=dh(Ba)[0],e=an().memoizedState;return[t,e]},useMutableSource:Bx,useSyncExternalStore:zx,useId:rw,unstable_isNewReconciler:!1};function pn(t,e){if(t&&t.defaultProps){e=Le({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Tf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Le({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var qu={isMounted:function(t){return(t=t._reactInternals)?Ks(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ct(),s=Hr(t),i=Jn(r,s);i.payload=e,n!=null&&(i.callback=n),e=zr(t,i,s),e!==null&&(xn(e,t,s,r),Ec(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ct(),s=Hr(t),i=Jn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=zr(t,i,s),e!==null&&(xn(e,t,s,r),Ec(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ct(),r=Hr(t),s=Jn(n,r);s.tag=2,e!=null&&(s.callback=e),e=zr(t,s,r),e!==null&&(xn(e,t,r,n),Ec(e,t,r))}};function Cy(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Da(n,r)||!Da(s,i):!0}function aw(t,e,n){var r=!1,s=Jr,i=e.contextType;return typeof i=="object"&&i!==null?i=on(i):(s=Lt(e)?Os:vt.current,r=e.contextTypes,i=(r=r!=null)?Qi(t,s):Jr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=qu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function ky(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&qu.enqueueReplaceState(e,e.state,null)}function If(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},pm(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=on(i):(i=Lt(e)?Os:vt.current,s.context=Qi(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Tf(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&qu.enqueueReplaceState(s,s.state,null),ru(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Zi(t,e){try{var n="",r=e;do n+=NI(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function hh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Sf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var iC=typeof WeakMap=="function"?WeakMap:Map;function lw(t,e,n){n=Jn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){lu||(lu=!0,Lf=r),Sf(t,e)},n}function cw(t,e,n){n=Jn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Sf(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Sf(t,e),typeof r!="function"&&(qr===null?qr=new Set([this]):qr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Ay(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new iC;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=_C.bind(null,t,e,n),e.then(t,t))}function Ry(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Py(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Jn(-1,1),e.tag=2,zr(n,e,1))),n.lanes|=1),t)}var oC=lr.ReactCurrentOwner,Ot=!1;function Et(t,e,n,r){e.child=t===null?Fx(e,null,n,r):Ji(e,t.child,n,r)}function Ny(t,e,n,r,s){n=n.render;var i=e.ref;return Mi(e,s),r=_m(t,e,n,r,i,s),n=xm(),t!==null&&!Ot?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,tr(t,e,s)):(Ne&&n&&am(e),e.flags|=1,Et(t,e,r,s),e.child)}function jy(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Rm(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,uw(t,e,i,r,s)):(t=Ac(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Da,n(o,r)&&t.ref===e.ref)return tr(t,e,s)}return e.flags|=1,t=Wr(i,r),t.ref=e.ref,t.return=e,e.child=t}function uw(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Da(i,r)&&t.ref===e.ref)if(Ot=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ot=!0);else return e.lanes=t.lanes,tr(t,e,s)}return Cf(t,e,n,r,s)}function dw(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(Ai,zt),zt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ce(Ai,zt),zt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ce(Ai,zt),zt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ce(Ai,zt),zt|=r;return Et(t,e,s,n),e.child}function hw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Cf(t,e,n,r,s){var i=Lt(n)?Os:vt.current;return i=Qi(e,i),Mi(e,s),n=_m(t,e,n,r,i,s),r=xm(),t!==null&&!Ot?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,tr(t,e,s)):(Ne&&r&&am(e),e.flags|=1,Et(t,e,n,s),e.child)}function Oy(t,e,n,r,s){if(Lt(n)){var i=!0;Xc(e)}else i=!1;if(Mi(e,s),e.stateNode===null)Sc(t,e),aw(e,n,r),If(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=on(d):(d=Lt(n)?Os:vt.current,d=Qi(e,d));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==d)&&ky(e,o,r,d),br=!1;var g=e.memoizedState;o.state=g,ru(e,r,o,s),l=e.memoizedState,a!==r||g!==l||Dt.current||br?(typeof h=="function"&&(Tf(e,n,h,r),l=e.memoizedState),(a=br||Cy(e,n,a,r,g,l,d))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Vx(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:pn(e.type,a),o.props=d,p=e.pendingProps,g=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=on(l):(l=Lt(n)?Os:vt.current,l=Qi(e,l));var b=n.getDerivedStateFromProps;(h=typeof b=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||g!==l)&&ky(e,o,r,l),br=!1,g=e.memoizedState,o.state=g,ru(e,r,o,s);var k=e.memoizedState;a!==p||g!==k||Dt.current||br?(typeof b=="function"&&(Tf(e,n,b,r),k=e.memoizedState),(d=br||Cy(e,n,d,r,g,k,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,k,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,k,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=k),o.props=r,o.state=k,o.context=l,r=d):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return kf(t,e,n,r,i,s)}function kf(t,e,n,r,s,i){hw(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&_y(e,n,!1),tr(t,e,i);r=e.stateNode,oC.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ji(e,t.child,null,i),e.child=Ji(e,null,a,i)):Et(t,e,a,i),e.memoizedState=r.state,s&&_y(e,n,!0),e.child}function fw(t){var e=t.stateNode;e.pendingContext?vy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&vy(t,e.context,!1),mm(t,e.containerInfo)}function Dy(t,e,n,r,s){return Yi(),cm(s),e.flags|=256,Et(t,e,n,r),e.child}var Af={dehydrated:null,treeContext:null,retryLane:0};function Rf(t){return{baseLanes:t,cachePool:null,transitions:null}}function pw(t,e,n){var r=e.pendingProps,s=Oe.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ce(Oe,s&1),t===null)return bf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Gu(o,r,0,null),t=Cs(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Rf(n),e.memoizedState=Af,t):Em(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return aC(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Wr(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Wr(a,i):(i=Cs(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Rf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Af,r}return i=t.child,t=i.sibling,r=Wr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Em(t,e){return e=Gu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ec(t,e,n,r){return r!==null&&cm(r),Ji(e,t.child,null,n),t=Em(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function aC(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=hh(Error(W(422))),ec(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Gu({mode:"visible",children:r.children},s,0,null),i=Cs(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ji(e,t.child,null,o),e.child.memoizedState=Rf(o),e.memoizedState=Af,i);if(!(e.mode&1))return ec(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(W(419)),r=hh(i,r,void 0),ec(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ot||a){if(r=Ze,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,er(t,s),xn(r,t,s,-1))}return Am(),r=hh(Error(W(421))),ec(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=xC.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,qt=Br(s.nextSibling),Wt=e,Ne=!0,yn=null,t!==null&&(en[tn++]=Wn,en[tn++]=Gn,en[tn++]=Ds,Wn=t.id,Gn=t.overflow,Ds=e),e=Em(e,r.children),e.flags|=4096,e)}function Ly(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ef(t.return,e,n)}function fh(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function mw(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Et(t,e,r.children,n),r=Oe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ly(t,n,e);else if(t.tag===19)Ly(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ce(Oe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&su(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),fh(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&su(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}fh(e,!0,n,null,i);break;case"together":fh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Sc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function tr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ms|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=Wr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Wr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function lC(t,e,n){switch(e.tag){case 3:fw(e),Yi();break;case 5:$x(e);break;case 1:Lt(e.type)&&Xc(e);break;case 4:mm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ce(tu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ce(Oe,Oe.current&1),e.flags|=128,null):n&e.child.childLanes?pw(t,e,n):(Ce(Oe,Oe.current&1),t=tr(t,e,n),t!==null?t.sibling:null);Ce(Oe,Oe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return mw(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ce(Oe,Oe.current),r)break;return null;case 22:case 23:return e.lanes=0,dw(t,e,n)}return tr(t,e,n)}var gw,Pf,yw,vw;gw=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Pf=function(){};yw=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Es(Pn.current);var i=null;switch(n){case"input":s=Xh(t,s),r=Xh(t,r),i=[];break;case"select":s=Le({},s,{value:void 0}),r=Le({},r,{value:void 0}),i=[];break;case"textarea":s=tf(t,s),r=tf(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Yc)}rf(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ka.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var l=r[d];if(a=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&l!==a&&(l!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(d,n)),n=l;else d==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(d,l)):d==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(d,""+l):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ka.hasOwnProperty(d)?(l!=null&&d==="onScroll"&&Ae("scroll",t),i||a===l||(i=[])):(i=i||[]).push(d,l))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};vw=function(t,e,n,r){n!==r&&(e.flags|=4)};function Wo(t,e){if(!Ne)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function cC(t,e,n){var r=e.pendingProps;switch(lm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(e),null;case 1:return Lt(e.type)&&Jc(),ft(e),null;case 3:return r=e.stateNode,Xi(),Re(Dt),Re(vt),ym(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Xl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,yn!==null&&(Uf(yn),yn=null))),Pf(t,e),ft(e),null;case 5:gm(e);var s=Es(Va.current);if(n=e.type,t!==null&&e.stateNode!=null)yw(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return ft(e),null}if(t=Es(Pn.current),Xl(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Sn]=e,r[Fa]=i,t=(e.mode&1)!==0,n){case"dialog":Ae("cancel",r),Ae("close",r);break;case"iframe":case"object":case"embed":Ae("load",r);break;case"video":case"audio":for(s=0;s<ea.length;s++)Ae(ea[s],r);break;case"source":Ae("error",r);break;case"img":case"image":case"link":Ae("error",r),Ae("load",r);break;case"details":Ae("toggle",r);break;case"input":H0(r,i),Ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ae("invalid",r);break;case"textarea":G0(r,i),Ae("invalid",r)}rf(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Jl(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Jl(r.textContent,a,t),s=["children",""+a]):ka.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ae("scroll",r)}switch(n){case"input":zl(r),W0(r,i,!0);break;case"textarea":zl(r),K0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Yc)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=W1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Sn]=e,t[Fa]=r,gw(t,e,!1,!1),e.stateNode=t;e:{switch(o=sf(n,r),n){case"dialog":Ae("cancel",t),Ae("close",t),s=r;break;case"iframe":case"object":case"embed":Ae("load",t),s=r;break;case"video":case"audio":for(s=0;s<ea.length;s++)Ae(ea[s],t);s=r;break;case"source":Ae("error",t),s=r;break;case"img":case"image":case"link":Ae("error",t),Ae("load",t),s=r;break;case"details":Ae("toggle",t),s=r;break;case"input":H0(t,r),s=Xh(t,r),Ae("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Le({},r,{value:void 0}),Ae("invalid",t);break;case"textarea":G0(t,r),s=tf(t,r),Ae("invalid",t);break;default:s=r}rf(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Q1(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&G1(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Aa(t,l):typeof l=="number"&&Aa(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ka.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ae("scroll",t):l!=null&&Gp(t,i,l,o))}switch(n){case"input":zl(t),W0(t,r,!1);break;case"textarea":zl(t),K0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Yr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ji(t,!!r.multiple,i,!1):r.defaultValue!=null&&ji(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Yc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ft(e),null;case 6:if(t&&e.stateNode!=null)vw(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=Es(Va.current),Es(Pn.current),Xl(e)){if(r=e.stateNode,n=e.memoizedProps,r[Sn]=e,(i=r.nodeValue!==n)&&(t=Wt,t!==null))switch(t.tag){case 3:Jl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Jl(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Sn]=e,e.stateNode=r}return ft(e),null;case 13:if(Re(Oe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ne&&qt!==null&&e.mode&1&&!(e.flags&128))Lx(),Yi(),e.flags|=98560,i=!1;else if(i=Xl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(W(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(W(317));i[Sn]=e}else Yi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ft(e),i=!1}else yn!==null&&(Uf(yn),yn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Oe.current&1?Qe===0&&(Qe=3):Am())),e.updateQueue!==null&&(e.flags|=4),ft(e),null);case 4:return Xi(),Pf(t,e),t===null&&La(e.stateNode.containerInfo),ft(e),null;case 10:return hm(e.type._context),ft(e),null;case 17:return Lt(e.type)&&Jc(),ft(e),null;case 19:if(Re(Oe),i=e.memoizedState,i===null)return ft(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Wo(i,!1);else{if(Qe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=su(t),o!==null){for(e.flags|=128,Wo(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ce(Oe,Oe.current&1|2),e.child}t=t.sibling}i.tail!==null&&Be()>eo&&(e.flags|=128,r=!0,Wo(i,!1),e.lanes=4194304)}else{if(!r)if(t=su(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Wo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ne)return ft(e),null}else 2*Be()-i.renderingStartTime>eo&&n!==1073741824&&(e.flags|=128,r=!0,Wo(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Be(),e.sibling=null,n=Oe.current,Ce(Oe,r?n&1|2:n&1),e):(ft(e),null);case 22:case 23:return km(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?zt&1073741824&&(ft(e),e.subtreeFlags&6&&(e.flags|=8192)):ft(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function uC(t,e){switch(lm(e),e.tag){case 1:return Lt(e.type)&&Jc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Xi(),Re(Dt),Re(vt),ym(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return gm(e),null;case 13:if(Re(Oe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));Yi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Re(Oe),null;case 4:return Xi(),null;case 10:return hm(e.type._context),null;case 22:case 23:return km(),null;case 24:return null;default:return null}}var tc=!1,gt=!1,dC=typeof WeakSet=="function"?WeakSet:Set,Y=null;function ki(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Fe(t,e,r)}else n.current=null}function Nf(t,e,n){try{n()}catch(r){Fe(t,e,r)}}var My=!1;function hC(t,e){if(mf=Gc,t=Ex(),om(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,d=0,h=0,p=t,g=null;t:for(;;){for(var b;p!==n||s!==0&&p.nodeType!==3||(a=o+s),p!==i||r!==0&&p.nodeType!==3||(l=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(b=p.firstChild)!==null;)g=p,p=b;for(;;){if(p===t)break t;if(g===n&&++d===s&&(a=o),g===i&&++h===r&&(l=o),(b=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=b}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(gf={focusedElem:t,selectionRange:n},Gc=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var k=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var N=k.memoizedProps,P=k.memoizedState,A=e.stateNode,E=A.getSnapshotBeforeUpdate(e.elementType===e.type?N:pn(e.type,N),P);A.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(j){Fe(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return k=My,My=!1,k}function pa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Nf(e,n,i)}s=s.next}while(s!==r)}}function Hu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function jf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function _w(t){var e=t.alternate;e!==null&&(t.alternate=null,_w(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Sn],delete e[Fa],delete e[_f],delete e[KS],delete e[QS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function xw(t){return t.tag===5||t.tag===3||t.tag===4}function Fy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Of(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Yc));else if(r!==4&&(t=t.child,t!==null))for(Of(t,e,n),t=t.sibling;t!==null;)Of(t,e,n),t=t.sibling}function Df(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Df(t,e,n),t=t.sibling;t!==null;)Df(t,e,n),t=t.sibling}var rt=null,mn=!1;function gr(t,e,n){for(n=n.child;n!==null;)ww(t,e,n),n=n.sibling}function ww(t,e,n){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(Mu,n)}catch{}switch(n.tag){case 5:gt||ki(n,e);case 6:var r=rt,s=mn;rt=null,gr(t,e,n),rt=r,mn=s,rt!==null&&(mn?(t=rt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):rt.removeChild(n.stateNode));break;case 18:rt!==null&&(mn?(t=rt,n=n.stateNode,t.nodeType===8?oh(t.parentNode,n):t.nodeType===1&&oh(t,n),ja(t)):oh(rt,n.stateNode));break;case 4:r=rt,s=mn,rt=n.stateNode.containerInfo,mn=!0,gr(t,e,n),rt=r,mn=s;break;case 0:case 11:case 14:case 15:if(!gt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Nf(n,e,o),s=s.next}while(s!==r)}gr(t,e,n);break;case 1:if(!gt&&(ki(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Fe(n,e,a)}gr(t,e,n);break;case 21:gr(t,e,n);break;case 22:n.mode&1?(gt=(r=gt)||n.memoizedState!==null,gr(t,e,n),gt=r):gr(t,e,n);break;default:gr(t,e,n)}}function Uy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new dC),e.forEach(function(r){var s=wC.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function hn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:rt=a.stateNode,mn=!1;break e;case 3:rt=a.stateNode.containerInfo,mn=!0;break e;case 4:rt=a.stateNode.containerInfo,mn=!0;break e}a=a.return}if(rt===null)throw Error(W(160));ww(i,o,s),rt=null,mn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(d){Fe(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)bw(e,t),e=e.sibling}function bw(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(hn(e,t),En(t),r&4){try{pa(3,t,t.return),Hu(3,t)}catch(N){Fe(t,t.return,N)}try{pa(5,t,t.return)}catch(N){Fe(t,t.return,N)}}break;case 1:hn(e,t),En(t),r&512&&n!==null&&ki(n,n.return);break;case 5:if(hn(e,t),En(t),r&512&&n!==null&&ki(n,n.return),t.flags&32){var s=t.stateNode;try{Aa(s,"")}catch(N){Fe(t,t.return,N)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&q1(s,i),sf(a,o);var d=sf(a,i);for(o=0;o<l.length;o+=2){var h=l[o],p=l[o+1];h==="style"?Q1(s,p):h==="dangerouslySetInnerHTML"?G1(s,p):h==="children"?Aa(s,p):Gp(s,h,p,d)}switch(a){case"input":Zh(s,i);break;case"textarea":H1(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var b=i.value;b!=null?ji(s,!!i.multiple,b,!1):g!==!!i.multiple&&(i.defaultValue!=null?ji(s,!!i.multiple,i.defaultValue,!0):ji(s,!!i.multiple,i.multiple?[]:"",!1))}s[Fa]=i}catch(N){Fe(t,t.return,N)}}break;case 6:if(hn(e,t),En(t),r&4){if(t.stateNode===null)throw Error(W(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(N){Fe(t,t.return,N)}}break;case 3:if(hn(e,t),En(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ja(e.containerInfo)}catch(N){Fe(t,t.return,N)}break;case 4:hn(e,t),En(t);break;case 13:hn(e,t),En(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Sm=Be())),r&4&&Uy(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(gt=(d=gt)||h,hn(e,t),gt=d):hn(e,t),En(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(Y=t,h=t.child;h!==null;){for(p=Y=h;Y!==null;){switch(g=Y,b=g.child,g.tag){case 0:case 11:case 14:case 15:pa(4,g,g.return);break;case 1:ki(g,g.return);var k=g.stateNode;if(typeof k.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,k.props=e.memoizedProps,k.state=e.memoizedState,k.componentWillUnmount()}catch(N){Fe(r,n,N)}}break;case 5:ki(g,g.return);break;case 22:if(g.memoizedState!==null){$y(p);continue}}b!==null?(b.return=g,Y=b):$y(p)}h=h.sibling}e:for(h=null,p=t;;){if(p.tag===5){if(h===null){h=p;try{s=p.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=K1("display",o))}catch(N){Fe(t,t.return,N)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(N){Fe(t,t.return,N)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:hn(e,t),En(t),r&4&&Uy(t);break;case 21:break;default:hn(e,t),En(t)}}function En(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(xw(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Aa(s,""),r.flags&=-33);var i=Fy(t);Df(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Fy(t);Of(t,a,o);break;default:throw Error(W(161))}}catch(l){Fe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function fC(t,e,n){Y=t,Ew(t)}function Ew(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var s=Y,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||tc;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||gt;a=tc;var d=gt;if(tc=o,(gt=l)&&!d)for(Y=s;Y!==null;)o=Y,l=o.child,o.tag===22&&o.memoizedState!==null?By(s):l!==null?(l.return=o,Y=l):By(s);for(;i!==null;)Y=i,Ew(i),i=i.sibling;Y=s,tc=a,gt=d}Vy(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Y=i):Vy(t)}}function Vy(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:gt||Hu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!gt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:pn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Ty(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ty(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&ja(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}gt||e.flags&512&&jf(e)}catch(g){Fe(e,e.return,g)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function $y(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function By(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Hu(4,e)}catch(l){Fe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Fe(e,s,l)}}var i=e.return;try{jf(e)}catch(l){Fe(e,i,l)}break;case 5:var o=e.return;try{jf(e)}catch(l){Fe(e,o,l)}}}catch(l){Fe(e,e.return,l)}if(e===t){Y=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Y=a;break}Y=e.return}}var pC=Math.ceil,au=lr.ReactCurrentDispatcher,Tm=lr.ReactCurrentOwner,rn=lr.ReactCurrentBatchConfig,ge=0,Ze=null,He=null,it=0,zt=0,Ai=is(0),Qe=0,qa=null,Ms=0,Wu=0,Im=0,ma=null,Pt=null,Sm=0,eo=1/0,qn=null,lu=!1,Lf=null,qr=null,nc=!1,Nr=null,cu=0,ga=0,Mf=null,Cc=-1,kc=0;function Ct(){return ge&6?Be():Cc!==-1?Cc:Cc=Be()}function Hr(t){return t.mode&1?ge&2&&it!==0?it&-it:JS.transition!==null?(kc===0&&(kc=ax()),kc):(t=Ee,t!==0||(t=window.event,t=t===void 0?16:px(t.type)),t):1}function xn(t,e,n,r){if(50<ga)throw ga=0,Mf=null,Error(W(185));il(t,n,r),(!(ge&2)||t!==Ze)&&(t===Ze&&(!(ge&2)&&(Wu|=n),Qe===4&&Ir(t,it)),Mt(t,r),n===1&&ge===0&&!(e.mode&1)&&(eo=Be()+500,Bu&&os()))}function Mt(t,e){var n=t.callbackNode;JI(t,e);var r=Wc(t,t===Ze?it:0);if(r===0)n!==null&&J0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&J0(n),e===1)t.tag===0?YS(zy.bind(null,t)):jx(zy.bind(null,t)),WS(function(){!(ge&6)&&os()}),n=null;else{switch(lx(r)){case 1:n=Xp;break;case 4:n=ix;break;case 16:n=Hc;break;case 536870912:n=ox;break;default:n=Hc}n=Pw(n,Tw.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Tw(t,e){if(Cc=-1,kc=0,ge&6)throw Error(W(327));var n=t.callbackNode;if(Fi()&&t.callbackNode!==n)return null;var r=Wc(t,t===Ze?it:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=uu(t,r);else{e=r;var s=ge;ge|=2;var i=Sw();(Ze!==t||it!==e)&&(qn=null,eo=Be()+500,Ss(t,e));do try{yC();break}catch(a){Iw(t,a)}while(!0);dm(),au.current=i,ge=s,He!==null?e=0:(Ze=null,it=0,e=Qe)}if(e!==0){if(e===2&&(s=uf(t),s!==0&&(r=s,e=Ff(t,s))),e===1)throw n=qa,Ss(t,0),Ir(t,r),Mt(t,Be()),n;if(e===6)Ir(t,r);else{if(s=t.current.alternate,!(r&30)&&!mC(s)&&(e=uu(t,r),e===2&&(i=uf(t),i!==0&&(r=i,e=Ff(t,i))),e===1))throw n=qa,Ss(t,0),Ir(t,r),Mt(t,Be()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:gs(t,Pt,qn);break;case 3:if(Ir(t,r),(r&130023424)===r&&(e=Sm+500-Be(),10<e)){if(Wc(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ct(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=vf(gs.bind(null,t,Pt,qn),e);break}gs(t,Pt,qn);break;case 4:if(Ir(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-_n(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Be()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*pC(r/1960))-r,10<r){t.timeoutHandle=vf(gs.bind(null,t,Pt,qn),r);break}gs(t,Pt,qn);break;case 5:gs(t,Pt,qn);break;default:throw Error(W(329))}}}return Mt(t,Be()),t.callbackNode===n?Tw.bind(null,t):null}function Ff(t,e){var n=ma;return t.current.memoizedState.isDehydrated&&(Ss(t,e).flags|=256),t=uu(t,e),t!==2&&(e=Pt,Pt=n,e!==null&&Uf(e)),t}function Uf(t){Pt===null?Pt=t:Pt.push.apply(Pt,t)}function mC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!wn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ir(t,e){for(e&=~Im,e&=~Wu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-_n(e),r=1<<n;t[n]=-1,e&=~r}}function zy(t){if(ge&6)throw Error(W(327));Fi();var e=Wc(t,0);if(!(e&1))return Mt(t,Be()),null;var n=uu(t,e);if(t.tag!==0&&n===2){var r=uf(t);r!==0&&(e=r,n=Ff(t,r))}if(n===1)throw n=qa,Ss(t,0),Ir(t,e),Mt(t,Be()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,gs(t,Pt,qn),Mt(t,Be()),null}function Cm(t,e){var n=ge;ge|=1;try{return t(e)}finally{ge=n,ge===0&&(eo=Be()+500,Bu&&os())}}function Fs(t){Nr!==null&&Nr.tag===0&&!(ge&6)&&Fi();var e=ge;ge|=1;var n=rn.transition,r=Ee;try{if(rn.transition=null,Ee=1,t)return t()}finally{Ee=r,rn.transition=n,ge=e,!(ge&6)&&os()}}function km(){zt=Ai.current,Re(Ai)}function Ss(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,HS(n)),He!==null)for(n=He.return;n!==null;){var r=n;switch(lm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Jc();break;case 3:Xi(),Re(Dt),Re(vt),ym();break;case 5:gm(r);break;case 4:Xi();break;case 13:Re(Oe);break;case 19:Re(Oe);break;case 10:hm(r.type._context);break;case 22:case 23:km()}n=n.return}if(Ze=t,He=t=Wr(t.current,null),it=zt=e,Qe=0,qa=null,Im=Wu=Ms=0,Pt=ma=null,bs!==null){for(e=0;e<bs.length;e++)if(n=bs[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}bs=null}return t}function Iw(t,e){do{var n=He;try{if(dm(),Tc.current=ou,iu){for(var r=De.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}iu=!1}if(Ls=0,Xe=Ge=De=null,fa=!1,$a=0,Tm.current=null,n===null||n.return===null){Qe=1,qa=e,He=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=it,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=l,h=a,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var b=Ry(o);if(b!==null){b.flags&=-257,Py(b,o,a,i,e),b.mode&1&&Ay(i,d,e),e=b,l=d;var k=e.updateQueue;if(k===null){var N=new Set;N.add(l),e.updateQueue=N}else k.add(l);break e}else{if(!(e&1)){Ay(i,d,e),Am();break e}l=Error(W(426))}}else if(Ne&&a.mode&1){var P=Ry(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),Py(P,o,a,i,e),cm(Zi(l,a));break e}}i=l=Zi(l,a),Qe!==4&&(Qe=2),ma===null?ma=[i]:ma.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var A=lw(i,l,e);Ey(i,A);break e;case 1:a=l;var E=i.type,C=i.stateNode;if(!(i.flags&128)&&(typeof E.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(qr===null||!qr.has(C)))){i.flags|=65536,e&=-e,i.lanes|=e;var j=cw(i,a,e);Ey(i,j);break e}}i=i.return}while(i!==null)}kw(n)}catch(U){e=U,He===n&&n!==null&&(He=n=n.return);continue}break}while(!0)}function Sw(){var t=au.current;return au.current=ou,t===null?ou:t}function Am(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),Ze===null||!(Ms&268435455)&&!(Wu&268435455)||Ir(Ze,it)}function uu(t,e){var n=ge;ge|=2;var r=Sw();(Ze!==t||it!==e)&&(qn=null,Ss(t,e));do try{gC();break}catch(s){Iw(t,s)}while(!0);if(dm(),ge=n,au.current=r,He!==null)throw Error(W(261));return Ze=null,it=0,Qe}function gC(){for(;He!==null;)Cw(He)}function yC(){for(;He!==null&&!BI();)Cw(He)}function Cw(t){var e=Rw(t.alternate,t,zt);t.memoizedProps=t.pendingProps,e===null?kw(t):He=e,Tm.current=null}function kw(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=uC(n,e),n!==null){n.flags&=32767,He=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qe=6,He=null;return}}else if(n=cC(n,e,zt),n!==null){He=n;return}if(e=e.sibling,e!==null){He=e;return}He=e=t}while(e!==null);Qe===0&&(Qe=5)}function gs(t,e,n){var r=Ee,s=rn.transition;try{rn.transition=null,Ee=1,vC(t,e,n,r)}finally{rn.transition=s,Ee=r}return null}function vC(t,e,n,r){do Fi();while(Nr!==null);if(ge&6)throw Error(W(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(XI(t,i),t===Ze&&(He=Ze=null,it=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||nc||(nc=!0,Pw(Hc,function(){return Fi(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=rn.transition,rn.transition=null;var o=Ee;Ee=1;var a=ge;ge|=4,Tm.current=null,hC(t,n),bw(n,t),FS(gf),Gc=!!mf,gf=mf=null,t.current=n,fC(n),zI(),ge=a,Ee=o,rn.transition=i}else t.current=n;if(nc&&(nc=!1,Nr=t,cu=s),i=t.pendingLanes,i===0&&(qr=null),WI(n.stateNode),Mt(t,Be()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(lu)throw lu=!1,t=Lf,Lf=null,t;return cu&1&&t.tag!==0&&Fi(),i=t.pendingLanes,i&1?t===Mf?ga++:(ga=0,Mf=t):ga=0,os(),null}function Fi(){if(Nr!==null){var t=lx(cu),e=rn.transition,n=Ee;try{if(rn.transition=null,Ee=16>t?16:t,Nr===null)var r=!1;else{if(t=Nr,Nr=null,cu=0,ge&6)throw Error(W(331));var s=ge;for(ge|=4,Y=t.current;Y!==null;){var i=Y,o=i.child;if(Y.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var d=a[l];for(Y=d;Y!==null;){var h=Y;switch(h.tag){case 0:case 11:case 15:pa(8,h,i)}var p=h.child;if(p!==null)p.return=h,Y=p;else for(;Y!==null;){h=Y;var g=h.sibling,b=h.return;if(_w(h),h===d){Y=null;break}if(g!==null){g.return=b,Y=g;break}Y=b}}}var k=i.alternate;if(k!==null){var N=k.child;if(N!==null){k.child=null;do{var P=N.sibling;N.sibling=null,N=P}while(N!==null)}}Y=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Y=o;else e:for(;Y!==null;){if(i=Y,i.flags&2048)switch(i.tag){case 0:case 11:case 15:pa(9,i,i.return)}var A=i.sibling;if(A!==null){A.return=i.return,Y=A;break e}Y=i.return}}var E=t.current;for(Y=E;Y!==null;){o=Y;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,Y=C;else e:for(o=E;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Hu(9,a)}}catch(U){Fe(a,a.return,U)}if(a===o){Y=null;break e}var j=a.sibling;if(j!==null){j.return=a.return,Y=j;break e}Y=a.return}}if(ge=s,os(),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(Mu,t)}catch{}r=!0}return r}finally{Ee=n,rn.transition=e}}return!1}function qy(t,e,n){e=Zi(n,e),e=lw(t,e,1),t=zr(t,e,1),e=Ct(),t!==null&&(il(t,1,e),Mt(t,e))}function Fe(t,e,n){if(t.tag===3)qy(t,t,n);else for(;e!==null;){if(e.tag===3){qy(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qr===null||!qr.has(r))){t=Zi(n,t),t=cw(e,t,1),e=zr(e,t,1),t=Ct(),e!==null&&(il(e,1,t),Mt(e,t));break}}e=e.return}}function _C(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ct(),t.pingedLanes|=t.suspendedLanes&n,Ze===t&&(it&n)===n&&(Qe===4||Qe===3&&(it&130023424)===it&&500>Be()-Sm?Ss(t,0):Im|=n),Mt(t,e)}function Aw(t,e){e===0&&(t.mode&1?(e=Wl,Wl<<=1,!(Wl&130023424)&&(Wl=4194304)):e=1);var n=Ct();t=er(t,e),t!==null&&(il(t,e,n),Mt(t,n))}function xC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Aw(t,n)}function wC(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),Aw(t,n)}var Rw;Rw=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Dt.current)Ot=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ot=!1,lC(t,e,n);Ot=!!(t.flags&131072)}else Ot=!1,Ne&&e.flags&1048576&&Ox(e,eu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Sc(t,e),t=e.pendingProps;var s=Qi(e,vt.current);Mi(e,n),s=_m(null,e,r,t,s,n);var i=xm();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Lt(r)?(i=!0,Xc(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,pm(e),s.updater=qu,e.stateNode=s,s._reactInternals=e,If(e,r,t,n),e=kf(null,e,r,!0,i,n)):(e.tag=0,Ne&&i&&am(e),Et(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Sc(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=EC(r),t=pn(r,t),s){case 0:e=Cf(null,e,r,t,n);break e;case 1:e=Oy(null,e,r,t,n);break e;case 11:e=Ny(null,e,r,t,n);break e;case 14:e=jy(null,e,r,pn(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:pn(r,s),Cf(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:pn(r,s),Oy(t,e,r,s,n);case 3:e:{if(fw(e),t===null)throw Error(W(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Vx(t,e),ru(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Zi(Error(W(423)),e),e=Dy(t,e,r,n,s);break e}else if(r!==s){s=Zi(Error(W(424)),e),e=Dy(t,e,r,n,s);break e}else for(qt=Br(e.stateNode.containerInfo.firstChild),Wt=e,Ne=!0,yn=null,n=Fx(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Yi(),r===s){e=tr(t,e,n);break e}Et(t,e,r,n)}e=e.child}return e;case 5:return $x(e),t===null&&bf(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,yf(r,s)?o=null:i!==null&&yf(r,i)&&(e.flags|=32),hw(t,e),Et(t,e,o,n),e.child;case 6:return t===null&&bf(e),null;case 13:return pw(t,e,n);case 4:return mm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ji(e,null,r,n):Et(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:pn(r,s),Ny(t,e,r,s,n);case 7:return Et(t,e,e.pendingProps,n),e.child;case 8:return Et(t,e,e.pendingProps.children,n),e.child;case 12:return Et(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ce(tu,r._currentValue),r._currentValue=o,i!==null)if(wn(i.value,o)){if(i.children===s.children&&!Dt.current){e=tr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Jn(-1,n&-n),l.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?l.next=l:(l.next=h.next,h.next=l),d.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Ef(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ef(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Et(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Mi(e,n),s=on(s),r=r(s),e.flags|=1,Et(t,e,r,n),e.child;case 14:return r=e.type,s=pn(r,e.pendingProps),s=pn(r.type,s),jy(t,e,r,s,n);case 15:return uw(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:pn(r,s),Sc(t,e),e.tag=1,Lt(r)?(t=!0,Xc(e)):t=!1,Mi(e,n),aw(e,r,s),If(e,r,s,n),kf(null,e,r,!0,t,n);case 19:return mw(t,e,n);case 22:return dw(t,e,n)}throw Error(W(156,e.tag))};function Pw(t,e){return sx(t,e)}function bC(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(t,e,n,r){return new bC(t,e,n,r)}function Rm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function EC(t){if(typeof t=="function")return Rm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Qp)return 11;if(t===Yp)return 14}return 2}function Wr(t,e){var n=t.alternate;return n===null?(n=nn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ac(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Rm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case _i:return Cs(n.children,s,i,e);case Kp:o=8,s|=8;break;case Kh:return t=nn(12,n,e,s|2),t.elementType=Kh,t.lanes=i,t;case Qh:return t=nn(13,n,e,s),t.elementType=Qh,t.lanes=i,t;case Yh:return t=nn(19,n,e,s),t.elementType=Yh,t.lanes=i,t;case $1:return Gu(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case U1:o=10;break e;case V1:o=9;break e;case Qp:o=11;break e;case Yp:o=14;break e;case wr:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=nn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Cs(t,e,n,r){return t=nn(7,t,r,e),t.lanes=n,t}function Gu(t,e,n,r){return t=nn(22,t,r,e),t.elementType=$1,t.lanes=n,t.stateNode={isHidden:!1},t}function ph(t,e,n){return t=nn(6,t,null,e),t.lanes=n,t}function mh(t,e,n){return e=nn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function TC(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qd(0),this.expirationTimes=Qd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qd(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Pm(t,e,n,r,s,i,o,a,l){return t=new TC(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=nn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},pm(i),t}function IC(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Nw(t){if(!t)return Jr;t=t._reactInternals;e:{if(Ks(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Lt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(Lt(n))return Nx(t,n,e)}return e}function jw(t,e,n,r,s,i,o,a,l){return t=Pm(n,r,!0,t,s,i,o,a,l),t.context=Nw(null),n=t.current,r=Ct(),s=Hr(n),i=Jn(r,s),i.callback=e??null,zr(n,i,s),t.current.lanes=s,il(t,s,r),Mt(t,r),t}function Ku(t,e,n,r){var s=e.current,i=Ct(),o=Hr(s);return n=Nw(n),e.context===null?e.context=n:e.pendingContext=n,e=Jn(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=zr(s,e,o),t!==null&&(xn(t,s,o,i),Ec(t,s,o)),o}function du(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Hy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Nm(t,e){Hy(t,e),(t=t.alternate)&&Hy(t,e)}function SC(){return null}var Ow=typeof reportError=="function"?reportError:function(t){console.error(t)};function jm(t){this._internalRoot=t}Qu.prototype.render=jm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));Ku(t,e,null,null)};Qu.prototype.unmount=jm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Fs(function(){Ku(null,t,null,null)}),e[Zn]=null}};function Qu(t){this._internalRoot=t}Qu.prototype.unstable_scheduleHydration=function(t){if(t){var e=dx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Tr.length&&e!==0&&e<Tr[n].priority;n++);Tr.splice(n,0,t),n===0&&fx(t)}};function Om(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Yu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Wy(){}function CC(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=du(o);i.call(d)}}var o=jw(e,r,t,0,null,!1,!1,"",Wy);return t._reactRootContainer=o,t[Zn]=o.current,La(t.nodeType===8?t.parentNode:t),Fs(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var d=du(l);a.call(d)}}var l=Pm(t,0,!1,null,null,!1,!1,"",Wy);return t._reactRootContainer=l,t[Zn]=l.current,La(t.nodeType===8?t.parentNode:t),Fs(function(){Ku(e,l,n,r)}),l}function Ju(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=du(o);a.call(l)}}Ku(e,o,t,s)}else o=CC(n,e,t,s,r);return du(o)}cx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Zo(e.pendingLanes);n!==0&&(Zp(e,n|1),Mt(e,Be()),!(ge&6)&&(eo=Be()+500,os()))}break;case 13:Fs(function(){var r=er(t,1);if(r!==null){var s=Ct();xn(r,t,1,s)}}),Nm(t,1)}};em=function(t){if(t.tag===13){var e=er(t,134217728);if(e!==null){var n=Ct();xn(e,t,134217728,n)}Nm(t,134217728)}};ux=function(t){if(t.tag===13){var e=Hr(t),n=er(t,e);if(n!==null){var r=Ct();xn(n,t,e,r)}Nm(t,e)}};dx=function(){return Ee};hx=function(t,e){var n=Ee;try{return Ee=t,e()}finally{Ee=n}};af=function(t,e,n){switch(e){case"input":if(Zh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=$u(r);if(!s)throw Error(W(90));z1(r),Zh(r,s)}}}break;case"textarea":H1(t,n);break;case"select":e=n.value,e!=null&&ji(t,!!n.multiple,e,!1)}};X1=Cm;Z1=Fs;var kC={usingClientEntryPoint:!1,Events:[al,Ei,$u,Y1,J1,Cm]},Go={findFiberByHostInstance:ws,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},AC={bundleType:Go.bundleType,version:Go.version,rendererPackageName:Go.rendererPackageName,rendererConfig:Go.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:lr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=nx(t),t===null?null:t.stateNode},findFiberByHostInstance:Go.findFiberByHostInstance||SC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{Mu=rc.inject(AC),Rn=rc}catch{}}Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kC;Jt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Om(e))throw Error(W(200));return IC(t,e,null,n)};Jt.createRoot=function(t,e){if(!Om(t))throw Error(W(299));var n=!1,r="",s=Ow;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Pm(t,1,!1,null,null,n,!1,r,s),t[Zn]=e.current,La(t.nodeType===8?t.parentNode:t),new jm(e)};Jt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=nx(e),t=t===null?null:t.stateNode,t};Jt.flushSync=function(t){return Fs(t)};Jt.hydrate=function(t,e,n){if(!Yu(e))throw Error(W(200));return Ju(null,t,e,!0,n)};Jt.hydrateRoot=function(t,e,n){if(!Om(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Ow;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=jw(e,null,t,1,n??null,s,!1,i,o),t[Zn]=e.current,La(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Qu(e)};Jt.render=function(t,e,n){if(!Yu(e))throw Error(W(200));return Ju(null,t,e,!1,n)};Jt.unmountComponentAtNode=function(t){if(!Yu(t))throw Error(W(40));return t._reactRootContainer?(Fs(function(){Ju(null,null,t,!1,function(){t._reactRootContainer=null,t[Zn]=null})}),!0):!1};Jt.unstable_batchedUpdates=Cm;Jt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Yu(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return Ju(t,e,n,!1,r)};Jt.version="18.3.1-next-f1338f8080-20240426";function Dw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Dw)}catch(t){console.error(t)}}Dw(),D1.exports=Jt;var RC=D1.exports,Lw,Gy=RC;Lw=Gy.createRoot,Gy.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ha(){return Ha=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ha.apply(this,arguments)}var jr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(jr||(jr={}));const Ky="popstate";function PC(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Vf("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:hu(s)}return jC(e,n,null,t)}function We(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Mw(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function NC(){return Math.random().toString(36).substr(2,8)}function Qy(t,e){return{usr:t.state,key:t.key,idx:e}}function Vf(t,e,n,r){return n===void 0&&(n=null),Ha({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?go(e):e,{state:n,key:e&&e.key||r||NC()})}function hu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function go(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function jC(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=jr.Pop,l=null,d=h();d==null&&(d=0,o.replaceState(Ha({},o.state,{idx:d}),""));function h(){return(o.state||{idx:null}).idx}function p(){a=jr.Pop;let P=h(),A=P==null?null:P-d;d=P,l&&l({action:a,location:N.location,delta:A})}function g(P,A){a=jr.Push;let E=Vf(N.location,P,A);d=h()+1;let C=Qy(E,d),j=N.createHref(E);try{o.pushState(C,"",j)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;s.location.assign(j)}i&&l&&l({action:a,location:N.location,delta:1})}function b(P,A){a=jr.Replace;let E=Vf(N.location,P,A);d=h();let C=Qy(E,d),j=N.createHref(E);o.replaceState(C,"",j),i&&l&&l({action:a,location:N.location,delta:0})}function k(P){let A=s.location.origin!=="null"?s.location.origin:s.location.href,E=typeof P=="string"?P:hu(P);return E=E.replace(/ $/,"%20"),We(A,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,A)}let N={get action(){return a},get location(){return t(s,o)},listen(P){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Ky,p),l=P,()=>{s.removeEventListener(Ky,p),l=null}},createHref(P){return e(s,P)},createURL:k,encodeLocation(P){let A=k(P);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:g,replace:b,go(P){return o.go(P)}};return N}var Yy;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Yy||(Yy={}));function OC(t,e,n){return n===void 0&&(n="/"),DC(t,e,n,!1)}function DC(t,e,n,r){let s=typeof e=="string"?go(e):e,i=Dm(s.pathname||"/",n);if(i==null)return null;let o=Fw(t);LC(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let d=GC(i);a=HC(o[l],d,r)}return a}function Fw(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(We(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let d=Gr([r,l.relativePath]),h=n.concat(l);i.children&&i.children.length>0&&(We(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Fw(i.children,e,h,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:zC(d,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of Uw(i.path))s(i,o,l)}),e}function Uw(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Uw(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function LC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:qC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const MC=/^:[\w-]+$/,FC=3,UC=2,VC=1,$C=10,BC=-2,Jy=t=>t==="*";function zC(t,e){let n=t.split("/"),r=n.length;return n.some(Jy)&&(r+=BC),e&&(r+=UC),n.filter(s=>!Jy(s)).reduce((s,i)=>s+(MC.test(i)?FC:i===""?VC:$C),r)}function qC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function HC(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],d=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",p=Xy({path:l.relativePath,caseSensitive:l.caseSensitive,end:d},h),g=l.route;if(!p&&d&&n&&!r[r.length-1].route.index&&(p=Xy({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:Gr([i,p.pathname]),pathnameBase:JC(Gr([i,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(i=Gr([i,p.pathnameBase]))}return o}function Xy(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=WC(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((d,h,p)=>{let{paramName:g,isOptional:b}=h;if(g==="*"){let N=a[p]||"";o=i.slice(0,i.length-N.length).replace(/(.)\/+$/,"$1")}const k=a[p];return b&&!k?d[g]=void 0:d[g]=(k||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function WC(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Mw(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function GC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Mw(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Dm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function KC(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?go(t):t;return{pathname:n?n.startsWith("/")?n:QC(n,e):e,search:XC(r),hash:ZC(s)}}function QC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function gh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function YC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Vw(t,e){let n=YC(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function $w(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=go(t):(s=Ha({},t),We(!s.pathname||!s.pathname.includes("?"),gh("?","pathname","search",s)),We(!s.pathname||!s.pathname.includes("#"),gh("#","pathname","hash",s)),We(!s.search||!s.search.includes("#"),gh("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;s.pathname=g.join("/")}a=p>=0?e[p]:"/"}let l=KC(s,a),d=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(d||h)&&(l.pathname+="/"),l}const Gr=t=>t.join("/").replace(/\/\/+/g,"/"),JC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),XC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ZC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ek(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Bw=["post","put","patch","delete"];new Set(Bw);const tk=["get",...Bw];new Set(tk);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wa(){return Wa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wa.apply(this,arguments)}const Lm=O.createContext(null),nk=O.createContext(null),Qs=O.createContext(null),Xu=O.createContext(null),Ys=O.createContext({outlet:null,matches:[],isDataRoute:!1}),zw=O.createContext(null);function rk(t,e){let{relative:n}=e===void 0?{}:e;cl()||We(!1);let{basename:r,navigator:s}=O.useContext(Qs),{hash:i,pathname:o,search:a}=Hw(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Gr([r,o])),s.createHref({pathname:l,search:a,hash:i})}function cl(){return O.useContext(Xu)!=null}function Zu(){return cl()||We(!1),O.useContext(Xu).location}function qw(t){O.useContext(Qs).static||O.useLayoutEffect(t)}function Js(){let{isDataRoute:t}=O.useContext(Ys);return t?gk():sk()}function sk(){cl()||We(!1);let t=O.useContext(Lm),{basename:e,future:n,navigator:r}=O.useContext(Qs),{matches:s}=O.useContext(Ys),{pathname:i}=Zu(),o=JSON.stringify(Vw(s,n.v7_relativeSplatPath)),a=O.useRef(!1);return qw(()=>{a.current=!0}),O.useCallback(function(d,h){if(h===void 0&&(h={}),!a.current)return;if(typeof d=="number"){r.go(d);return}let p=$w(d,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Gr([e,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[e,r,o,i,t])}function Hw(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=O.useContext(Qs),{matches:s}=O.useContext(Ys),{pathname:i}=Zu(),o=JSON.stringify(Vw(s,r.v7_relativeSplatPath));return O.useMemo(()=>$w(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function ik(t,e){return ok(t,e)}function ok(t,e,n,r){cl()||We(!1);let{navigator:s}=O.useContext(Qs),{matches:i}=O.useContext(Ys),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let d=Zu(),h;if(e){var p;let P=typeof e=="string"?go(e):e;l==="/"||(p=P.pathname)!=null&&p.startsWith(l)||We(!1),h=P}else h=d;let g=h.pathname||"/",b=g;if(l!=="/"){let P=l.replace(/^\//,"").split("/");b="/"+g.replace(/^\//,"").split("/").slice(P.length).join("/")}let k=OC(t,{pathname:b}),N=dk(k&&k.map(P=>Object.assign({},P,{params:Object.assign({},a,P.params),pathname:Gr([l,s.encodeLocation?s.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?l:Gr([l,s.encodeLocation?s.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),i,n,r);return e&&N?O.createElement(Xu.Provider,{value:{location:Wa({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:jr.Pop}},N):N}function ak(){let t=mk(),e=ek(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:s},n):null,null)}const lk=O.createElement(ak,null);class ck extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?O.createElement(Ys.Provider,{value:this.props.routeContext},O.createElement(zw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function uk(t){let{routeContext:e,match:n,children:r}=t,s=O.useContext(Lm);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),O.createElement(Ys.Provider,{value:e},r)}function dk(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);h>=0||We(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let p=o[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=h),p.route.id){let{loaderData:g,errors:b}=n,k=p.route.loader&&g[p.route.id]===void 0&&(!b||b[p.route.id]===void 0);if(p.route.lazy||k){l=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((h,p,g)=>{let b,k=!1,N=null,P=null;n&&(b=a&&p.route.id?a[p.route.id]:void 0,N=p.route.errorElement||lk,l&&(d<0&&g===0?(k=!0,P=null):d===g&&(k=!0,P=p.route.hydrateFallbackElement||null)));let A=e.concat(o.slice(0,g+1)),E=()=>{let C;return b?C=N:k?C=P:p.route.Component?C=O.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=h,O.createElement(uk,{match:p,routeContext:{outlet:h,matches:A,isDataRoute:n!=null},children:C})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?O.createElement(ck,{location:n.location,revalidation:n.revalidation,component:N,error:b,children:E(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):E()},null)}var Ww=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Ww||{}),fu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(fu||{});function hk(t){let e=O.useContext(Lm);return e||We(!1),e}function fk(t){let e=O.useContext(nk);return e||We(!1),e}function pk(t){let e=O.useContext(Ys);return e||We(!1),e}function Gw(t){let e=pk(),n=e.matches[e.matches.length-1];return n.route.id||We(!1),n.route.id}function mk(){var t;let e=O.useContext(zw),n=fk(fu.UseRouteError),r=Gw(fu.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function gk(){let{router:t}=hk(Ww.UseNavigateStable),e=Gw(fu.UseNavigateStable),n=O.useRef(!1);return qw(()=>{n.current=!0}),O.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Wa({fromRouteId:e},i)))},[t,e])}function Tt(t){We(!1)}function yk(t){let{basename:e="/",children:n=null,location:r,navigationType:s=jr.Pop,navigator:i,static:o=!1,future:a}=t;cl()&&We(!1);let l=e.replace(/^\/*/,"/"),d=O.useMemo(()=>({basename:l,navigator:i,static:o,future:Wa({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=go(r));let{pathname:h="/",search:p="",hash:g="",state:b=null,key:k="default"}=r,N=O.useMemo(()=>{let P=Dm(h,l);return P==null?null:{location:{pathname:P,search:p,hash:g,state:b,key:k},navigationType:s}},[l,h,p,g,b,k,s]);return N==null?null:O.createElement(Qs.Provider,{value:d},O.createElement(Xu.Provider,{children:n,value:N}))}function Kw(t){let{children:e,location:n}=t;return ik($f(e),n)}new Promise(()=>{});function $f(t,e){e===void 0&&(e=[]);let n=[];return O.Children.forEach(t,(r,s)=>{if(!O.isValidElement(r))return;let i=[...e,s];if(r.type===O.Fragment){n.push.apply(n,$f(r.props.children,i));return}r.type!==Tt&&We(!1),!r.props.index||!r.props.children||We(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=$f(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bf(){return Bf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bf.apply(this,arguments)}function vk(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function _k(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function xk(t,e){return t.button===0&&(!e||e==="_self")&&!_k(t)}const wk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],bk="6";try{window.__reactRouterVersion=bk}catch{}const Ek="startTransition",Zy=_I[Ek];function Tk(t){let{basename:e,children:n,future:r,window:s}=t,i=O.useRef();i.current==null&&(i.current=PC({window:s,v5Compat:!0}));let o=i.current,[a,l]=O.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},h=O.useCallback(p=>{d&&Zy?Zy(()=>l(p)):l(p)},[l,d]);return O.useLayoutEffect(()=>o.listen(h),[o,h]),O.createElement(yk,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const Ik=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Sk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,di=O.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:d,preventScrollReset:h,unstable_viewTransition:p}=e,g=vk(e,wk),{basename:b}=O.useContext(Qs),k,N=!1;if(typeof d=="string"&&Sk.test(d)&&(k=d,Ik))try{let C=new URL(window.location.href),j=d.startsWith("//")?new URL(C.protocol+d):new URL(d),U=Dm(j.pathname,b);j.origin===C.origin&&U!=null?d=U+j.search+j.hash:N=!0}catch{}let P=rk(d,{relative:s}),A=Ck(d,{replace:o,state:a,target:l,preventScrollReset:h,relative:s,unstable_viewTransition:p});function E(C){r&&r(C),C.defaultPrevented||A(C)}return O.createElement("a",Bf({},g,{href:k||P,onClick:N||i?r:E,ref:n,target:l}))});var ev;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ev||(ev={}));var tv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(tv||(tv={}));function Ck(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Js(),d=Zu(),h=Hw(t,{relative:o});return O.useCallback(p=>{if(xk(p,n)){p.preventDefault();let g=r!==void 0?r:hu(d)===hu(h);l(t,{replace:g,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a})}},[d,l,h,r,s,n,t,i,o,a])}var nt=[];for(var yh=0;yh<256;++yh)nt.push((yh+256).toString(16).slice(1));function kk(t,e=0){return(nt[t[e+0]]+nt[t[e+1]]+nt[t[e+2]]+nt[t[e+3]]+"-"+nt[t[e+4]]+nt[t[e+5]]+"-"+nt[t[e+6]]+nt[t[e+7]]+"-"+nt[t[e+8]]+nt[t[e+9]]+"-"+nt[t[e+10]]+nt[t[e+11]]+nt[t[e+12]]+nt[t[e+13]]+nt[t[e+14]]+nt[t[e+15]]).toLowerCase()}var sc,Ak=new Uint8Array(16);function Rk(){if(!sc&&(sc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!sc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return sc(Ak)}var Pk=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const nv={randomUUID:Pk};function Mm(t,e,n){if(nv.randomUUID&&!e&&!t)return nv.randomUUID();t=t||{};var r=t.random||(t.rng||Rk)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,kk(r)}function Nk(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Qw={exports:{}};const jk={},Ok=Object.freeze(Object.defineProperty({__proto__:null,default:jk},Symbol.toStringTag,{value:"Module"})),Dk=E1(Ok);(function(t){/**
 * @license bcrypt.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/bcrypt.js for details
 */(function(e,n){typeof Nk=="function"&&t&&t.exports?t.exports=n():(e.dcodeIO=e.dcodeIO||{}).bcrypt=n()})(Qt,function(){var e={},n=null;function r(w){if(t&&t.exports)try{return Dk.randomBytes(w)}catch{}try{var I;return(self.crypto||self.msCrypto).getRandomValues(I=new Uint32Array(w)),Array.prototype.slice.call(I)}catch{}if(!n)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return n(w)}var s=!1;try{r(1),s=!0}catch{}n=null,e.setRandomFallback=function(w){n=w},e.genSaltSync=function(w,I){if(w=w||N,typeof w!="number")throw Error("Illegal arguments: "+typeof w+", "+typeof I);w<4?w=4:w>31&&(w=31);var _=[];return _.push("$2a$"),w<10&&_.push("0"),_.push(w.toString()),_.push("$"),_.push(p(r(k),k)),_.join("")},e.genSalt=function(w,I,_){if(typeof I=="function"&&(_=I,I=void 0),typeof w=="function"&&(_=w,w=void 0),typeof w>"u")w=N;else if(typeof w!="number")throw Error("illegal arguments: "+typeof w);function D(T){o(function(){try{T(null,e.genSaltSync(w))}catch(M){T(M)}})}if(_){if(typeof _!="function")throw Error("Illegal callback: "+typeof _);D(_)}else return new Promise(function(T,M){D(function($,V){if($){M($);return}T(V)})})},e.hashSync=function(w,I){if(typeof I>"u"&&(I=N),typeof I=="number"&&(I=e.genSaltSync(I)),typeof w!="string"||typeof I!="string")throw Error("Illegal arguments: "+typeof w+", "+typeof I);return R(w,I)},e.hash=function(w,I,_,D){function T(M){typeof w=="string"&&typeof I=="number"?e.genSalt(I,function($,V){R(w,V,M,D)}):typeof w=="string"&&typeof I=="string"?R(w,I,M,D):o(M.bind(this,Error("Illegal arguments: "+typeof w+", "+typeof I)))}if(_){if(typeof _!="function")throw Error("Illegal callback: "+typeof _);T(_)}else return new Promise(function(M,$){T(function(V,z){if(V){$(V);return}M(z)})})};function i(w,I){for(var _=0,D=0,T=0,M=w.length;T<M;++T)w.charCodeAt(T)===I.charCodeAt(T)?++_:++D;return _<0?!1:D===0}e.compareSync=function(w,I){if(typeof w!="string"||typeof I!="string")throw Error("Illegal arguments: "+typeof w+", "+typeof I);return I.length!==60?!1:i(e.hashSync(w,I.substr(0,I.length-31)),I)},e.compare=function(w,I,_,D){function T(M){if(typeof w!="string"||typeof I!="string"){o(M.bind(this,Error("Illegal arguments: "+typeof w+", "+typeof I)));return}if(I.length!==60){o(M.bind(this,null,!1));return}e.hash(w,I.substr(0,29),function($,V){$?M($):M(null,i(V,I))},D)}if(_){if(typeof _!="function")throw Error("Illegal callback: "+typeof _);T(_)}else return new Promise(function(M,$){T(function(V,z){if(V){$(V);return}M(z)})})},e.getRounds=function(w){if(typeof w!="string")throw Error("Illegal arguments: "+typeof w);return parseInt(w.split("$")[2],10)},e.getSalt=function(w){if(typeof w!="string")throw Error("Illegal arguments: "+typeof w);if(w.length!==60)throw Error("Illegal hash length: "+w.length+" != 60");return w.substring(0,29)};var o=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function a(w){var I=[],_=0;return b.encodeUTF16toUTF8(function(){return _>=w.length?null:w.charCodeAt(_++)},function(D){I.push(D)}),I}var l="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),d=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1],h=String.fromCharCode;function p(w,I){var _=0,D=[],T,M;if(I<=0||I>w.length)throw Error("Illegal len: "+I);for(;_<I;){if(T=w[_++]&255,D.push(l[T>>2&63]),T=(T&3)<<4,_>=I){D.push(l[T&63]);break}if(M=w[_++]&255,T|=M>>4&15,D.push(l[T&63]),T=(M&15)<<2,_>=I){D.push(l[T&63]);break}M=w[_++]&255,T|=M>>6&3,D.push(l[T&63]),D.push(l[M&63])}return D.join("")}function g(w,I){var _=0,D=w.length,T=0,M=[],$,V,z,H,Q,J;if(I<=0)throw Error("Illegal len: "+I);for(;_<D-1&&T<I&&(J=w.charCodeAt(_++),$=J<d.length?d[J]:-1,J=w.charCodeAt(_++),V=J<d.length?d[J]:-1,!($==-1||V==-1||(Q=$<<2>>>0,Q|=(V&48)>>4,M.push(h(Q)),++T>=I||_>=D)||(J=w.charCodeAt(_++),z=J<d.length?d[J]:-1,z==-1)||(Q=(V&15)<<4>>>0,Q|=(z&60)>>2,M.push(h(Q)),++T>=I||_>=D)));)J=w.charCodeAt(_++),H=J<d.length?d[J]:-1,Q=(z&3)<<6>>>0,Q|=H,M.push(h(Q)),++T;var ee=[];for(_=0;_<T;_++)ee.push(M[_].charCodeAt(0));return ee}var b=function(){var w={};return w.MAX_CODEPOINT=1114111,w.encodeUTF8=function(I,_){var D=null;for(typeof I=="number"&&(D=I,I=function(){return null});D!==null||(D=I())!==null;)D<128?_(D&127):D<2048?(_(D>>6&31|192),_(D&63|128)):D<65536?(_(D>>12&15|224),_(D>>6&63|128),_(D&63|128)):(_(D>>18&7|240),_(D>>12&63|128),_(D>>6&63|128),_(D&63|128)),D=null},w.decodeUTF8=function(I,_){for(var D,T,M,$,V=function(z){z=z.slice(0,z.indexOf(null));var H=Error(z.toString());throw H.name="TruncatedError",H.bytes=z,H};(D=I())!==null;)if(!(D&128))_(D);else if((D&224)===192)(T=I())===null&&V([D,T]),_((D&31)<<6|T&63);else if((D&240)===224)((T=I())===null||(M=I())===null)&&V([D,T,M]),_((D&15)<<12|(T&63)<<6|M&63);else if((D&248)===240)((T=I())===null||(M=I())===null||($=I())===null)&&V([D,T,M,$]),_((D&7)<<18|(T&63)<<12|(M&63)<<6|$&63);else throw RangeError("Illegal starting byte: "+D)},w.UTF16toUTF8=function(I,_){for(var D,T=null;(D=T!==null?T:I())!==null;){if(D>=55296&&D<=57343&&(T=I())!==null&&T>=56320&&T<=57343){_((D-55296)*1024+T-56320+65536),T=null;continue}_(D)}T!==null&&_(T)},w.UTF8toUTF16=function(I,_){var D=null;for(typeof I=="number"&&(D=I,I=function(){return null});D!==null||(D=I())!==null;)D<=65535?_(D):(D-=65536,_((D>>10)+55296),_(D%1024+56320)),D=null},w.encodeUTF16toUTF8=function(I,_){w.UTF16toUTF8(I,function(D){w.encodeUTF8(D,_)})},w.decodeUTF8toUTF16=function(I,_){w.decodeUTF8(I,function(D){w.UTF8toUTF16(D,_)})},w.calculateCodePoint=function(I){return I<128?1:I<2048?2:I<65536?3:4},w.calculateUTF8=function(I){for(var _,D=0;(_=I())!==null;)D+=w.calculateCodePoint(_);return D},w.calculateUTF16asUTF8=function(I){var _=0,D=0;return w.UTF16toUTF8(I,function(T){++_,D+=w.calculateCodePoint(T)}),[_,D]},w}();Date.now=Date.now||function(){return+new Date};var k=16,N=10,P=16,A=100,E=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],C=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],j=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function U(w,I,_,D){var T,M=w[I],$=w[I+1];return M^=_[0],T=D[M>>>24],T+=D[256|M>>16&255],T^=D[512|M>>8&255],T+=D[768|M&255],$^=T^_[1],T=D[$>>>24],T+=D[256|$>>16&255],T^=D[512|$>>8&255],T+=D[768|$&255],M^=T^_[2],T=D[M>>>24],T+=D[256|M>>16&255],T^=D[512|M>>8&255],T+=D[768|M&255],$^=T^_[3],T=D[$>>>24],T+=D[256|$>>16&255],T^=D[512|$>>8&255],T+=D[768|$&255],M^=T^_[4],T=D[M>>>24],T+=D[256|M>>16&255],T^=D[512|M>>8&255],T+=D[768|M&255],$^=T^_[5],T=D[$>>>24],T+=D[256|$>>16&255],T^=D[512|$>>8&255],T+=D[768|$&255],M^=T^_[6],T=D[M>>>24],T+=D[256|M>>16&255],T^=D[512|M>>8&255],T+=D[768|M&255],$^=T^_[7],T=D[$>>>24],T+=D[256|$>>16&255],T^=D[512|$>>8&255],T+=D[768|$&255],M^=T^_[8],T=D[M>>>24],T+=D[256|M>>16&255],T^=D[512|M>>8&255],T+=D[768|M&255],$^=T^_[9],T=D[$>>>24],T+=D[256|$>>16&255],T^=D[512|$>>8&255],T+=D[768|$&255],M^=T^_[10],T=D[M>>>24],T+=D[256|M>>16&255],T^=D[512|M>>8&255],T+=D[768|M&255],$^=T^_[11],T=D[$>>>24],T+=D[256|$>>16&255],T^=D[512|$>>8&255],T+=D[768|$&255],M^=T^_[12],T=D[M>>>24],T+=D[256|M>>16&255],T^=D[512|M>>8&255],T+=D[768|M&255],$^=T^_[13],T=D[$>>>24],T+=D[256|$>>16&255],T^=D[512|$>>8&255],T+=D[768|$&255],M^=T^_[14],T=D[M>>>24],T+=D[256|M>>16&255],T^=D[512|M>>8&255],T+=D[768|M&255],$^=T^_[15],T=D[$>>>24],T+=D[256|$>>16&255],T^=D[512|$>>8&255],T+=D[768|$&255],M^=T^_[16],w[I]=$^_[P+1],w[I+1]=M,w}function L(w,I){for(var _=0,D=0;_<4;++_)D=D<<8|w[I]&255,I=(I+1)%w.length;return{key:D,offp:I}}function v(w,I,_){for(var D=0,T=[0,0],M=I.length,$=_.length,V,z=0;z<M;z++)V=L(w,D),D=V.offp,I[z]=I[z]^V.key;for(z=0;z<M;z+=2)T=U(T,0,I,_),I[z]=T[0],I[z+1]=T[1];for(z=0;z<$;z+=2)T=U(T,0,I,_),_[z]=T[0],_[z+1]=T[1]}function y(w,I,_,D){for(var T=0,M=[0,0],$=_.length,V=D.length,z,H=0;H<$;H++)z=L(I,T),T=z.offp,_[H]=_[H]^z.key;for(T=0,H=0;H<$;H+=2)z=L(w,T),T=z.offp,M[0]^=z.key,z=L(w,T),T=z.offp,M[1]^=z.key,M=U(M,0,_,D),_[H]=M[0],_[H+1]=M[1];for(H=0;H<V;H+=2)z=L(w,T),T=z.offp,M[0]^=z.key,z=L(w,T),T=z.offp,M[1]^=z.key,M=U(M,0,_,D),D[H]=M[0],D[H+1]=M[1]}function x(w,I,_,D,T){var M=j.slice(),$=M.length,V;if(_<4||_>31)if(V=Error("Illegal number of rounds (4-31): "+_),D){o(D.bind(this,V));return}else throw V;if(I.length!==k)if(V=Error("Illegal salt length: "+I.length+" != "+k),D){o(D.bind(this,V));return}else throw V;_=1<<_>>>0;var z,H,Q=0,J;Int32Array?(z=new Int32Array(E),H=new Int32Array(C)):(z=E.slice(),H=C.slice()),y(I,w,z,H);function ee(){if(T&&T(Q/_),Q<_)for(var be=Date.now();Q<_&&(Q=Q+1,v(w,z,H),v(I,z,H),!(Date.now()-be>A)););else{for(Q=0;Q<64;Q++)for(J=0;J<$>>1;J++)U(M,J<<1,z,H);var le=[];for(Q=0;Q<$;Q++)le.push((M[Q]>>24&255)>>>0),le.push((M[Q]>>16&255)>>>0),le.push((M[Q]>>8&255)>>>0),le.push((M[Q]&255)>>>0);if(D){D(null,le);return}else return le}D&&o(ee)}if(typeof D<"u")ee();else for(var we;;)if(typeof(we=ee())<"u")return we||[]}function R(w,I,_,D){var T;if(typeof w!="string"||typeof I!="string")if(T=Error("Invalid string / salt: Not a string"),_){o(_.bind(this,T));return}else throw T;var M,$;if(I.charAt(0)!=="$"||I.charAt(1)!=="2")if(T=Error("Invalid salt version: "+I.substring(0,2)),_){o(_.bind(this,T));return}else throw T;if(I.charAt(2)==="$")M="\0",$=3;else{if(M=I.charAt(2),M!=="a"&&M!=="b"&&M!=="y"||I.charAt(3)!=="$")if(T=Error("Invalid salt revision: "+I.substring(2,4)),_){o(_.bind(this,T));return}else throw T;$=4}if(I.charAt($+2)>"$")if(T=Error("Missing salt rounds"),_){o(_.bind(this,T));return}else throw T;var V=parseInt(I.substring($,$+1),10)*10,z=parseInt(I.substring($+1,$+2),10),H=V+z,Q=I.substring($+3,$+25);w+=M>="a"?"\0":"";var J=a(w),ee=g(Q,k);function we(be){var le=[];return le.push("$2"),M>="a"&&le.push(M),le.push("$"),H<10&&le.push("0"),le.push(H.toString()),le.push("$"),le.push(p(ee,ee.length)),le.push(p(be,j.length*4-1)),le.join("")}if(typeof _>"u")return we(x(J,ee,H));x(J,ee,H,function(be,le){be?_(be,null):_(null,we(le))},D)}return e.encodeBase64=p,e.decodeBase64=g,e})})(Qw);var Lk=Qw.exports;const Yw=Vp(Lk),Mk="modulepreload",Fk=function(t){return"/systemproj/"+t},rv={},to=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=Fk(l),l in rv)return;rv[l]=!0;const d=l.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":Mk,d||(p.as="script"),p.crossOrigin="",p.href=l,a&&p.setAttribute("nonce",a),document.head.appendChild(p),d)return new Promise((g,b)=>{p.addEventListener("load",g),p.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Uk=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>to(async()=>{const{default:r}=await Promise.resolve().then(()=>yo);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Fm extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Vk extends Fm{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class $k extends Fm{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Bk extends Fm{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var zf;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(zf||(zf={}));var zk=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(h){try{d(r.next(h))}catch(p){o(p)}}function l(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?i(h.value):s(h.value).then(a,l)}d((r=r.apply(t,e||[])).next())})};class qk{constructor(e,{headers:n={},customFetch:r,region:s=zf.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=Uk(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return zk(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(a["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(a["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:d}).catch(k=>{throw new Vk(k)}),p=h.headers.get("x-relay-error");if(p&&p==="true")throw new $k(h);if(!h.ok)throw new Bk(h);let g=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),b;return g==="application/json"?b=yield h.json():g==="application/octet-stream"?b=yield h.blob():g==="text/event-stream"?b=h:g==="multipart/form-data"?b=yield h.formData():b=yield h.text(),{data:b,error:null}}catch(s){return{data:null,error:s}}})}}var Nt={},Um={},ed={},ul={},td={},nd={},Hk=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},no=Hk();const Wk=no.fetch,Jw=no.fetch.bind(no),Xw=no.Headers,Gk=no.Request,Kk=no.Response,yo=Object.freeze(Object.defineProperty({__proto__:null,Headers:Xw,Request:Gk,Response:Kk,default:Jw,fetch:Wk},Symbol.toStringTag,{value:"Module"})),Qk=E1(yo);var rd={};Object.defineProperty(rd,"__esModule",{value:!0});class Yk extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}rd.default=Yk;var Zw=Qt&&Qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(nd,"__esModule",{value:!0});const Jk=Zw(Qk),Xk=Zw(rd);let Zk=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Jk.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let d=null,h=null,p=null,g=i.status,b=i.statusText;if(i.ok){if(this.method!=="HEAD"){const A=await i.text();A===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?h=A:h=JSON.parse(A))}const N=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),P=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");N&&P&&P.length>1&&(p=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,p=null,g=406,b="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const N=await i.text();try{d=JSON.parse(N),Array.isArray(d)&&i.status===404&&(h=[],d=null,g=200,b="OK")}catch{i.status===404&&N===""?(g=204,b="No Content"):d={message:N}}if(d&&this.isMaybeSingle&&(!((l=d==null?void 0:d.details)===null||l===void 0)&&l.includes("0 rows"))&&(d=null,g=200,b="OK"),d&&this.shouldThrowOnError)throw new Xk.default(d)}return{error:d,data:h,count:p,status:g,statusText:b}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}};nd.default=Zk;var eA=Qt&&Qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(td,"__esModule",{value:!0});const tA=eA(nd);let nA=class extends tA.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${d}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};td.default=nA;var rA=Qt&&Qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ul,"__esModule",{value:!0});const sA=rA(td);let iA=class extends sA.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};ul.default=iA;var oA=Qt&&Qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ed,"__esModule",{value:!0});const Ko=oA(ul);let aA=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Ko.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Ko.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(l.length>0){const d=[...new Set(l)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new Ko.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Ko.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Ko.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ed.default=aA;var sd={},id={};Object.defineProperty(id,"__esModule",{value:!0});id.version=void 0;id.version="0.0.0-automated";Object.defineProperty(sd,"__esModule",{value:!0});sd.DEFAULT_HEADERS=void 0;const lA=id;sd.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${lA.version}`};var eb=Qt&&Qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Um,"__esModule",{value:!0});const cA=eb(ed),uA=eb(ul),dA=sd;let hA=class tb{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},dA.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new cA.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new tb(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([h,p])=>p!==void 0).map(([h,p])=>[h,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([h,p])=>{a.searchParams.append(h,p)})):(o="POST",l=n);const d=Object.assign({},this.headers);return i&&(d.Prefer=`count=${i}`),new uA.default({method:o,url:a,headers:d,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Um.default=hA;var vo=Qt&&Qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Nt,"__esModule",{value:!0});Nt.PostgrestError=Nt.PostgrestBuilder=Nt.PostgrestTransformBuilder=Nt.PostgrestFilterBuilder=Nt.PostgrestQueryBuilder=Nt.PostgrestClient=void 0;const nb=vo(Um);Nt.PostgrestClient=nb.default;const rb=vo(ed);Nt.PostgrestQueryBuilder=rb.default;const sb=vo(ul);Nt.PostgrestFilterBuilder=sb.default;const ib=vo(td);Nt.PostgrestTransformBuilder=ib.default;const ob=vo(nd);Nt.PostgrestBuilder=ob.default;const ab=vo(rd);Nt.PostgrestError=ab.default;var fA=Nt.default={PostgrestClient:nb.default,PostgrestQueryBuilder:rb.default,PostgrestFilterBuilder:sb.default,PostgrestTransformBuilder:ib.default,PostgrestBuilder:ob.default,PostgrestError:ab.default};const{PostgrestClient:pA,PostgrestQueryBuilder:ZL,PostgrestFilterBuilder:e8,PostgrestTransformBuilder:t8,PostgrestBuilder:n8}=fA,mA="2.10.7",gA={"X-Client-Info":`realtime-js/${mA}`},yA="1.0.0",lb=1e4,vA=1e3;var Ui;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ui||(Ui={}));var Bt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Bt||(Bt={}));var gn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(gn||(gn={}));var qf;(function(t){t.websocket="websocket"})(qf||(qf={}));var _s;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(_s||(_s={}));class _A{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const l=r.decode(e.slice(o,o+i));o=o+i;const d=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:d}}}class cb{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Se;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Se||(Se={}));const sv=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=xA(o,t,e,s),i),{})},xA=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?ub(i,o):Hf(o)},ub=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return TA(e,n)}switch(t){case Se.bool:return wA(e);case Se.float4:case Se.float8:case Se.int2:case Se.int4:case Se.int8:case Se.numeric:case Se.oid:return bA(e);case Se.json:case Se.jsonb:return EA(e);case Se.timestamp:return IA(e);case Se.abstime:case Se.date:case Se.daterange:case Se.int4range:case Se.int8range:case Se.money:case Se.reltime:case Se.text:case Se.time:case Se.timestamptz:case Se.timetz:case Se.tsrange:case Se.tstzrange:return Hf(e);default:return Hf(e)}},Hf=t=>t,wA=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},bA=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},EA=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},TA=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>ub(e,a))}return t},IA=t=>typeof t=="string"?t.replace(" ","T"):t,db=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class vh{constructor(e,n,r={},s=lb){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var iv;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(iv||(iv={}));class ya{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ya.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=ya.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ya.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(d,h)=>{o[d]||(l[d]=h)}),this.map(o,(d,h)=>{const p=i[d];if(p){const g=h.map(P=>P.presence_ref),b=p.map(P=>P.presence_ref),k=h.filter(P=>b.indexOf(P.presence_ref)<0),N=p.filter(P=>g.indexOf(P.presence_ref)<0);k.length>0&&(a[d]=k),N.length>0&&(l[d]=N)}else a[d]=h}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var d;const h=(d=e[a])!==null&&d!==void 0?d:[];if(e[a]=this.cloneDeep(l),h.length>0){const p=e[a].map(b=>b.presence_ref),g=h.filter(b=>p.indexOf(b.presence_ref)<0);e[a].unshift(...g)}r(a,h,l)}),this.map(o,(a,l)=>{let d=e[a];if(!d)return;const h=l.map(p=>p.presence_ref);d=d.filter(p=>h.indexOf(p.presence_ref)<0),e[a]=d,s(a,d,l),d.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ov;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(ov||(ov={}));var av;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(av||(av={}));var lv;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(lv||(lv={}));class Vm{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Bt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new vh(this,gn.join,this.params,this.timeout),this.rejoinTimer=new cb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Bt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Bt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(gn.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new ya(this),this.broadcastEndpointURL=db(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(h=>e&&e("CHANNEL_ERROR",h)),this._onClose(()=>e&&e("CLOSED"));const l={},d={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessToken&&(l.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:d},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",({postgres_changes:h})=>{var p;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),h===void 0){e&&e("SUBSCRIBED");return}else{const g=this.bindings.postgres_changes,b=(p=g==null?void 0:g.length)!==null&&p!==void 0?p:0,k=[];for(let N=0;N<b;N++){const P=g[N],{filter:{event:A,schema:E,table:C,filter:j}}=P,U=h&&h[N];if(U&&U.event===A&&U.schema===E&&U.table===C&&U.filter===j)k.push(Object.assign(Object.assign({},P),{id:U.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,e&&e("SUBSCRIBED");return}}).receive("error",h=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=l.body)===null||s===void 0?void 0:s.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const d=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Bt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(gn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new vh(this,gn.leave,{},e);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new vh(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:d,join:h}=gn;if(r&&[a,l,d,h].indexOf(o)>=0&&r!==this._joinRef())return;let g=this._onMessage(o,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(b=>{var k,N,P;return((k=b.filter)===null||k===void 0?void 0:k.event)==="*"||((P=(N=b.filter)===null||N===void 0?void 0:N.event)===null||P===void 0?void 0:P.toLocaleLowerCase())===o}).map(b=>b.callback(g,r)):(i=this.bindings[o])===null||i===void 0||i.filter(b=>{var k,N,P,A,E,C;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in b){const j=b.id,U=(k=b.filter)===null||k===void 0?void 0:k.event;return j&&((N=n.ids)===null||N===void 0?void 0:N.includes(j))&&(U==="*"||(U==null?void 0:U.toLocaleLowerCase())===((P=n.data)===null||P===void 0?void 0:P.type.toLocaleLowerCase()))}else{const j=(E=(A=b==null?void 0:b.filter)===null||A===void 0?void 0:A.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return j==="*"||j===((C=n==null?void 0:n.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===o}).map(b=>{if(typeof g=="object"&&"ids"in g){const k=g.data,{schema:N,table:P,commit_timestamp:A,type:E,errors:C}=k;g=Object.assign(Object.assign({},{schema:N,table:P,commit_timestamp:A,eventType:E,new:{},old:{},errors:C}),this._getPayloadRecords(k))}b.callback(g,r)})}_isClosed(){return this.state===Bt.closed}_isJoined(){return this.state===Bt.joined}_isJoining(){return this.state===Bt.joining}_isLeaving(){return this.state===Bt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Vm.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(gn.close,{},e)}_onError(e){this._on(gn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Bt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=sv(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=sv(e.columns,e.old_record)),n}}const SA=()=>{},CA=typeof WebSocket<"u",kA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class AA{constructor(e,n){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=gA,this.params={},this.timeout=lb,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=SA,this.conn=null,this.sendBuffer=[],this.serializer=new _A,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>to(async()=>{const{default:l}=await Promise.resolve().then(()=>yo);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${qf.websocket}`,this.httpEndpoint=db(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessToken=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new cb(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(CA){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new RA(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),to(async()=>{const{default:e}=await import("./browser-CBnxs5Rc.js").then(n=>n.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ui.connecting:return _s.Connecting;case Ui.open:return _s.Open;case Ui.closing:return _s.Closing;default:return _s.Closed}}isConnected(){return this.connectionState()===_s.Open}channel(e,n={config:{}}){const r=new Vm(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(e){this.accessToken=e,this.channels.forEach(n=>{e&&n.updateJoinPayload({access_token:e}),n.joinedOnce&&n._isJoined()&&n._push(gn.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:yA}))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;(o&&o===this.pendingHeartbeatRef||s===(i==null?void 0:i.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this._sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(gn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(vA,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([kA],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class RA{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ui.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}let $m=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Ye(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class PA extends $m{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Wf extends $m{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var NA=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(h){try{d(r.next(h))}catch(p){o(p)}}function l(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?i(h.value):s(h.value).then(a,l)}d((r=r.apply(t,e||[])).next())})};const hb=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>to(async()=>{const{default:r}=await Promise.resolve().then(()=>yo);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},jA=()=>NA(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield to(()=>Promise.resolve().then(()=>yo),void 0)).Response:Response}),Gf=t=>{if(Array.isArray(t))return t.map(n=>Gf(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Gf(r)}),e};var Xs=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(h){try{d(r.next(h))}catch(p){o(p)}}function l(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?i(h.value):s(h.value).then(a,l)}d((r=r.apply(t,e||[])).next())})};const _h=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),OA=(t,e,n)=>Xs(void 0,void 0,void 0,function*(){const r=yield jA();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new PA(_h(s),t.status||500))}).catch(s=>{e(new Wf(_h(s),s))}):e(new Wf(_h(t),t))}),DA=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function dl(t,e,n,r,s,i){return Xs(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,DA(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>OA(l,a,r))})})}function pu(t,e,n,r){return Xs(this,void 0,void 0,function*(){return dl(t,"GET",e,n,r)})}function Er(t,e,n,r,s){return Xs(this,void 0,void 0,function*(){return dl(t,"POST",e,r,s,n)})}function LA(t,e,n,r,s){return Xs(this,void 0,void 0,function*(){return dl(t,"PUT",e,r,s,n)})}function MA(t,e,n,r){return Xs(this,void 0,void 0,function*(){return dl(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function fb(t,e,n,r,s){return Xs(this,void 0,void 0,function*(){return dl(t,"DELETE",e,r,s,n)})}var Rt=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(h){try{d(r.next(h))}catch(p){o(p)}}function l(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?i(h.value):s(h.value).then(a,l)}d((r=r.apply(t,e||[])).next())})};const FA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},cv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class UA{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=hb(s)}uploadOrUpdate(e,n,r,s){return Rt(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},cv),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const d=this._removeEmptyFolders(n),h=this._getFinalPath(d),p=yield this.fetch(`${this.url}/object/${h}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),g=yield p.json();return p.ok?{data:{path:d,id:g.Id,fullPath:g.Key},error:null}:{data:null,error:g}}catch(i){if(Ye(i))return{data:null,error:i};throw i}})}upload(e,n,r){return Rt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Rt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const d=Object.assign({upsert:cv.upsert},s),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",d.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",d.cacheControl)):(l=r,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType);const p=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:h}),g=yield p.json();return p.ok?{data:{path:i,fullPath:g.Key},error:null}:{data:null,error:g}}catch(l){if(Ye(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return Rt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Er(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new $m("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}update(e,n,r){return Rt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Rt(this,void 0,void 0,function*(){try{return{data:yield Er(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Ye(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Rt(this,void 0,void 0,function*(){try{return{data:{path:(yield Er(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Ye(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Rt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Er(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Ye(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Rt(this,void 0,void 0,function*(){try{const s=yield Er(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Ye(s))return{data:null,error:s};throw s}})}download(e,n){return Rt(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield pu(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Ye(a))return{data:null,error:a};throw a}})}info(e){return Rt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield pu(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Gf(r),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}exists(e){return Rt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield MA(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Ye(r)&&r instanceof Wf){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${d}`)}}}remove(e){return Rt(this,void 0,void 0,function*(){try{return{data:yield fb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}})}list(e,n,r){return Rt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},FA),n),{prefix:e||""});return{data:yield Er(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Ye(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const VA="2.7.1",$A={"X-Client-Info":`storage-js/${VA}`};var hi=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(h){try{d(r.next(h))}catch(p){o(p)}}function l(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?i(h.value):s(h.value).then(a,l)}d((r=r.apply(t,e||[])).next())})};class BA{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},$A),n),this.fetch=hb(r)}listBuckets(){return hi(this,void 0,void 0,function*(){try{return{data:yield pu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Ye(e))return{data:null,error:e};throw e}})}getBucket(e){return hi(this,void 0,void 0,function*(){try{return{data:yield pu(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return hi(this,void 0,void 0,function*(){try{return{data:yield Er(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return hi(this,void 0,void 0,function*(){try{return{data:yield LA(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}emptyBucket(e){return hi(this,void 0,void 0,function*(){try{return{data:yield Er(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}})}deleteBucket(e){return hi(this,void 0,void 0,function*(){try{return{data:yield fb(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}})}}class zA extends BA{constructor(e,n={},r){super(e,n,r)}from(e){return new UA(this.url,this.headers,e,this.fetch)}}const qA="2.46.1";let ta="";typeof Deno<"u"?ta="deno":typeof document<"u"?ta="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ta="react-native":ta="node";const HA={"X-Client-Info":`supabase-js-${ta}/${qA}`},WA={headers:HA},GA={schema:"public"},KA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},QA={};var YA=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(h){try{d(r.next(h))}catch(p){o(p)}}function l(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?i(h.value):s(h.value).then(a,l)}d((r=r.apply(t,e||[])).next())})};const JA=t=>{let e;return t?e=t:typeof fetch>"u"?e=Jw:e=fetch,(...n)=>e(...n)},XA=()=>typeof Headers>"u"?Xw:Headers,ZA=(t,e,n)=>{const r=JA(n),s=XA();return(i,o)=>YA(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let d=new s(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:d}))})};var eR=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(h){try{d(r.next(h))}catch(p){o(p)}}function l(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?i(h.value):s(h.value).then(a,l)}d((r=r.apply(t,e||[])).next())})};function tR(t){return t.replace(/\/$/,"")}function nR(t,e){const{db:n,auth:r,realtime:s,global:i}=t,{db:o,auth:a,realtime:l,global:d}=e,h={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},d),i),accessToken:()=>eR(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}const pb="2.65.1",rR="http://localhost:9999",sR="supabase.auth.token",iR={"X-Client-Info":`gotrue-js/${pb}`},uv=10,Kf="X-Supabase-Api-Version",mb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function oR(t){return Math.round(Date.now()/1e3)+t}function aR(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const fn=()=>typeof document<"u",ps={tested:!1,writable:!1},va=()=>{if(!fn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ps.tested)return ps.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ps.tested=!0,ps.writable=!0}catch{ps.tested=!0,ps.writable=!1}return ps.writable};function xh(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const gb=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>to(async()=>{const{default:r}=await Promise.resolve().then(()=>yo);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},lR=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",yb=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},ic=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},oc=async(t,e)=>{await t.removeItem(e)};function cR(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,i,o,a,l,d,h=0;for(t=t.replace("-","+").replace("_","/");h<t.length;)o=e.indexOf(t.charAt(h++)),a=e.indexOf(t.charAt(h++)),l=e.indexOf(t.charAt(h++)),d=e.indexOf(t.charAt(h++)),r=o<<2|a>>4,s=(a&15)<<4|l>>2,i=(l&3)<<6|d,n=n+String.fromCharCode(r),l!=64&&s!=0&&(n=n+String.fromCharCode(s)),d!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}let vb=class _b{constructor(){this.promise=new _b.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}};vb.promiseConstructor=Promise;function dv(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(cR(r))}async function uR(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function dR(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function hR(t){return("0"+t.toString(16)).substr(-2)}function fR(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,hR).join("")}async function pR(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function mR(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gR(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await pR(t);return mR(n)}async function fi(t,e,n=!1){const r=fR();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await yb(t,`${e}-code-verifier`,s);const i=await gR(r);return[i,r===i?"plain":"s256"]}const yR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function vR(t){const e=t.headers.get(Kf);if(!e||!e.match(yR))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class Bm extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ae(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class _R extends Bm{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function xR(t){return ae(t)&&t.name==="AuthApiError"}class xb extends Bm{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Zs extends Bm{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class _r extends Zs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function wR(t){return ae(t)&&t.name==="AuthSessionMissingError"}class wh extends Zs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ac extends Zs{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class lc extends Zs{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hv extends Zs{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Qf extends Zs{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function bh(t){return ae(t)&&t.name==="AuthRetryableFetchError"}class fv extends Zs{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var bR=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const ys=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ER=[502,503,504];async function pv(t){var e;if(!lR(t))throw new Qf(ys(t),0);if(ER.includes(t.status))throw new Qf(ys(t),t.status);let n;try{n=await t.json()}catch(i){throw new xb(ys(i),i)}let r;const s=vR(t);if(s&&s.getTime()>=mb["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new fv(ys(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new _r}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new fv(ys(n),t.status,n.weak_password.reasons);throw new _R(ys(n),t.status||500,r)}const TR=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function de(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Kf]||(i[Kf]=mb["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await IR(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function IR(t,e,n,r,s,i){const o=TR(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new Qf(ys(l),0)}if(a.ok||await pv(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await pv(l)}}function xr(t){var e;let n=null;AR(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=oR(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function mv(t){const e=xr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Sr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function SR(t){return{data:t,error:null}}function CR(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=bR(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function kR(t){return t}function AR(t){return t.access_token&&t.refresh_token&&t.expires_in}var RR=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class PR{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=gb(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await de(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await de(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Sr})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=RR(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await de(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:CR,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ae(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await de(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Sr})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,l;try{const d={nextPage:null,lastPage:0,total:0},h=await de(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:kR});if(h.error)throw h.error;const p=await h.json(),g=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,b=(l=(a=h.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return b.length>0&&(b.forEach(k=>{const N=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(k.split(";")[1].split("=")[1]);d[`${P}Page`]=N}),d.total=parseInt(g)),{data:Object.assign(Object.assign({},p),d),error:null}}catch(d){if(ae(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){try{return await de(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Sr})}catch(n){if(ae(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await de(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Sr})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await de(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Sr})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await de(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await de(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}}}const NR={getItem:t=>va()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{va()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{va()&&globalThis.localStorage.removeItem(t)}};function gv(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function jR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const pi={debug:!!(globalThis&&va()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class wb extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class OR extends wb{}async function DR(t,e,n){pi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),pi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){pi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{pi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw pi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new OR(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(pi.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}jR();const LR={url:rR,storageKey:sR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:iR,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Qo=30*1e3,yv=3;async function vv(t,e,n){return await n()}class Ga{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ga.nextInstanceID,Ga.nextInstanceID+=1,this.instanceID>0&&fn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},LR),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new PR({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=gb(s.fetch),this.lock=s.lock||vv,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:fn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=DR:this.lock=vv,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:va()?this.storage=NR:(this.memoryStorage={},this.storage=gv(this.memoryStorage)):(this.memoryStorage={},this.storage=gv(this.memoryStorage)),fn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${pb}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=fn()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:n,error:r}=await this._getSessionFromURL(e);if(r)return this._debug("#_initialize()","error detecting session from URL",r),(r==null?void 0:r.code)==="identity_already_exists"?{error:r}:(await this._removeSession(),{error:r});const{session:s,redirectType:i}=n;return this._debug("#_initialize()","detected session in URL",s,"redirect type",i),await this._saveSession(s),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return ae(e)?{error:e}:{error:new xb("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:xr}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(i){if(ae(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:h,password:p,options:g}=e;let b=null,k=null;this.flowType==="pkce"&&([b,k]=await fi(this.storage,this.storageKey)),i=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:h,password:p,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:b,code_challenge_method:k},xform:xr})}else if("phone"in e){const{phone:h,password:p,options:g}=e;i=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},channel:(s=g==null?void 0:g.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:xr})}else throw new ac("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(i){if(ae(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:mv})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:mv})}else throw new ac("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new wh}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(ae(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await ic(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await de(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:xr});if(await oc(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new wh}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(ae(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:xr}),{data:l,error:d}=a;return d?{data:{user:null,session:null},error:d}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new wh}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:d})}catch(n){if(ae(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await fi(this.storage,this.storageKey));const{error:p}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in e){const{phone:a,options:l}=e,{data:d,error:h}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h}}throw new ac("You must provide either an email or phone number.")}catch(a){if(ae(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await de(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:xr});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,d=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(s){if(ae(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await fi(this.storage,this.storageKey)),await de(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:SR})}catch(i){if(ae(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new _r;const{error:s}=await de(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(ae(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await de(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await de(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new ac("You must provide either an email or phone number and a type")}catch(n){if(ae(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await ic(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,d,h)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,d,h))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Sr}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new _r}:await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Sr})})}catch(n){if(ae(n))return wR(n)&&(await this._removeSession(),await oc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new _r;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await fi(this.storage,this.storageKey));const{data:d,error:h}=await de(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Sr});if(h)throw h;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return dv(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new _r;const n=Date.now()/1e3;let r=n,s=!0,i=null;const o=dv(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(ae(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new _r;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ae(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e){try{if(!fn())throw new lc("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new lc("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new hv("Not a valid PKCE flow url.");const n=xh(window.location.href);if(e){if(!n.code)throw new hv("No code detected.");const{data:E,error:C}=await this._exchangeCodeForSession(n.code);if(C)throw C;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:E.session,redirectType:null},error:null}}if(n.error||n.error_description||n.error_code)throw new lc(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:d}=n;if(!i||!a||!o||!d)throw new lc("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(a);let g=h+p;l&&(g=parseInt(l));const b=g-h;b*1e3<=Qo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${p}s`);const k=g-p;h-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,g,h):h-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,g,h);const{data:N,error:P}=await this._getUser(i);if(P)throw P;const A={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:p,expires_at:g,refresh_token:o,token_type:d,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:A,redirectType:n.type},error:null}}catch(n){if(ae(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantFlow(){const e=xh(window.location.href);return!!(fn()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=xh(window.location.href),n=await ic(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(xR(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await oc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=aR(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await fi(this.storage,this.storageKey,!0));try{return await de(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(ae(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,d,h;const{data:p,error:g}=i;if(g)throw g;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await de(this.fetch,"GET",b,{headers:this.headers,jwt:(h=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(s)throw s;return fn()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ae(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await de(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await dR(async s=>(s>0&&await uR(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await de(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:xr})),(s,i)=>{const o=200*Math.pow(2,s);return i&&bh(i)&&Date.now()+o-r<Qo})}catch(r){if(this._debug(n,"error",r),ae(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),fn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await ic(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<s+uv;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${uv}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),bh(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new _r;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new vb;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new _r;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),ae(i)){const o={session:null,error:i};return bh(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await yb(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await oc(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&fn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Qo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Qo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Qo}ms, refresh threshold is ${yv} ticks`),s<=yv&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof wb)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!fn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await fi(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await de(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:d}=await de(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(ae(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await de(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(ae(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await de(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ae(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const h=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:h},error:null}}))}}Ga.nextInstanceID=0;const MR=Ga;class FR extends MR{constructor(e){super(e)}}var UR=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(h){try{d(r.next(h))}catch(p){o(p)}}function l(h){try{d(r.throw(h))}catch(p){o(p)}}function d(h){h.done?i(h.value):s(h.value).then(a,l)}d((r=r.apply(t,e||[])).next())})};class VR{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=tR(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,d={db:GA,realtime:QA,auth:Object.assign(Object.assign({},KA),{storageKey:l}),global:WA},h=nR(r??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(p,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=ZA(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},h.realtime)),this.rest=new pA(`${a}/rest/v1`,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new qk(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new zA(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return UR(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},d,h){var p;const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new FR({url:this.authUrl,headers:Object.assign(Object.assign({},g),d),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:h,hasCustomAuthorizationHeader:(p="Authorization"in this.headers)!==null&&p!==void 0?p:!1})}_initRealtimeClient(e){return new AA(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const bb=(t,e,n)=>new VR(t,e,n),$R="https://mxqzohhojkveomcyfxuv.supabase.co",BR="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im14cXpvaGhvamt2ZW9tY3lmeHV2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjkwMDM4MDMsImV4cCI6MjA0NDU3OTgwM30.hVZUxMf-LINa4lLEst63cHnW5yBBps78QAtI0kWm73k",Ie=bb($R,BR),zR=()=>{const[t,e]=O.useState(""),[n,r]=O.useState(""),[s,i]=O.useState(""),[o,a]=O.useState(""),[l,d]=O.useState(""),[h,p]=O.useState(""),[g,b]=O.useState(""),[k,N]=O.useState(""),P=Js(),A=async E=>{if(E.preventDefault(),b(""),N(""),!t||!n||!s||!o||!l||!h){b("Please fill in all fields");return}if(l!==h){b("Passwords do not match");return}try{const C=Mm(),j=await Yw.hash(l,10),U=`
        INSERT INTO userinfo (id, firstName, lastName, email, contact, password, is_admin)
        VALUES ('${C}', '${t}', '${n}', '${s}', '${o}', '${j}', false);
      `,{error:L}=await Ie.rpc("execute_sql",{sql:U});if(L)throw new Error(L.message);N("Account created successfully! You can now log in."),setTimeout(()=>P("/login"),2e3)}catch(C){b(C.message),console.log(C)}};return u.jsxs("div",{className:"signup-container",children:[u.jsx("h1",{children:"LOST AND FOUND"}),u.jsxs("div",{className:"buttons",children:[u.jsx("button",{style:{backgroundColor:"transparent",color:"white",border:"none"},onClick:()=>P("/login"),children:"Login"}),u.jsx("button",{style:{backgroundColor:"white",color:"#36408e",border:"none",opacity:1,cursor:"not-allowed",pointerEvents:"none"},children:"Register"})]}),u.jsxs("form",{className:"signup-form",onSubmit:A,children:[u.jsx("label",{id:"signup",children:"Create a new Account"}),u.jsxs("div",{className:"names",children:[u.jsx("input",{type:"text",placeholder:"First Name",onChange:E=>e(E.target.value)}),u.jsx("input",{type:"text",placeholder:"Last Name",onChange:E=>r(E.target.value)}),u.jsx("input",{type:"number",placeholder:"Contact Number",maxLength:11,onChange:E=>a(E.target.value)})]}),u.jsx("div",{className:"emails",children:u.jsx("input",{type:"email",placeholder:"Email Address",onChange:E=>i(E.target.value)})}),u.jsxs("div",{className:"passwords",children:[u.jsx("input",{type:"password",placeholder:"Password",onChange:E=>d(E.target.value),autoComplete:"current-password"}),u.jsx("input",{type:"password",placeholder:"Confirm Password",onChange:E=>p(E.target.value),autoComplete:"current-password"})]}),u.jsx("button",{type:"submit",children:"Sign Up"}),u.jsx("br",{}),g&&u.jsx("p",{style:{color:"red"},children:g}),k&&u.jsx("p",{style:{color:"#15bc11"},children:k})]})]})},qR=()=>{const[t,e]=O.useState(""),[n,r]=O.useState(""),[s,i]=O.useState(""),o=Js(),a=async d=>{if(d.preventDefault(),i(""),!t||!n){i("Please fill in both fields");return}try{const{data:h,error:p}=await Ie.from("userinfo").select("*").eq("email",t).single();if(p||!h){i("User not found");return}if(!await Yw.compare(n,h.password)){i("Invalid password");return}console.log("User data from Supabase:",h),sessionStorage.setItem("user",JSON.stringify(h));const b=JSON.parse(sessionStorage.getItem("user"));b?console.log("Logged-in user data:",b):console.log("No user logged in"),h.is_admin?o("/adminpage"):o("/homepage")}catch(h){i("An error occurred during login"),console.log("Error logging in:",h)}},l=()=>{o("/")};return u.jsxs("div",{className:"signup-container",children:[u.jsx("h1",{children:"LOST AND FOUND"}),u.jsxs("div",{className:"buttons",children:[u.jsx("button",{style:{backgroundColor:"white",color:"#36408e",border:"none",opacity:1,cursor:"not-allowed",pointerEvents:"none"},children:"Login"}),u.jsx("button",{style:{backgroundColor:"transparent",color:"white",border:"none"},id:"register",onClick:l,children:"Register"})]}),u.jsxs("form",{className:"signup-form",onSubmit:a,children:[u.jsx("label",{id:"signxup",children:"Log in with your Account"}),u.jsx("div",{className:"emails",children:u.jsx("input",{type:"text",placeholder:"Email Address",onChange:d=>e(d.target.value)})}),u.jsx("div",{className:"passwords",children:u.jsx("input",{type:"password",placeholder:"Password",onChange:d=>r(d.target.value),autoComplete:"current-password"})}),u.jsx("button",{type:"submit",children:"Sign In"})," ",u.jsx("br",{}),s&&u.jsx("p",{style:{color:"red"},children:s})," "]})]})},HR="/systemproj/assets/NULAFD_LOGO-BzXy9TvO.svg",WR="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='500'%20zoomAndPan='magnify'%20viewBox='0%200%20375%20374.999991'%20height='500'%20preserveAspectRatio='xMidYMid%20meet'%20version='1.0'%3e%3cdefs%3e%3cclipPath%20id='3dd3ccad0b'%3e%3cpath%20d='M%20144%20337%20L%20231%20337%20L%20231%20371.25%20L%20144%20371.25%20Z%20M%20144%20337%20'%20clip-rule='nonzero'/%3e%3c/clipPath%3e%3cclipPath%20id='817793f520'%3e%3cpath%20d='M%2018.75%200%20L%20356.25%200%20L%20356.25%20321%20L%2018.75%20321%20Z%20M%2018.75%200%20'%20clip-rule='nonzero'/%3e%3c/clipPath%3e%3c/defs%3e%3cg%20clip-path='url(%233dd3ccad0b)'%3e%3cpath%20fill='%23ffffff'%20d='M%20229.921875%20338.929688%20C%20229.09375%20337.730469%20227.441406%20336.902344%20226.390625%20337.054688%20L%20148.835938%20337.503906%20C%20148.835938%20337.503906%20146.054688%20338.253906%20145.304688%20339.457031%20C%20144.550781%20340.660156%20144.402344%20342.164062%20145.003906%20343.441406%20C%20152.367188%20360.347656%20169.125%20371.246094%20187.539062%20371.246094%20C%20206.25%20371.246094%20223.007812%20360.125%20230.296875%20342.914062%20C%20230.824219%20341.5625%20230.675781%20340.058594%20229.921875%20338.929688%20Z%20M%20229.921875%20338.929688%20'%20fill-opacity='1'%20fill-rule='nonzero'/%3e%3c/g%3e%3cg%20clip-path='url(%23817793f520)'%3e%3cpath%20fill='%23ffffff'%20d='M%20353.242188%20297.296875%20L%20305.675781%20257.617188%20L%20305.675781%20151.882812%20C%20305.675781%2098.300781%20269.753906%2052.984375%20220.753906%2038.554688%20C%20220.980469%2036.976562%20221.28125%2035.398438%20221.28125%2033.746094%20C%20221.28125%2015.109375%20206.175781%200.00390625%20187.539062%200.00390625%20C%20168.898438%200.00390625%20153.796875%2015.109375%20153.796875%2033.746094%20C%20153.796875%2035.398438%20154.097656%2036.976562%20154.320312%2038.554688%20C%20105.324219%2052.984375%2069.402344%2098.226562%2069.402344%20151.882812%20L%2069.402344%20257.617188%20L%2021.757812%20297.296875%20C%2019.800781%20298.875%2018.75%20301.28125%2018.75%20303.761719%20L%2018.75%20312.179688%20C%2018.75%20316.835938%2022.507812%20320.59375%2027.167969%20320.59375%20L%20347.832031%20320.59375%20C%20352.492188%20320.59375%20356.25%20316.835938%20356.25%20312.179688%20L%20356.25%20303.761719%20C%20356.25%20301.28125%20355.121094%20298.875%20353.242188%20297.296875%20Z%20M%20170.777344%2035.097656%20C%20170.777344%2034.648438%20170.628906%2034.195312%20170.628906%2033.746094%20C%20170.628906%2024.425781%20178.21875%2016.835938%20187.539062%2016.835938%20C%20196.855469%2016.835938%20204.371094%2024.425781%20204.371094%2033.746094%20C%20204.371094%2034.195312%20204.296875%2034.648438%20204.222656%2035.097656%20C%20198.734375%2034.347656%20193.175781%2033.746094%20187.460938%2033.746094%20C%20181.75%2033.746094%20176.265625%2034.273438%20170.777344%2035.097656%20Z%20M%20170.777344%2035.097656%20'%20fill-opacity='1'%20fill-rule='nonzero'/%3e%3c/g%3e%3c/svg%3e",GR="/systemproj/assets/Memo1Img-CUNrE0VH.png",KR="/systemproj/assets/Memo2Img-B9QwnBDI.png",QR="/systemproj/assets/Report1Img-CXnXZbVX.png",_v="/systemproj/assets/Report2Img-aG6KwkVp.png";var xv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},YR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Tb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,d=l?t[s+2]:0,h=i>>2,p=(i&3)<<4|a>>4;let g=(a&15)<<2|d>>6,b=d&63;l||(b=64,o||(g=64)),r.push(n[h],n[p],n[g],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Eb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):YR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||d==null||p==null)throw new JR;const g=i<<2|a>>4;if(r.push(g),d!==64){const b=a<<4&240|d>>2;if(r.push(b),p!==64){const k=d<<6&192|p;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class JR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XR=function(t){const e=Eb(t);return Tb.encodeByteArray(e,!0)},mu=function(t){return XR(t).replace(/\./g,"")},Ib=function(t){try{return Tb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP=()=>ZR().__FIREBASE_DEFAULTS__,tP=()=>{if(typeof process>"u"||typeof xv>"u")return;const t=xv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},nP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ib(t[1]);return e&&JSON.parse(e)},od=()=>{try{return eP()||tP()||nP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Sb=t=>{var e,n;return(n=(e=od())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Cb=t=>{const e=Sb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},kb=()=>{var t;return(t=od())===null||t===void 0?void 0:t.config},Ab=t=>{var e;return(e=od())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[mu(JSON.stringify(n)),mu(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_t())}function iP(){var t;const e=(t=od())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Pb(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function aP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lP(){const t=_t();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function cP(){return!iP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Nb(){try{return typeof indexedDB=="object"}catch{return!1}}function jb(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function uP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP="FirebaseError";class cn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=dP,Object.setPrototypeOf(this,cn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ei.prototype.create)}}class ei{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?hP(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new cn(s,a,r)}}function hP(t,e){return t.replace(fP,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const fP=/\{\$([^}]+)}/g;function pP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function gu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(wv(i)&&wv(o)){if(!gu(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function wv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function mP(t,e){const n=new gP(t,e);return n.subscribe.bind(n)}class gP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");yP(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Eh),s.error===void 0&&(s.error=Eh),s.complete===void 0&&(s.complete=Eh);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Eh(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP=1e3,_P=2,xP=4*60*60*1e3,wP=.5;function bv(t,e=vP,n=_P){const r=e*Math.pow(n,t),s=Math.round(wP*r*(Math.random()-.5)*2);return Math.min(xP,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(t){return t&&t._delegate?t._delegate:t}class ln{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new rP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TP(e))try{this.getOrInitializeService({instanceIdentifier:vs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=vs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vs){return this.instances.has(e)}getOptions(e=vs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:EP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=vs){return this.component?this.component.multipleInstances?e:vs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function EP(t){return t===vs?void 0:t}function TP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new bP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var he;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(he||(he={}));const SP={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},CP=he.INFO,kP={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},AP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=kP[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ad{constructor(e){this.name=e,this._logLevel=CP,this._logHandler=AP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?SP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}}const RP=(t,e)=>e.some(n=>t instanceof n);let Ev,Tv;function PP(){return Ev||(Ev=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NP(){return Tv||(Tv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ob=new WeakMap,Yf=new WeakMap,Db=new WeakMap,Th=new WeakMap,zm=new WeakMap;function jP(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Kr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Ob.set(n,t)}).catch(()=>{}),zm.set(e,t),e}function OP(t){if(Yf.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Yf.set(t,e)}let Jf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Yf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Db.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Kr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function DP(t){Jf=t(Jf)}function LP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ih(this),e,...n);return Db.set(r,e.sort?e.sort():[e]),Kr(r)}:NP().includes(t)?function(...e){return t.apply(Ih(this),e),Kr(Ob.get(this))}:function(...e){return Kr(t.apply(Ih(this),e))}}function MP(t){return typeof t=="function"?LP(t):(t instanceof IDBTransaction&&OP(t),RP(t,PP())?new Proxy(t,Jf):t)}function Kr(t){if(t instanceof IDBRequest)return jP(t);if(Th.has(t))return Th.get(t);const e=MP(t);return e!==t&&(Th.set(t,e),zm.set(e,t)),e}const Ih=t=>zm.get(t);function Lb(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Kr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Kr(o.result),l.oldVersion,l.newVersion,Kr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const FP=["get","getKey","getAll","getAllKeys","count"],UP=["put","add","delete","clear"],Sh=new Map;function Iv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sh.get(e))return Sh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=UP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||FP.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let d=l.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),s&&l.done]))[0]};return Sh.set(e,i),i}DP(t=>({...t,get:(e,n,r)=>Iv(e,n)||t.get(e,n,r),has:(e,n)=>!!Iv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($P(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function $P(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xf="@firebase/app",Sv="0.10.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr=new ad("@firebase/app"),BP="@firebase/app-compat",zP="@firebase/analytics-compat",qP="@firebase/analytics",HP="@firebase/app-check-compat",WP="@firebase/app-check",GP="@firebase/auth",KP="@firebase/auth-compat",QP="@firebase/database",YP="@firebase/data-connect",JP="@firebase/database-compat",XP="@firebase/functions",ZP="@firebase/functions-compat",eN="@firebase/installations",tN="@firebase/installations-compat",nN="@firebase/messaging",rN="@firebase/messaging-compat",sN="@firebase/performance",iN="@firebase/performance-compat",oN="@firebase/remote-config",aN="@firebase/remote-config-compat",lN="@firebase/storage",cN="@firebase/storage-compat",uN="@firebase/firestore",dN="@firebase/vertexai-preview",hN="@firebase/firestore-compat",fN="firebase",pN="10.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf="[DEFAULT]",mN={[Xf]:"fire-core",[BP]:"fire-core-compat",[qP]:"fire-analytics",[zP]:"fire-analytics-compat",[WP]:"fire-app-check",[HP]:"fire-app-check-compat",[GP]:"fire-auth",[KP]:"fire-auth-compat",[QP]:"fire-rtdb",[YP]:"fire-data-connect",[JP]:"fire-rtdb-compat",[XP]:"fire-fn",[ZP]:"fire-fn-compat",[eN]:"fire-iid",[tN]:"fire-iid-compat",[nN]:"fire-fcm",[rN]:"fire-fcm-compat",[sN]:"fire-perf",[iN]:"fire-perf-compat",[oN]:"fire-rc",[aN]:"fire-rc-compat",[lN]:"fire-gcs",[cN]:"fire-gcs-compat",[uN]:"fire-fst",[hN]:"fire-fst-compat",[dN]:"fire-vertex","fire-js":"fire-js",[fN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=new Map,gN=new Map,ep=new Map;function Cv(t,e){try{t.container.addComponent(e)}catch(n){nr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function bn(t){const e=t.name;if(ep.has(e))return nr.debug(`There were multiple attempts to register component ${e}.`),!1;ep.set(e,t);for(const n of yu.values())Cv(n,t);for(const n of gN.values())Cv(n,t);return!0}function _o(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Or(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qr=new ei("app","Firebase",yN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ln("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti=pN;function Mb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Zf,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Qr.create("bad-app-name",{appName:String(s)});if(n||(n=kb()),!n)throw Qr.create("no-options");const i=yu.get(s);if(i){if(gu(n,i.options)&&gu(r,i.config))return i;throw Qr.create("duplicate-app",{appName:s})}const o=new IP(s);for(const l of ep.values())o.addComponent(l);const a=new vN(n,r,o);return yu.set(s,a),a}function qm(t=Zf){const e=yu.get(t);if(!e&&t===Zf&&kb())return Mb();if(!e)throw Qr.create("no-app",{appName:t});return e}function Ft(t,e,n){var r;let s=(r=mN[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),nr.warn(a.join(" "));return}bn(new ln(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N="firebase-heartbeat-database",xN=1,Ka="firebase-heartbeat-store";let Ch=null;function Fb(){return Ch||(Ch=Lb(_N,xN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ka)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qr.create("idb-open",{originalErrorMessage:t.message})})),Ch}async function wN(t){try{const n=(await Fb()).transaction(Ka),r=await n.objectStore(Ka).get(Ub(t));return await n.done,r}catch(e){if(e instanceof cn)nr.warn(e.message);else{const n=Qr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});nr.warn(n.message)}}}async function kv(t,e){try{const r=(await Fb()).transaction(Ka,"readwrite");await r.objectStore(Ka).put(e,Ub(t)),await r.done}catch(n){if(n instanceof cn)nr.warn(n.message);else{const r=Qr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});nr.warn(r.message)}}}function Ub(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=1024,EN=30*24*60*60*1e3;class TN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new SN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Av();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=EN}),this._storage.overwrite(this._heartbeatsCache))}catch(r){nr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Av(),{heartbeatsToSend:r,unsentEntries:s}=IN(this._heartbeatsCache.heartbeats),i=mu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return nr.warn(n),""}}}function Av(){return new Date().toISOString().substring(0,10)}function IN(t,e=bN){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Rv(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Rv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class SN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Nb()?jb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await wN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return kv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return kv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Rv(t){return mu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(t){bn(new ln("platform-logger",e=>new VP(e),"PRIVATE")),bn(new ln("heartbeat",e=>new TN(e),"PRIVATE")),Ft(Xf,Sv,t),Ft(Xf,Sv,"esm2017"),Ft("fire-js","")}CN("");var Pv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ks,Vb;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(v,y){function x(){}x.prototype=y.prototype,v.D=y.prototype,v.prototype=new x,v.prototype.constructor=v,v.C=function(R,w,I){for(var _=Array(arguments.length-2),D=2;D<arguments.length;D++)_[D-2]=arguments[D];return y.prototype[w].apply(R,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(v,y,x){x||(x=0);var R=Array(16);if(typeof y=="string")for(var w=0;16>w;++w)R[w]=y.charCodeAt(x++)|y.charCodeAt(x++)<<8|y.charCodeAt(x++)<<16|y.charCodeAt(x++)<<24;else for(w=0;16>w;++w)R[w]=y[x++]|y[x++]<<8|y[x++]<<16|y[x++]<<24;y=v.g[0],x=v.g[1],w=v.g[2];var I=v.g[3],_=y+(I^x&(w^I))+R[0]+3614090360&4294967295;y=x+(_<<7&4294967295|_>>>25),_=I+(w^y&(x^w))+R[1]+3905402710&4294967295,I=y+(_<<12&4294967295|_>>>20),_=w+(x^I&(y^x))+R[2]+606105819&4294967295,w=I+(_<<17&4294967295|_>>>15),_=x+(y^w&(I^y))+R[3]+3250441966&4294967295,x=w+(_<<22&4294967295|_>>>10),_=y+(I^x&(w^I))+R[4]+4118548399&4294967295,y=x+(_<<7&4294967295|_>>>25),_=I+(w^y&(x^w))+R[5]+1200080426&4294967295,I=y+(_<<12&4294967295|_>>>20),_=w+(x^I&(y^x))+R[6]+2821735955&4294967295,w=I+(_<<17&4294967295|_>>>15),_=x+(y^w&(I^y))+R[7]+4249261313&4294967295,x=w+(_<<22&4294967295|_>>>10),_=y+(I^x&(w^I))+R[8]+1770035416&4294967295,y=x+(_<<7&4294967295|_>>>25),_=I+(w^y&(x^w))+R[9]+2336552879&4294967295,I=y+(_<<12&4294967295|_>>>20),_=w+(x^I&(y^x))+R[10]+4294925233&4294967295,w=I+(_<<17&4294967295|_>>>15),_=x+(y^w&(I^y))+R[11]+2304563134&4294967295,x=w+(_<<22&4294967295|_>>>10),_=y+(I^x&(w^I))+R[12]+1804603682&4294967295,y=x+(_<<7&4294967295|_>>>25),_=I+(w^y&(x^w))+R[13]+4254626195&4294967295,I=y+(_<<12&4294967295|_>>>20),_=w+(x^I&(y^x))+R[14]+2792965006&4294967295,w=I+(_<<17&4294967295|_>>>15),_=x+(y^w&(I^y))+R[15]+1236535329&4294967295,x=w+(_<<22&4294967295|_>>>10),_=y+(w^I&(x^w))+R[1]+4129170786&4294967295,y=x+(_<<5&4294967295|_>>>27),_=I+(x^w&(y^x))+R[6]+3225465664&4294967295,I=y+(_<<9&4294967295|_>>>23),_=w+(y^x&(I^y))+R[11]+643717713&4294967295,w=I+(_<<14&4294967295|_>>>18),_=x+(I^y&(w^I))+R[0]+3921069994&4294967295,x=w+(_<<20&4294967295|_>>>12),_=y+(w^I&(x^w))+R[5]+3593408605&4294967295,y=x+(_<<5&4294967295|_>>>27),_=I+(x^w&(y^x))+R[10]+38016083&4294967295,I=y+(_<<9&4294967295|_>>>23),_=w+(y^x&(I^y))+R[15]+3634488961&4294967295,w=I+(_<<14&4294967295|_>>>18),_=x+(I^y&(w^I))+R[4]+3889429448&4294967295,x=w+(_<<20&4294967295|_>>>12),_=y+(w^I&(x^w))+R[9]+568446438&4294967295,y=x+(_<<5&4294967295|_>>>27),_=I+(x^w&(y^x))+R[14]+3275163606&4294967295,I=y+(_<<9&4294967295|_>>>23),_=w+(y^x&(I^y))+R[3]+4107603335&4294967295,w=I+(_<<14&4294967295|_>>>18),_=x+(I^y&(w^I))+R[8]+1163531501&4294967295,x=w+(_<<20&4294967295|_>>>12),_=y+(w^I&(x^w))+R[13]+2850285829&4294967295,y=x+(_<<5&4294967295|_>>>27),_=I+(x^w&(y^x))+R[2]+4243563512&4294967295,I=y+(_<<9&4294967295|_>>>23),_=w+(y^x&(I^y))+R[7]+1735328473&4294967295,w=I+(_<<14&4294967295|_>>>18),_=x+(I^y&(w^I))+R[12]+2368359562&4294967295,x=w+(_<<20&4294967295|_>>>12),_=y+(x^w^I)+R[5]+4294588738&4294967295,y=x+(_<<4&4294967295|_>>>28),_=I+(y^x^w)+R[8]+2272392833&4294967295,I=y+(_<<11&4294967295|_>>>21),_=w+(I^y^x)+R[11]+1839030562&4294967295,w=I+(_<<16&4294967295|_>>>16),_=x+(w^I^y)+R[14]+4259657740&4294967295,x=w+(_<<23&4294967295|_>>>9),_=y+(x^w^I)+R[1]+2763975236&4294967295,y=x+(_<<4&4294967295|_>>>28),_=I+(y^x^w)+R[4]+1272893353&4294967295,I=y+(_<<11&4294967295|_>>>21),_=w+(I^y^x)+R[7]+4139469664&4294967295,w=I+(_<<16&4294967295|_>>>16),_=x+(w^I^y)+R[10]+3200236656&4294967295,x=w+(_<<23&4294967295|_>>>9),_=y+(x^w^I)+R[13]+681279174&4294967295,y=x+(_<<4&4294967295|_>>>28),_=I+(y^x^w)+R[0]+3936430074&4294967295,I=y+(_<<11&4294967295|_>>>21),_=w+(I^y^x)+R[3]+3572445317&4294967295,w=I+(_<<16&4294967295|_>>>16),_=x+(w^I^y)+R[6]+76029189&4294967295,x=w+(_<<23&4294967295|_>>>9),_=y+(x^w^I)+R[9]+3654602809&4294967295,y=x+(_<<4&4294967295|_>>>28),_=I+(y^x^w)+R[12]+3873151461&4294967295,I=y+(_<<11&4294967295|_>>>21),_=w+(I^y^x)+R[15]+530742520&4294967295,w=I+(_<<16&4294967295|_>>>16),_=x+(w^I^y)+R[2]+3299628645&4294967295,x=w+(_<<23&4294967295|_>>>9),_=y+(w^(x|~I))+R[0]+4096336452&4294967295,y=x+(_<<6&4294967295|_>>>26),_=I+(x^(y|~w))+R[7]+1126891415&4294967295,I=y+(_<<10&4294967295|_>>>22),_=w+(y^(I|~x))+R[14]+2878612391&4294967295,w=I+(_<<15&4294967295|_>>>17),_=x+(I^(w|~y))+R[5]+4237533241&4294967295,x=w+(_<<21&4294967295|_>>>11),_=y+(w^(x|~I))+R[12]+1700485571&4294967295,y=x+(_<<6&4294967295|_>>>26),_=I+(x^(y|~w))+R[3]+2399980690&4294967295,I=y+(_<<10&4294967295|_>>>22),_=w+(y^(I|~x))+R[10]+4293915773&4294967295,w=I+(_<<15&4294967295|_>>>17),_=x+(I^(w|~y))+R[1]+2240044497&4294967295,x=w+(_<<21&4294967295|_>>>11),_=y+(w^(x|~I))+R[8]+1873313359&4294967295,y=x+(_<<6&4294967295|_>>>26),_=I+(x^(y|~w))+R[15]+4264355552&4294967295,I=y+(_<<10&4294967295|_>>>22),_=w+(y^(I|~x))+R[6]+2734768916&4294967295,w=I+(_<<15&4294967295|_>>>17),_=x+(I^(w|~y))+R[13]+1309151649&4294967295,x=w+(_<<21&4294967295|_>>>11),_=y+(w^(x|~I))+R[4]+4149444226&4294967295,y=x+(_<<6&4294967295|_>>>26),_=I+(x^(y|~w))+R[11]+3174756917&4294967295,I=y+(_<<10&4294967295|_>>>22),_=w+(y^(I|~x))+R[2]+718787259&4294967295,w=I+(_<<15&4294967295|_>>>17),_=x+(I^(w|~y))+R[9]+3951481745&4294967295,v.g[0]=v.g[0]+y&4294967295,v.g[1]=v.g[1]+(w+(_<<21&4294967295|_>>>11))&4294967295,v.g[2]=v.g[2]+w&4294967295,v.g[3]=v.g[3]+I&4294967295}r.prototype.u=function(v,y){y===void 0&&(y=v.length);for(var x=y-this.blockSize,R=this.B,w=this.h,I=0;I<y;){if(w==0)for(;I<=x;)s(this,v,I),I+=this.blockSize;if(typeof v=="string"){for(;I<y;)if(R[w++]=v.charCodeAt(I++),w==this.blockSize){s(this,R),w=0;break}}else for(;I<y;)if(R[w++]=v[I++],w==this.blockSize){s(this,R),w=0;break}}this.h=w,this.o+=y},r.prototype.v=function(){var v=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);v[0]=128;for(var y=1;y<v.length-8;++y)v[y]=0;var x=8*this.o;for(y=v.length-8;y<v.length;++y)v[y]=x&255,x/=256;for(this.u(v),v=Array(16),y=x=0;4>y;++y)for(var R=0;32>R;R+=8)v[x++]=this.g[y]>>>R&255;return v};function i(v,y){var x=a;return Object.prototype.hasOwnProperty.call(x,v)?x[v]:x[v]=y(v)}function o(v,y){this.h=y;for(var x=[],R=!0,w=v.length-1;0<=w;w--){var I=v[w]|0;R&&I==y||(x[w]=I,R=!1)}this.g=x}var a={};function l(v){return-128<=v&&128>v?i(v,function(y){return new o([y|0],0>y?-1:0)}):new o([v|0],0>v?-1:0)}function d(v){if(isNaN(v)||!isFinite(v))return p;if(0>v)return P(d(-v));for(var y=[],x=1,R=0;v>=x;R++)y[R]=v/x|0,x*=4294967296;return new o(y,0)}function h(v,y){if(v.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(v.charAt(0)=="-")return P(h(v.substring(1),y));if(0<=v.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=d(Math.pow(y,8)),R=p,w=0;w<v.length;w+=8){var I=Math.min(8,v.length-w),_=parseInt(v.substring(w,w+I),y);8>I?(I=d(Math.pow(y,I)),R=R.j(I).add(d(_))):(R=R.j(x),R=R.add(d(_)))}return R}var p=l(0),g=l(1),b=l(16777216);t=o.prototype,t.m=function(){if(N(this))return-P(this).m();for(var v=0,y=1,x=0;x<this.g.length;x++){var R=this.i(x);v+=(0<=R?R:4294967296+R)*y,y*=4294967296}return v},t.toString=function(v){if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(k(this))return"0";if(N(this))return"-"+P(this).toString(v);for(var y=d(Math.pow(v,6)),x=this,R="";;){var w=j(x,y).g;x=A(x,w.j(y));var I=((0<x.g.length?x.g[0]:x.h)>>>0).toString(v);if(x=w,k(x))return I+R;for(;6>I.length;)I="0"+I;R=I+R}},t.i=function(v){return 0>v?0:v<this.g.length?this.g[v]:this.h};function k(v){if(v.h!=0)return!1;for(var y=0;y<v.g.length;y++)if(v.g[y]!=0)return!1;return!0}function N(v){return v.h==-1}t.l=function(v){return v=A(this,v),N(v)?-1:k(v)?0:1};function P(v){for(var y=v.g.length,x=[],R=0;R<y;R++)x[R]=~v.g[R];return new o(x,~v.h).add(g)}t.abs=function(){return N(this)?P(this):this},t.add=function(v){for(var y=Math.max(this.g.length,v.g.length),x=[],R=0,w=0;w<=y;w++){var I=R+(this.i(w)&65535)+(v.i(w)&65535),_=(I>>>16)+(this.i(w)>>>16)+(v.i(w)>>>16);R=_>>>16,I&=65535,_&=65535,x[w]=_<<16|I}return new o(x,x[x.length-1]&-2147483648?-1:0)};function A(v,y){return v.add(P(y))}t.j=function(v){if(k(this)||k(v))return p;if(N(this))return N(v)?P(this).j(P(v)):P(P(this).j(v));if(N(v))return P(this.j(P(v)));if(0>this.l(b)&&0>v.l(b))return d(this.m()*v.m());for(var y=this.g.length+v.g.length,x=[],R=0;R<2*y;R++)x[R]=0;for(R=0;R<this.g.length;R++)for(var w=0;w<v.g.length;w++){var I=this.i(R)>>>16,_=this.i(R)&65535,D=v.i(w)>>>16,T=v.i(w)&65535;x[2*R+2*w]+=_*T,E(x,2*R+2*w),x[2*R+2*w+1]+=I*T,E(x,2*R+2*w+1),x[2*R+2*w+1]+=_*D,E(x,2*R+2*w+1),x[2*R+2*w+2]+=I*D,E(x,2*R+2*w+2)}for(R=0;R<y;R++)x[R]=x[2*R+1]<<16|x[2*R];for(R=y;R<2*y;R++)x[R]=0;return new o(x,0)};function E(v,y){for(;(v[y]&65535)!=v[y];)v[y+1]+=v[y]>>>16,v[y]&=65535,y++}function C(v,y){this.g=v,this.h=y}function j(v,y){if(k(y))throw Error("division by zero");if(k(v))return new C(p,p);if(N(v))return y=j(P(v),y),new C(P(y.g),P(y.h));if(N(y))return y=j(v,P(y)),new C(P(y.g),y.h);if(30<v.g.length){if(N(v)||N(y))throw Error("slowDivide_ only works with positive integers.");for(var x=g,R=y;0>=R.l(v);)x=U(x),R=U(R);var w=L(x,1),I=L(R,1);for(R=L(R,2),x=L(x,2);!k(R);){var _=I.add(R);0>=_.l(v)&&(w=w.add(x),I=_),R=L(R,1),x=L(x,1)}return y=A(v,w.j(y)),new C(w,y)}for(w=p;0<=v.l(y);){for(x=Math.max(1,Math.floor(v.m()/y.m())),R=Math.ceil(Math.log(x)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),I=d(x),_=I.j(y);N(_)||0<_.l(v);)x-=R,I=d(x),_=I.j(y);k(I)&&(I=g),w=w.add(I),v=A(v,_)}return new C(w,v)}t.A=function(v){return j(this,v).h},t.and=function(v){for(var y=Math.max(this.g.length,v.g.length),x=[],R=0;R<y;R++)x[R]=this.i(R)&v.i(R);return new o(x,this.h&v.h)},t.or=function(v){for(var y=Math.max(this.g.length,v.g.length),x=[],R=0;R<y;R++)x[R]=this.i(R)|v.i(R);return new o(x,this.h|v.h)},t.xor=function(v){for(var y=Math.max(this.g.length,v.g.length),x=[],R=0;R<y;R++)x[R]=this.i(R)^v.i(R);return new o(x,this.h^v.h)};function U(v){for(var y=v.g.length+1,x=[],R=0;R<y;R++)x[R]=v.i(R)<<1|v.i(R-1)>>>31;return new o(x,v.h)}function L(v,y){var x=y>>5;y%=32;for(var R=v.g.length-x,w=[],I=0;I<R;I++)w[I]=0<y?v.i(I+x)>>>y|v.i(I+x+1)<<32-y:v.i(I+x);return new o(w,v.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Vb=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,ks=o}).apply(typeof Pv<"u"?Pv:typeof self<"u"?self:typeof window<"u"?window:{});var cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $b,na,Bb,Rc,tp,zb,qb,Hb;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,f,m){return c==Array.prototype||c==Object.prototype||(c[f]=m.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof cc=="object"&&cc];for(var f=0;f<c.length;++f){var m=c[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function s(c,f){if(f)e:{var m=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var F=c[S];if(!(F in m))break e;m=m[F]}c=c[c.length-1],S=m[c],f=f(S),f!=S&&f!=null&&e(m,c,{configurable:!0,writable:!0,value:f})}}function i(c,f){c instanceof String&&(c+="");var m=0,S=!1,F={next:function(){if(!S&&m<c.length){var B=m++;return{value:f(B,c[B]),done:!1}}return S=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}s("Array.prototype.values",function(c){return c||function(){return i(this,function(f,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var f=typeof c;return f=f!="object"?f:c?Array.isArray(c)?"array":f:"null",f=="array"||f=="object"&&typeof c.length=="number"}function d(c){var f=typeof c;return f=="object"&&c!=null||f=="function"}function h(c,f,m){return c.call.apply(c.bind,arguments)}function p(c,f,m){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,S),c.apply(f,F)}}return function(){return c.apply(f,arguments)}}function g(c,f,m){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function b(c,f){var m=Array.prototype.slice.call(arguments,1);return function(){var S=m.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function k(c,f){function m(){}m.prototype=f.prototype,c.aa=f.prototype,c.prototype=new m,c.prototype.constructor=c,c.Qb=function(S,F,B){for(var G=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)G[Te-2]=arguments[Te];return f.prototype[F].apply(S,G)}}function N(c){const f=c.length;if(0<f){const m=Array(f);for(let S=0;S<f;S++)m[S]=c[S];return m}return[]}function P(c,f){for(let m=1;m<arguments.length;m++){const S=arguments[m];if(l(S)){const F=c.length||0,B=S.length||0;c.length=F+B;for(let G=0;G<B;G++)c[F+G]=S[G]}else c.push(S)}}class A{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function E(c){return/^[\s\xa0]*$/.test(c)}function C(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function j(c){return j[" "](c),c}j[" "]=function(){};var U=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function L(c,f,m){for(const S in c)f.call(m,c[S],S,c)}function v(c,f){for(const m in c)f.call(void 0,c[m],m,c)}function y(c){const f={};for(const m in c)f[m]=c[m];return f}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(c,f){let m,S;for(let F=1;F<arguments.length;F++){S=arguments[F];for(m in S)c[m]=S[m];for(let B=0;B<x.length;B++)m=x[B],Object.prototype.hasOwnProperty.call(S,m)&&(c[m]=S[m])}}function w(c){var f=1;c=c.split(":");const m=[];for(;0<f&&c.length;)m.push(c.shift()),f--;return c.length&&m.push(c.join(":")),m}function I(c){a.setTimeout(()=>{throw c},0)}function _(){var c=z;let f=null;return c.g&&(f=c.g,c.g=c.g.next,c.g||(c.h=null),f.next=null),f}class D{constructor(){this.h=this.g=null}add(f,m){const S=T.get();S.set(f,m),this.h?this.h.next=S:this.g=S,this.h=S}}var T=new A(()=>new M,c=>c.reset());class M{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let $,V=!1,z=new D,H=()=>{const c=a.Promise.resolve(void 0);$=()=>{c.then(Q)}};var Q=()=>{for(var c;c=_();){try{c.h.call(c.g)}catch(m){I(m)}var f=T;f.j(c),100>f.h&&(f.h++,c.next=f.g,f.g=c)}V=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ee(c,f){this.type=c,this.g=this.target=f,this.defaultPrevented=!1}ee.prototype.h=function(){this.defaultPrevented=!0};var we=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,f=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const m=()=>{};a.addEventListener("test",m,f),a.removeEventListener("test",m,f)}catch{}return c}();function be(c,f){if(ee.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var m=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=f,f=c.relatedTarget){if(U){e:{try{j(f.nodeName);var F=!0;break e}catch{}F=!1}F||(f=null)}}else m=="mouseover"?f=c.fromElement:m=="mouseout"&&(f=c.toElement);this.relatedTarget=f,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:le[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&be.aa.h.call(this)}}k(be,ee);var le={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var et="closure_listenable_"+(1e6*Math.random()|0),Io=0;function bl(c,f,m,S,F){this.listener=c,this.proxy=null,this.src=f,this.type=m,this.capture=!!S,this.ha=F,this.key=++Io,this.da=this.fa=!1}function ri(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function $n(c){this.src=c,this.g={},this.h=0}$n.prototype.add=function(c,f,m,S,F){var B=c.toString();c=this.g[B],c||(c=this.g[B]=[],this.h++);var G=ne(c,f,S,F);return-1<G?(f=c[G],m||(f.fa=!1)):(f=new bl(f,this.src,B,!!S,F),f.fa=m,c.push(f)),f};function as(c,f){var m=f.type;if(m in c.g){var S=c.g[m],F=Array.prototype.indexOf.call(S,f,void 0),B;(B=0<=F)&&Array.prototype.splice.call(S,F,1),B&&(ri(f),c.g[m].length==0&&(delete c.g[m],c.h--))}}function ne(c,f,m,S){for(var F=0;F<c.length;++F){var B=c[F];if(!B.da&&B.listener==f&&B.capture==!!m&&B.ha==S)return F}return-1}var xt="closure_lm_"+(1e6*Math.random()|0),un={};function ur(c,f,m,S,F){if(Array.isArray(f)){for(var B=0;B<f.length;B++)ur(c,f[B],m,S,F);return null}return m=So(m),c&&c[et]?c.K(f,m,d(S)?!!S.capture:!!S,F):ls(c,f,m,!1,S,F)}function ls(c,f,m,S,F,B){if(!f)throw Error("Invalid event type");var G=d(F)?!!F.capture:!!F,Te=ii(c);if(Te||(c[xt]=Te=new $n(c)),m=Te.add(f,m,S,G,B),m.proxy)return m;if(S=El(),m.proxy=S,S.src=c,S.listener=m,c.addEventListener)we||(F=G),F===void 0&&(F=!1),c.addEventListener(f.toString(),S,F);else if(c.attachEvent)c.attachEvent(cs(f.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return m}function El(){function c(m){return f.call(c.src,c.listener,m)}const f=Tl;return c}function dr(c,f,m,S,F){if(Array.isArray(f))for(var B=0;B<f.length;B++)dr(c,f[B],m,S,F);else S=d(S)?!!S.capture:!!S,m=So(m),c&&c[et]?(c=c.i,f=String(f).toString(),f in c.g&&(B=c.g[f],m=ne(B,m,S,F),-1<m&&(ri(B[m]),Array.prototype.splice.call(B,m,1),B.length==0&&(delete c.g[f],c.h--)))):c&&(c=ii(c))&&(f=c.g[f.toString()],c=-1,f&&(c=ne(f,m,S,F)),(m=-1<c?f[c]:null)&&si(m))}function si(c){if(typeof c!="number"&&c&&!c.da){var f=c.src;if(f&&f[et])as(f.i,c);else{var m=c.type,S=c.proxy;f.removeEventListener?f.removeEventListener(m,S,c.capture):f.detachEvent?f.detachEvent(cs(m),S):f.addListener&&f.removeListener&&f.removeListener(S),(m=ii(f))?(as(m,c),m.h==0&&(m.src=null,f[xt]=null)):ri(c)}}}function cs(c){return c in un?un[c]:un[c]="on"+c}function Tl(c,f){if(c.da)c=!0;else{f=new be(f,this);var m=c.listener,S=c.ha||c.src;c.fa&&si(c),c=m.call(S,f)}return c}function ii(c){return c=c[xt],c instanceof $n?c:null}var hr="__closure_events_fn_"+(1e9*Math.random()>>>0);function So(c){return typeof c=="function"?c:(c[hr]||(c[hr]=function(f){return c.handleEvent(f)}),c[hr])}function ct(){J.call(this),this.i=new $n(this),this.M=this,this.F=null}k(ct,J),ct.prototype[et]=!0,ct.prototype.removeEventListener=function(c,f,m,S){dr(this,c,f,m,S)};function wt(c,f){var m,S=c.F;if(S)for(m=[];S;S=S.F)m.push(S);if(c=c.M,S=f.type||f,typeof f=="string")f=new ee(f,c);else if(f instanceof ee)f.target=f.target||c;else{var F=f;f=new ee(S,c),R(f,F)}if(F=!0,m)for(var B=m.length-1;0<=B;B--){var G=f.g=m[B];F=Il(G,S,!0,f)&&F}if(G=f.g=c,F=Il(G,S,!0,f)&&F,F=Il(G,S,!1,f)&&F,m)for(B=0;B<m.length;B++)G=f.g=m[B],F=Il(G,S,!1,f)&&F}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var c=this.i,f;for(f in c.g){for(var m=c.g[f],S=0;S<m.length;S++)ri(m[S]);delete c.g[f],c.h--}}this.F=null},ct.prototype.K=function(c,f,m,S){return this.i.add(String(c),f,!1,m,S)},ct.prototype.L=function(c,f,m,S){return this.i.add(String(c),f,!0,m,S)};function Il(c,f,m,S){if(f=c.i.g[String(f)],!f)return!0;f=f.concat();for(var F=!0,B=0;B<f.length;++B){var G=f[B];if(G&&!G.da&&G.capture==m){var Te=G.listener,tt=G.ha||G.src;G.fa&&as(c.i,G),F=Te.call(tt,S)!==!1&&F}}return F&&!S.defaultPrevented}function qg(c,f,m){if(typeof c=="function")m&&(c=g(c,m));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(c,f||0)}function Hg(c){c.g=qg(()=>{c.g=null,c.i&&(c.i=!1,Hg(c))},c.l);const f=c.h;c.h=null,c.m.apply(null,f)}class PT extends J{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Hg(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Co(c){J.call(this),this.h=c,this.g={}}k(Co,J);var Wg=[];function Gg(c){L(c.g,function(f,m){this.g.hasOwnProperty(m)&&si(f)},c),c.g={}}Co.prototype.N=function(){Co.aa.N.call(this),Gg(this)},Co.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kd=a.JSON.stringify,NT=a.JSON.parse,jT=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Ad(){}Ad.prototype.h=null;function Kg(c){return c.h||(c.h=c.i())}function Qg(){}var ko={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Rd(){ee.call(this,"d")}k(Rd,ee);function Pd(){ee.call(this,"c")}k(Pd,ee);var us={},Yg=null;function Sl(){return Yg=Yg||new ct}us.La="serverreachability";function Jg(c){ee.call(this,us.La,c)}k(Jg,ee);function Ao(c){const f=Sl();wt(f,new Jg(f))}us.STAT_EVENT="statevent";function Xg(c,f){ee.call(this,us.STAT_EVENT,c),this.stat=f}k(Xg,ee);function bt(c){const f=Sl();wt(f,new Xg(f,c))}us.Ma="timingevent";function Zg(c,f){ee.call(this,us.Ma,c),this.size=f}k(Zg,ee);function Ro(c,f){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},f)}function Po(){this.g=!0}Po.prototype.xa=function(){this.g=!1};function OT(c,f,m,S,F,B){c.info(function(){if(c.g)if(B)for(var G="",Te=B.split("&"),tt=0;tt<Te.length;tt++){var ye=Te[tt].split("=");if(1<ye.length){var ut=ye[0];ye=ye[1];var dt=ut.split("_");G=2<=dt.length&&dt[1]=="type"?G+(ut+"="+ye+"&"):G+(ut+"=redacted&")}}else G=null;else G=B;return"XMLHTTP REQ ("+S+") [attempt "+F+"]: "+f+`
`+m+`
`+G})}function DT(c,f,m,S,F,B,G){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+F+"]: "+f+`
`+m+`
`+B+" "+G})}function oi(c,f,m,S){c.info(function(){return"XMLHTTP TEXT ("+f+"): "+MT(c,m)+(S?" "+S:"")})}function LT(c,f){c.info(function(){return"TIMEOUT: "+f})}Po.prototype.info=function(){};function MT(c,f){if(!c.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(c=0;c<m.length;c++)if(Array.isArray(m[c])){var S=m[c];if(!(2>S.length)){var F=S[1];if(Array.isArray(F)&&!(1>F.length)){var B=F[0];if(B!="noop"&&B!="stop"&&B!="close")for(var G=1;G<F.length;G++)F[G]=""}}}}return kd(m)}catch{return f}}var Cl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},e0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Nd;function kl(){}k(kl,Ad),kl.prototype.g=function(){return new XMLHttpRequest},kl.prototype.i=function(){return{}},Nd=new kl;function fr(c,f,m,S){this.j=c,this.i=f,this.l=m,this.R=S||1,this.U=new Co(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new t0}function t0(){this.i=null,this.g="",this.h=!1}var n0={},jd={};function Od(c,f,m){c.L=1,c.v=Nl(Bn(f)),c.m=m,c.P=!0,r0(c,null)}function r0(c,f){c.F=Date.now(),Al(c),c.A=Bn(c.v);var m=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),y0(m.i,"t",S),c.C=0,m=c.j.J,c.h=new t0,c.g=D0(c.j,m?f:null,!c.m),0<c.O&&(c.M=new PT(g(c.Y,c,c.g),c.O)),f=c.U,m=c.g,S=c.ca;var F="readystatechange";Array.isArray(F)||(F&&(Wg[0]=F.toString()),F=Wg);for(var B=0;B<F.length;B++){var G=ur(m,F[B],S||f.handleEvent,!1,f.h||f);if(!G)break;f.g[G.key]=G}f=c.H?y(c.H):{},c.m?(c.u||(c.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,f)):(c.u="GET",c.g.ea(c.A,c.u,null,f)),Ao(),OT(c.i,c.u,c.A,c.l,c.R,c.m)}fr.prototype.ca=function(c){c=c.target;const f=this.M;f&&zn(c)==3?f.j():this.Y(c)},fr.prototype.Y=function(c){try{if(c==this.g)e:{const dt=zn(this.g);var f=this.g.Ba();const ci=this.g.Z();if(!(3>dt)&&(dt!=3||this.g&&(this.h.h||this.g.oa()||T0(this.g)))){this.J||dt!=4||f==7||(f==8||0>=ci?Ao(3):Ao(2)),Dd(this);var m=this.g.Z();this.X=m;t:if(s0(this)){var S=T0(this.g);c="";var F=S.length,B=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ds(this),No(this);var G="";break t}this.h.i=new a.TextDecoder}for(f=0;f<F;f++)this.h.h=!0,c+=this.h.i.decode(S[f],{stream:!(B&&f==F-1)});S.length=0,this.h.g+=c,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=m==200,DT(this.i,this.u,this.A,this.l,this.R,dt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Te,tt=this.g;if((Te=tt.g?tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(Te)){var ye=Te;break t}}ye=null}if(m=ye)oi(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ld(this,m);else{this.o=!1,this.s=3,bt(12),ds(this),No(this);break e}}if(this.P){m=!0;let dn;for(;!this.J&&this.C<G.length;)if(dn=FT(this,G),dn==jd){dt==4&&(this.s=4,bt(14),m=!1),oi(this.i,this.l,null,"[Incomplete Response]");break}else if(dn==n0){this.s=4,bt(15),oi(this.i,this.l,G,"[Invalid Chunk]"),m=!1;break}else oi(this.i,this.l,dn,null),Ld(this,dn);if(s0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dt!=4||G.length!=0||this.h.h||(this.s=1,bt(16),m=!1),this.o=this.o&&m,!m)oi(this.i,this.l,G,"[Invalid Chunked Response]"),ds(this),No(this);else if(0<G.length&&!this.W){this.W=!0;var ut=this.j;ut.g==this&&ut.ba&&!ut.M&&(ut.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),Bd(ut),ut.M=!0,bt(11))}}else oi(this.i,this.l,G,null),Ld(this,G);dt==4&&ds(this),this.o&&!this.J&&(dt==4?P0(this.j,this):(this.o=!1,Al(this)))}else tI(this.g),m==400&&0<G.indexOf("Unknown SID")?(this.s=3,bt(12)):(this.s=0,bt(13)),ds(this),No(this)}}}catch{}finally{}};function s0(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function FT(c,f){var m=c.C,S=f.indexOf(`
`,m);return S==-1?jd:(m=Number(f.substring(m,S)),isNaN(m)?n0:(S+=1,S+m>f.length?jd:(f=f.slice(S,S+m),c.C=S+m,f)))}fr.prototype.cancel=function(){this.J=!0,ds(this)};function Al(c){c.S=Date.now()+c.I,i0(c,c.I)}function i0(c,f){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ro(g(c.ba,c),f)}function Dd(c){c.B&&(a.clearTimeout(c.B),c.B=null)}fr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(LT(this.i,this.A),this.L!=2&&(Ao(),bt(17)),ds(this),this.s=2,No(this)):i0(this,this.S-c)};function No(c){c.j.G==0||c.J||P0(c.j,c)}function ds(c){Dd(c);var f=c.M;f&&typeof f.ma=="function"&&f.ma(),c.M=null,Gg(c.U),c.g&&(f=c.g,c.g=null,f.abort(),f.ma())}function Ld(c,f){try{var m=c.j;if(m.G!=0&&(m.g==c||Md(m.h,c))){if(!c.K&&Md(m.h,c)&&m.G==3){try{var S=m.Da.g.parse(f)}catch{S=null}if(Array.isArray(S)&&S.length==3){var F=S;if(F[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<c.F)Fl(m),Ll(m);else break e;$d(m),bt(18)}}else m.za=F[1],0<m.za-m.T&&37500>F[2]&&m.F&&m.v==0&&!m.C&&(m.C=Ro(g(m.Za,m),6e3));if(1>=l0(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else fs(m,11)}else if((c.K||m.g==c)&&Fl(m),!E(f))for(F=m.Da.g.parse(f),f=0;f<F.length;f++){let ye=F[f];if(m.T=ye[0],ye=ye[1],m.G==2)if(ye[0]=="c"){m.K=ye[1],m.ia=ye[2];const ut=ye[3];ut!=null&&(m.la=ut,m.j.info("VER="+m.la));const dt=ye[4];dt!=null&&(m.Aa=dt,m.j.info("SVER="+m.Aa));const ci=ye[5];ci!=null&&typeof ci=="number"&&0<ci&&(S=1.5*ci,m.L=S,m.j.info("backChannelRequestTimeoutMs_="+S)),S=m;const dn=c.g;if(dn){const Vl=dn.g?dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vl){var B=S.h;B.g||Vl.indexOf("spdy")==-1&&Vl.indexOf("quic")==-1&&Vl.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Fd(B,B.h),B.h=null))}if(S.D){const zd=dn.g?dn.g.getResponseHeader("X-HTTP-Session-Id"):null;zd&&(S.ya=zd,ke(S.I,S.D,zd))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-c.F,m.j.info("Handshake RTT: "+m.R+"ms")),S=m;var G=c;if(S.qa=O0(S,S.J?S.ia:null,S.W),G.K){c0(S.h,G);var Te=G,tt=S.L;tt&&(Te.I=tt),Te.B&&(Dd(Te),Al(Te)),S.g=G}else A0(S);0<m.i.length&&Ml(m)}else ye[0]!="stop"&&ye[0]!="close"||fs(m,7);else m.G==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?fs(m,7):Vd(m):ye[0]!="noop"&&m.l&&m.l.ta(ye),m.v=0)}}Ao(4)}catch{}}var UT=class{constructor(c,f){this.g=c,this.map=f}};function o0(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function a0(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function l0(c){return c.h?1:c.g?c.g.size:0}function Md(c,f){return c.h?c.h==f:c.g?c.g.has(f):!1}function Fd(c,f){c.g?c.g.add(f):c.h=f}function c0(c,f){c.h&&c.h==f?c.h=null:c.g&&c.g.has(f)&&c.g.delete(f)}o0.prototype.cancel=function(){if(this.i=u0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function u0(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let f=c.i;for(const m of c.g.values())f=f.concat(m.D);return f}return N(c.i)}function VT(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var f=[],m=c.length,S=0;S<m;S++)f.push(c[S]);return f}f=[],m=0;for(S in c)f[m++]=c[S];return f}function $T(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var f=[];c=c.length;for(var m=0;m<c;m++)f.push(m);return f}f=[],m=0;for(const S in c)f[m++]=S;return f}}}function d0(c,f){if(c.forEach&&typeof c.forEach=="function")c.forEach(f,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,f,void 0);else for(var m=$T(c),S=VT(c),F=S.length,B=0;B<F;B++)f.call(void 0,S[B],m&&m[B],c)}var h0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function BT(c,f){if(c){c=c.split("&");for(var m=0;m<c.length;m++){var S=c[m].indexOf("="),F=null;if(0<=S){var B=c[m].substring(0,S);F=c[m].substring(S+1)}else B=c[m];f(B,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function hs(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof hs){this.h=c.h,Rl(this,c.j),this.o=c.o,this.g=c.g,Pl(this,c.s),this.l=c.l;var f=c.i,m=new Do;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),f0(this,m),this.m=c.m}else c&&(f=String(c).match(h0))?(this.h=!1,Rl(this,f[1]||"",!0),this.o=jo(f[2]||""),this.g=jo(f[3]||"",!0),Pl(this,f[4]),this.l=jo(f[5]||"",!0),f0(this,f[6]||"",!0),this.m=jo(f[7]||"")):(this.h=!1,this.i=new Do(null,this.h))}hs.prototype.toString=function(){var c=[],f=this.j;f&&c.push(Oo(f,p0,!0),":");var m=this.g;return(m||f=="file")&&(c.push("//"),(f=this.o)&&c.push(Oo(f,p0,!0),"@"),c.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&c.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&c.push("/"),c.push(Oo(m,m.charAt(0)=="/"?HT:qT,!0))),(m=this.i.toString())&&c.push("?",m),(m=this.m)&&c.push("#",Oo(m,GT)),c.join("")};function Bn(c){return new hs(c)}function Rl(c,f,m){c.j=m?jo(f,!0):f,c.j&&(c.j=c.j.replace(/:$/,""))}function Pl(c,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);c.s=f}else c.s=null}function f0(c,f,m){f instanceof Do?(c.i=f,KT(c.i,c.h)):(m||(f=Oo(f,WT)),c.i=new Do(f,c.h))}function ke(c,f,m){c.i.set(f,m)}function Nl(c){return ke(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function jo(c,f){return c?f?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Oo(c,f,m){return typeof c=="string"?(c=encodeURI(c).replace(f,zT),m&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function zT(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var p0=/[#\/\?@]/g,qT=/[#\?:]/g,HT=/[#\?]/g,WT=/[#\?@]/g,GT=/#/g;function Do(c,f){this.h=this.g=null,this.i=c||null,this.j=!!f}function pr(c){c.g||(c.g=new Map,c.h=0,c.i&&BT(c.i,function(f,m){c.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}t=Do.prototype,t.add=function(c,f){pr(this),this.i=null,c=ai(this,c);var m=this.g.get(c);return m||this.g.set(c,m=[]),m.push(f),this.h+=1,this};function m0(c,f){pr(c),f=ai(c,f),c.g.has(f)&&(c.i=null,c.h-=c.g.get(f).length,c.g.delete(f))}function g0(c,f){return pr(c),f=ai(c,f),c.g.has(f)}t.forEach=function(c,f){pr(this),this.g.forEach(function(m,S){m.forEach(function(F){c.call(f,F,S,this)},this)},this)},t.na=function(){pr(this);const c=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let S=0;S<f.length;S++){const F=c[S];for(let B=0;B<F.length;B++)m.push(f[S])}return m},t.V=function(c){pr(this);let f=[];if(typeof c=="string")g0(this,c)&&(f=f.concat(this.g.get(ai(this,c))));else{c=Array.from(this.g.values());for(let m=0;m<c.length;m++)f=f.concat(c[m])}return f},t.set=function(c,f){return pr(this),this.i=null,c=ai(this,c),g0(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[f]),this.h+=1,this},t.get=function(c,f){return c?(c=this.V(c),0<c.length?String(c[0]):f):f};function y0(c,f,m){m0(c,f),0<m.length&&(c.i=null,c.g.set(ai(c,f),N(m)),c.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var S=f[m];const B=encodeURIComponent(String(S)),G=this.V(S);for(S=0;S<G.length;S++){var F=B;G[S]!==""&&(F+="="+encodeURIComponent(String(G[S]))),c.push(F)}}return this.i=c.join("&")};function ai(c,f){return f=String(f),c.j&&(f=f.toLowerCase()),f}function KT(c,f){f&&!c.j&&(pr(c),c.i=null,c.g.forEach(function(m,S){var F=S.toLowerCase();S!=F&&(m0(this,S),y0(this,F,m))},c)),c.j=f}function QT(c,f){const m=new Po;if(a.Image){const S=new Image;S.onload=b(mr,m,"TestLoadImage: loaded",!0,f,S),S.onerror=b(mr,m,"TestLoadImage: error",!1,f,S),S.onabort=b(mr,m,"TestLoadImage: abort",!1,f,S),S.ontimeout=b(mr,m,"TestLoadImage: timeout",!1,f,S),a.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else f(!1)}function YT(c,f){const m=new Po,S=new AbortController,F=setTimeout(()=>{S.abort(),mr(m,"TestPingServer: timeout",!1,f)},1e4);fetch(c,{signal:S.signal}).then(B=>{clearTimeout(F),B.ok?mr(m,"TestPingServer: ok",!0,f):mr(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(F),mr(m,"TestPingServer: error",!1,f)})}function mr(c,f,m,S,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),S(m)}catch{}}function JT(){this.g=new jT}function XT(c,f,m){const S=m||"";try{d0(c,function(F,B){let G=F;d(F)&&(G=kd(F)),f.push(S+B+"="+encodeURIComponent(G))})}catch(F){throw f.push(S+"type="+encodeURIComponent("_badmap")),F}}function jl(c){this.l=c.Ub||null,this.j=c.eb||!1}k(jl,Ad),jl.prototype.g=function(){return new Ol(this.l,this.j)},jl.prototype.i=function(c){return function(){return c}}({});function Ol(c,f){ct.call(this),this.D=c,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Ol,ct),t=Ol.prototype,t.open=function(c,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=f,this.readyState=1,Mo(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(f.body=c),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Lo(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Mo(this)),this.g&&(this.readyState=3,Mo(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;v0(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function v0(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var f=c.value?c.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!c.done}))&&(this.response=this.responseText+=f)}c.done?Lo(this):Mo(this),this.readyState==3&&v0(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Lo(this))},t.Qa=function(c){this.g&&(this.response=c,Lo(this))},t.ga=function(){this.g&&Lo(this)};function Lo(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Mo(c)}t.setRequestHeader=function(c,f){this.u.append(c,f)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,c.push(m[0]+": "+m[1]),m=f.next();return c.join(`\r
`)};function Mo(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ol.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function _0(c){let f="";return L(c,function(m,S){f+=S,f+=":",f+=m,f+=`\r
`}),f}function Ud(c,f,m){e:{for(S in m){var S=!1;break e}S=!0}S||(m=_0(m),typeof c=="string"?m!=null&&encodeURIComponent(String(m)):ke(c,f,m))}function Me(c){ct.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Me,ct);var ZT=/^https?$/i,eI=["POST","PUT"];t=Me.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,f,m,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);f=f?f.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Nd.g(),this.v=this.o?Kg(this.o):Kg(Nd),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(f,String(c),!0),this.B=!1}catch(B){x0(this,B);return}if(c=m||"",m=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var F in S)m.set(F,S[F]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const B of S.keys())m.set(B,S.get(B));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(m.keys()).find(B=>B.toLowerCase()=="content-type"),F=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(eI,f,void 0))||S||F||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,G]of m)this.g.setRequestHeader(B,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{E0(this),this.u=!0,this.g.send(c),this.u=!1}catch(B){x0(this,B)}};function x0(c,f){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=f,c.m=5,w0(c),Dl(c)}function w0(c){c.A||(c.A=!0,wt(c,"complete"),wt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,wt(this,"complete"),wt(this,"abort"),Dl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Dl(this,!0)),Me.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?b0(this):this.bb())},t.bb=function(){b0(this)};function b0(c){if(c.h&&typeof o<"u"&&(!c.v[1]||zn(c)!=4||c.Z()!=2)){if(c.u&&zn(c)==4)qg(c.Ea,0,c);else if(wt(c,"readystatechange"),zn(c)==4){c.h=!1;try{const G=c.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var S;if(S=G===0){var F=String(c.D).match(h0)[1]||null;!F&&a.self&&a.self.location&&(F=a.self.location.protocol.slice(0,-1)),S=!ZT.test(F?F.toLowerCase():"")}m=S}if(m)wt(c,"complete"),wt(c,"success");else{c.m=6;try{var B=2<zn(c)?c.g.statusText:""}catch{B=""}c.l=B+" ["+c.Z()+"]",w0(c)}}finally{Dl(c)}}}}function Dl(c,f){if(c.g){E0(c);const m=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,f||wt(c,"ready");try{m.onreadystatechange=S}catch{}}}function E0(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function zn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var f=this.g.responseText;return c&&f.indexOf(c)==0&&(f=f.substring(c.length)),NT(f)}};function T0(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function tI(c){const f={};c=(c.g&&2<=zn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(E(c[S]))continue;var m=w(c[S]);const F=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const B=f[F]||[];f[F]=B,B.push(m)}v(f,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fo(c,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[c]||f}function I0(c){this.Aa=0,this.i=[],this.j=new Po,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fo("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fo("baseRetryDelayMs",5e3,c),this.cb=Fo("retryDelaySeedMs",1e4,c),this.Wa=Fo("forwardChannelMaxRetries",2,c),this.wa=Fo("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new o0(c&&c.concurrentRequestLimit),this.Da=new JT,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=I0.prototype,t.la=8,t.G=1,t.connect=function(c,f,m,S){bt(0),this.W=c,this.H=f||{},m&&S!==void 0&&(this.H.OSID=m,this.H.OAID=S),this.F=this.X,this.I=O0(this,null,this.W),Ml(this)};function Vd(c){if(S0(c),c.G==3){var f=c.U++,m=Bn(c.I);if(ke(m,"SID",c.K),ke(m,"RID",f),ke(m,"TYPE","terminate"),Uo(c,m),f=new fr(c,c.j,f),f.L=2,f.v=Nl(Bn(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=f.v,m=!0),m||(f.g=D0(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Al(f)}j0(c)}function Ll(c){c.g&&(Bd(c),c.g.cancel(),c.g=null)}function S0(c){Ll(c),c.u&&(a.clearTimeout(c.u),c.u=null),Fl(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Ml(c){if(!a0(c.h)&&!c.s){c.s=!0;var f=c.Ga;$||H(),V||($(),V=!0),z.add(f,c),c.B=0}}function nI(c,f){return l0(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=f.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ro(g(c.Ga,c,f),N0(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const F=new fr(this,this.j,c);let B=this.o;if(this.S&&(B?(B=y(B),R(B,this.S)):B=this.S),this.m!==null||this.O||(F.H=B,B=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var S=this.i[m];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(f+=S,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=k0(this,F,f),m=Bn(this.I),ke(m,"RID",c),ke(m,"CVER",22),this.D&&ke(m,"X-HTTP-Session-Id",this.D),Uo(this,m),B&&(this.O?f="headers="+encodeURIComponent(String(_0(B)))+"&"+f:this.m&&Ud(m,this.m,B)),Fd(this.h,F),this.Ua&&ke(m,"TYPE","init"),this.P?(ke(m,"$req",f),ke(m,"SID","null"),F.T=!0,Od(F,m,null)):Od(F,m,f),this.G=2}}else this.G==3&&(c?C0(this,c):this.i.length==0||a0(this.h)||C0(this))};function C0(c,f){var m;f?m=f.l:m=c.U++;const S=Bn(c.I);ke(S,"SID",c.K),ke(S,"RID",m),ke(S,"AID",c.T),Uo(c,S),c.m&&c.o&&Ud(S,c.m,c.o),m=new fr(c,c.j,m,c.B+1),c.m===null&&(m.H=c.o),f&&(c.i=f.D.concat(c.i)),f=k0(c,m,1e3),m.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Fd(c.h,m),Od(m,S,f)}function Uo(c,f){c.H&&L(c.H,function(m,S){ke(f,S,m)}),c.l&&d0({},function(m,S){ke(f,S,m)})}function k0(c,f,m){m=Math.min(c.i.length,m);var S=c.l?g(c.l.Na,c.l,c):null;e:{var F=c.i;let B=-1;for(;;){const G=["count="+m];B==-1?0<m?(B=F[0].g,G.push("ofs="+B)):B=0:G.push("ofs="+B);let Te=!0;for(let tt=0;tt<m;tt++){let ye=F[tt].g;const ut=F[tt].map;if(ye-=B,0>ye)B=Math.max(0,F[tt].g-100),Te=!1;else try{XT(ut,G,"req"+ye+"_")}catch{S&&S(ut)}}if(Te){S=G.join("&");break e}}}return c=c.i.splice(0,m),f.D=c,S}function A0(c){if(!c.g&&!c.u){c.Y=1;var f=c.Fa;$||H(),V||($(),V=!0),z.add(f,c),c.v=0}}function $d(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ro(g(c.Fa,c),N0(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,R0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ro(g(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,bt(10),Ll(this),R0(this))};function Bd(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function R0(c){c.g=new fr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var f=Bn(c.qa);ke(f,"RID","rpc"),ke(f,"SID",c.K),ke(f,"AID",c.T),ke(f,"CI",c.F?"0":"1"),!c.F&&c.ja&&ke(f,"TO",c.ja),ke(f,"TYPE","xmlhttp"),Uo(c,f),c.m&&c.o&&Ud(f,c.m,c.o),c.L&&(c.g.I=c.L);var m=c.g;c=c.ia,m.L=1,m.v=Nl(Bn(f)),m.m=null,m.P=!0,r0(m,c)}t.Za=function(){this.C!=null&&(this.C=null,Ll(this),$d(this),bt(19))};function Fl(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function P0(c,f){var m=null;if(c.g==f){Fl(c),Bd(c),c.g=null;var S=2}else if(Md(c.h,f))m=f.D,c0(c.h,f),S=1;else return;if(c.G!=0){if(f.o)if(S==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var F=c.B;S=Sl(),wt(S,new Zg(S,m)),Ml(c)}else A0(c);else if(F=f.s,F==3||F==0&&0<f.X||!(S==1&&nI(c,f)||S==2&&$d(c)))switch(m&&0<m.length&&(f=c.h,f.i=f.i.concat(m)),F){case 1:fs(c,5);break;case 4:fs(c,10);break;case 3:fs(c,6);break;default:fs(c,2)}}}function N0(c,f){let m=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(m*=2),m*f}function fs(c,f){if(c.j.info("Error code "+f),f==2){var m=g(c.fb,c),S=c.Xa;const F=!S;S=new hs(S||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Rl(S,"https"),Nl(S),F?QT(S.toString(),m):YT(S.toString(),m)}else bt(2);c.G=0,c.l&&c.l.sa(f),j0(c),S0(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function j0(c){if(c.G=0,c.ka=[],c.l){const f=u0(c.h);(f.length!=0||c.i.length!=0)&&(P(c.ka,f),P(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function O0(c,f,m){var S=m instanceof hs?Bn(m):new hs(m);if(S.g!="")f&&(S.g=f+"."+S.g),Pl(S,S.s);else{var F=a.location;S=F.protocol,f=f?f+"."+F.hostname:F.hostname,F=+F.port;var B=new hs(null);S&&Rl(B,S),f&&(B.g=f),F&&Pl(B,F),m&&(B.l=m),S=B}return m=c.D,f=c.ya,m&&f&&ke(S,m,f),ke(S,"VER",c.la),Uo(c,S),S}function D0(c,f,m){if(f&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=c.Ca&&!c.pa?new Me(new jl({eb:m})):new Me(c.pa),f.Ha(c.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function L0(){}t=L0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ul(){}Ul.prototype.g=function(c,f){return new $t(c,f)};function $t(c,f){ct.call(this),this.g=new I0(f),this.l=c,this.h=f&&f.messageUrlParams||null,c=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(c?c["X-WebChannel-Content-Type"]=f.messageContentType:c={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(c?c["X-WebChannel-Client-Profile"]=f.va:c={"X-WebChannel-Client-Profile":f.va}),this.g.S=c,(c=f&&f.Sb)&&!E(c)&&(this.g.m=c),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!E(f)&&(this.g.D=f,c=this.h,c!==null&&f in c&&(c=this.h,f in c&&delete c[f])),this.j=new li(this)}k($t,ct),$t.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$t.prototype.close=function(){Vd(this.g)},$t.prototype.o=function(c){var f=this.g;if(typeof c=="string"){var m={};m.__data__=c,c=m}else this.u&&(m={},m.__data__=kd(c),c=m);f.i.push(new UT(f.Ya++,c)),f.G==3&&Ml(f)},$t.prototype.N=function(){this.g.l=null,delete this.j,Vd(this.g),delete this.g,$t.aa.N.call(this)};function M0(c){Rd.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var f=c.__sm__;if(f){e:{for(const m in f){c=m;break e}c=void 0}(this.i=c)&&(c=this.i,f=f!==null&&c in f?f[c]:void 0),this.data=f}else this.data=c}k(M0,Rd);function F0(){Pd.call(this),this.status=1}k(F0,Pd);function li(c){this.g=c}k(li,L0),li.prototype.ua=function(){wt(this.g,"a")},li.prototype.ta=function(c){wt(this.g,new M0(c))},li.prototype.sa=function(c){wt(this.g,new F0)},li.prototype.ra=function(){wt(this.g,"b")},Ul.prototype.createWebChannel=Ul.prototype.g,$t.prototype.send=$t.prototype.o,$t.prototype.open=$t.prototype.m,$t.prototype.close=$t.prototype.close,Hb=function(){return new Ul},qb=function(){return Sl()},zb=us,tp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Cl.NO_ERROR=0,Cl.TIMEOUT=8,Cl.HTTP_ERROR=6,Rc=Cl,e0.COMPLETE="complete",Bb=e0,Qg.EventType=ko,ko.OPEN="a",ko.CLOSE="b",ko.ERROR="c",ko.MESSAGE="d",ct.prototype.listen=ct.prototype.K,na=Qg,Me.prototype.listenOnce=Me.prototype.L,Me.prototype.getLastError=Me.prototype.Ka,Me.prototype.getLastErrorCode=Me.prototype.Ba,Me.prototype.getStatus=Me.prototype.Z,Me.prototype.getResponseJson=Me.prototype.Oa,Me.prototype.getResponseText=Me.prototype.oa,Me.prototype.send=Me.prototype.ea,Me.prototype.setWithCredentials=Me.prototype.Ha,$b=Me}).apply(typeof cc<"u"?cc:typeof self<"u"?self:typeof window<"u"?window:{});const Nv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mt.UNAUTHENTICATED=new mt(null),mt.GOOGLE_CREDENTIALS=new mt("google-credentials-uid"),mt.FIRST_PARTY=new mt("first-party-uid"),mt.MOCK_USER=new mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xo="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new ad("@firebase/firestore");function Yo(){return Us.logLevel}function Z(t,...e){if(Us.logLevel<=he.DEBUG){const n=e.map(Hm);Us.debug(`Firestore (${xo}): ${t}`,...n)}}function rr(t,...e){if(Us.logLevel<=he.ERROR){const n=e.map(Hm);Us.error(`Firestore (${xo}): ${t}`,...n)}}function ro(t,...e){if(Us.logLevel<=he.WARN){const n=e.map(Hm);Us.warn(`Firestore (${xo}): ${t}`,...n)}}function Hm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(t="Unexpected state"){const e=`FIRESTORE (${xo}) INTERNAL ASSERTION FAILED: `+t;throw rr(e),new Error(e)}function Ve(t,e){t||oe()}function pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends cn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(mt.UNAUTHENTICATED))}shutdown(){}}class AN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class RN{constructor(e){this.t=e,this.currentUser=mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ve(this.o===void 0);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Vi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Vi,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Vi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ve(typeof r.accessToken=="string"),new Wb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string"),new mt(e)}}class PN{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=mt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class NN{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new PN(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ON{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ve(this.o===void 0);const r=i=>{i.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,Z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ve(typeof n.token=="string"),this.R=n.token,new jN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=DN(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function _e(t,e){return t<e?-1:t>e?1:0}function so(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new te(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ut.fromMillis(Date.now())}static fromDate(e){return Ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ut(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ie(e)}static min(){return new ie(new Ut(0,0))}static max(){return new ie(new Ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,n,r){n===void 0?n=0:n>e.length&&oe(),r===void 0?r=e.length-n:r>e.length-n&&oe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Qa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Qa?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ue extends Qa{construct(e,n,r){return new Ue(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ue(n)}static emptyPath(){return new Ue([])}}const MN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class It extends Qa{construct(e,n,r){return new It(e,n,r)}static isValidIdentifier(e){return MN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),It.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new It(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new te(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new te(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new te(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new te(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new It(n)}static emptyPath(){return new It([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.path=e}static fromPath(e){return new re(Ue.fromString(e))}static fromName(e){return new re(Ue.fromString(e).popFirst(5))}static empty(){return new re(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ue.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new re(new Ue(e.slice()))}}function FN(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ie.fromTimestamp(r===1e9?new Ut(n+1,0):new Ut(n,r));return new Xr(s,re.empty(),e)}function UN(t){return new Xr(t.readTime,t.key,-1)}class Xr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Xr(ie.min(),re.empty(),-1)}static max(){return new Xr(ie.max(),re.empty(),-1)}}function VN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=re.comparator(t.documentKey,e.documentKey),n!==0?n:_e(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wm(t){if(t.code!==K.FAILED_PRECONDITION||t.message!==$N)throw t;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new q((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):q.reject(n)}static resolve(e){return new q((n,r)=>{n(e)})}static reject(e){return new q((n,r)=>{r(e)})}static waitFor(e){return new q((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=q.resolve(!1);for(const r of e)n=n.next(s=>s?q.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new q((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const d=l;n(e[d]).next(h=>{o[d]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new q((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function zN(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Gm.oe=-1;function ld(t){return t==null}function np(t){return t===0&&1/t==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function cd(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function qN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e,n){this.comparator=e,this.root=n||st.EMPTY}insert(e,n){return new ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,st.BLACK,null,null))}remove(e){return new ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,st.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uc(this.root,e,this.comparator,!1)}getReverseIterator(){return new uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uc(this.root,e,this.comparator,!0)}}class uc{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class st{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??st.RED,this.left=s??st.EMPTY,this.right=i??st.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new st(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return st.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return st.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,st.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,st.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw oe();const e=this.left.check();if(e!==this.right.check())throw oe();return e+(this.isRed()?0:1)}}st.EMPTY=null,st.RED=!0,st.BLACK=!1;st.EMPTY=new class{constructor(){this.size=0}get key(){throw oe()}get value(){throw oe()}get color(){throw oe()}get left(){throw oe()}get right(){throw oe()}copy(e,n,r,s,i){return this}insert(e,n,r){return new st(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.comparator=e,this.data=new ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ov(this.data.getIterator())}getIteratorFrom(e){return new Ov(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ot(this.comparator);return n.data=e,n}}class Ov{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this.fields=e,e.sort(It.comparator)}static empty(){return new Dr([])}unionWith(e){let n=new ot(It.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Dr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return so(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Gb("Invalid base64 string: "+i):i}}(e);return new lt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new lt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}lt.EMPTY_BYTE_STRING=new lt("");const HN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zr(t){if(Ve(!!t),typeof t=="string"){let e=0;const n=HN.exec(t);if(Ve(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$e(t.seconds),nanos:$e(t.nanos)}}function $e(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Vs(t){return typeof t=="string"?lt.fromBase64String(t):lt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Qm(t){const e=t.mapValue.fields.__previous_value__;return Km(e)?Qm(e):e}function Ya(t){const e=Zr(t.mapValue.fields.__local_write_time__.timestampValue);return new Ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e,n,r,s,i,o,a,l,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=d}}class Ja{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ja("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ja&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function $s(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Km(t)?4:KN(t)?9007199254740991:GN(t)?10:11:oe()}function Dn(t,e){if(t===e)return!0;const n=$s(t);if(n!==$s(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ya(t).isEqual(Ya(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Zr(s.timestampValue),a=Zr(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Vs(s.bytesValue).isEqual(Vs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return $e(s.geoPointValue.latitude)===$e(i.geoPointValue.latitude)&&$e(s.geoPointValue.longitude)===$e(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return $e(s.integerValue)===$e(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=$e(s.doubleValue),a=$e(i.doubleValue);return o===a?np(o)===np(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return so(t.arrayValue.values||[],e.arrayValue.values||[],Dn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(jv(o)!==jv(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Dn(o[l],a[l])))return!1;return!0}(t,e);default:return oe()}}function Xa(t,e){return(t.values||[]).find(n=>Dn(n,e))!==void 0}function io(t,e){if(t===e)return 0;const n=$s(t),r=$s(e);if(n!==r)return _e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _e(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=$e(i.integerValue||i.doubleValue),l=$e(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Dv(t.timestampValue,e.timestampValue);case 4:return Dv(Ya(t),Ya(e));case 5:return _e(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Vs(i),l=Vs(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let d=0;d<a.length&&d<l.length;d++){const h=_e(a[d],l[d]);if(h!==0)return h}return _e(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=_e($e(i.latitude),$e(o.latitude));return a!==0?a:_e($e(i.longitude),$e(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Lv(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,d,h;const p=i.fields||{},g=o.fields||{},b=(a=p.value)===null||a===void 0?void 0:a.arrayValue,k=(l=g.value)===null||l===void 0?void 0:l.arrayValue,N=_e(((d=b==null?void 0:b.values)===null||d===void 0?void 0:d.length)||0,((h=k==null?void 0:k.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:Lv(b,k)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===dc.mapValue&&o===dc.mapValue)return 0;if(i===dc.mapValue)return 1;if(o===dc.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),d=o.fields||{},h=Object.keys(d);l.sort(),h.sort();for(let p=0;p<l.length&&p<h.length;++p){const g=_e(l[p],h[p]);if(g!==0)return g;const b=io(a[l[p]],d[h[p]]);if(b!==0)return b}return _e(l.length,h.length)}(t.mapValue,e.mapValue);default:throw oe()}}function Dv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _e(t,e);const n=Zr(t),r=Zr(e),s=_e(n.seconds,r.seconds);return s!==0?s:_e(n.nanos,r.nanos)}function Lv(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=io(n[s],r[s]);if(i)return i}return _e(n.length,r.length)}function oo(t){return rp(t)}function rp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Zr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Vs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return re.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=rp(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${rp(n.fields[o])}`;return s+"}"}(t.mapValue):oe()}function sp(t){return!!t&&"integerValue"in t}function Ym(t){return!!t&&"arrayValue"in t}function Mv(t){return!!t&&"nullValue"in t}function Fv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function kh(t){return!!t&&"mapValue"in t}function GN(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function _a(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return cd(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=_a(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_a(t.arrayValue.values[n]);return e}return Object.assign({},t)}function KN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!kh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_a(n)}setAll(e){let n=It.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=_a(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());kh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Dn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];kh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){cd(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Cn(_a(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new yt(e,0,ie.min(),ie.min(),ie.min(),Cn.empty(),0)}static newFoundDocument(e,n,r,s){return new yt(e,1,n,ie.min(),r,s,0)}static newNoDocument(e,n){return new yt(e,2,n,ie.min(),ie.min(),Cn.empty(),0)}static newUnknownDocument(e,n){return new yt(e,3,n,ie.min(),ie.min(),Cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n){this.position=e,this.inclusive=n}}function Uv(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=re.comparator(re.fromName(o.referenceValue),n.key):r=io(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Vv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Dn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n="asc"){this.field=e,this.dir=n}}function QN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{}class Ke extends Kb{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new JN(e,n,r):n==="array-contains"?new e4(e,r):n==="in"?new t4(e,r):n==="not-in"?new n4(e,r):n==="array-contains-any"?new r4(e,r):new Ke(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new XN(e,r):new ZN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(io(n,this.value)):n!==null&&$s(this.value)===$s(n)&&this.matchesComparison(io(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ln extends Kb{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ln(e,n)}matches(e){return Qb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Qb(t){return t.op==="and"}function Yb(t){return YN(t)&&Qb(t)}function YN(t){for(const e of t.filters)if(e instanceof Ln)return!1;return!0}function ip(t){if(t instanceof Ke)return t.field.canonicalString()+t.op.toString()+oo(t.value);if(Yb(t))return t.filters.map(e=>ip(e)).join(",");{const e=t.filters.map(n=>ip(n)).join(",");return`${t.op}(${e})`}}function Jb(t,e){return t instanceof Ke?function(r,s){return s instanceof Ke&&r.op===s.op&&r.field.isEqual(s.field)&&Dn(r.value,s.value)}(t,e):t instanceof Ln?function(r,s){return s instanceof Ln&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&Jb(o,s.filters[a]),!0):!1}(t,e):void oe()}function Xb(t){return t instanceof Ke?function(n){return`${n.field.canonicalString()} ${n.op} ${oo(n.value)}`}(t):t instanceof Ln?function(n){return n.op.toString()+" {"+n.getFilters().map(Xb).join(" ,")+"}"}(t):"Filter"}class JN extends Ke{constructor(e,n,r){super(e,n,r),this.key=re.fromName(r.referenceValue)}matches(e){const n=re.comparator(e.key,this.key);return this.matchesComparison(n)}}class XN extends Ke{constructor(e,n){super(e,"in",n),this.keys=Zb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ZN extends Ke{constructor(e,n){super(e,"not-in",n),this.keys=Zb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Zb(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>re.fromName(r.referenceValue))}class e4 extends Ke{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ym(n)&&Xa(n.arrayValue,this.value)}}class t4 extends Ke{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xa(this.value.arrayValue,n)}}class n4 extends Ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Xa(this.value.arrayValue,n)}}class r4 extends Ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ym(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Xa(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function $v(t,e=null,n=[],r=[],s=null,i=null,o=null){return new s4(t,e,n,r,s,i,o)}function Jm(t){const e=pe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ip(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),ld(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>oo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>oo(r)).join(",")),e.ue=n}return e.ue}function Xm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!QN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Jb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Vv(t.startAt,e.startAt)&&Vv(t.endAt,e.endAt)}function op(t){return re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function i4(t,e,n,r,s,i,o,a){return new ud(t,e,n,r,s,i,o,a)}function Zm(t){return new ud(t)}function Bv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function o4(t){return t.collectionGroup!==null}function xa(t){const e=pe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ot(It.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new _u(i,r))}),n.has(It.keyField().canonicalString())||e.ce.push(new _u(It.keyField(),r))}return e.ce}function Nn(t){const e=pe(t);return e.le||(e.le=a4(e,xa(t))),e.le}function a4(t,e){if(t.limitType==="F")return $v(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new _u(s.field,i)});const n=t.endAt?new vu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new vu(t.startAt.position,t.startAt.inclusive):null;return $v(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ap(t,e,n){return new ud(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function dd(t,e){return Xm(Nn(t),Nn(e))&&t.limitType===e.limitType}function eE(t){return`${Jm(Nn(t))}|lt:${t.limitType}`}function mi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Xb(s)).join(", ")}]`),ld(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>oo(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>oo(s)).join(",")),`Target(${r})`}(Nn(t))}; limitType=${t.limitType})`}function hd(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):re.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of xa(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const d=Uv(o,a,l);return o.inclusive?d<=0:d<0}(r.startAt,xa(r),s)||r.endAt&&!function(o,a,l){const d=Uv(o,a,l);return o.inclusive?d>=0:d>0}(r.endAt,xa(r),s))}(t,e)}function l4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function tE(t){return(e,n)=>{let r=!1;for(const s of xa(t)){const i=c4(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function c4(t,e,n){const r=t.field.isKeyField()?re.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),d=a.data.field(i);return l!==null&&d!==null?io(l,d):oe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){cd(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return qN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4=new ze(re.comparator);function es(){return u4}const nE=new ze(re.comparator);function ra(...t){let e=nE;for(const n of t)e=e.insert(n.key,n);return e}function d4(t){let e=nE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ts(){return wa()}function rE(){return wa()}function wa(){return new wo(t=>t.toString(),(t,e)=>t.isEqual(e))}const h4=new ot(re.comparator);function me(...t){let e=h4;for(const n of t)e=e.add(n);return e}const f4=new ot(_e);function p4(){return f4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:np(e)?"-0":e}}function g4(t){return{integerValue:""+t}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(){this._=void 0}}function y4(t,e,n){return t instanceof lp?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Km(i)&&(i=Qm(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof xu?sE(t,e):t instanceof wu?iE(t,e):function(s,i){const o=_4(s,i),a=zv(o)+zv(s.Pe);return sp(o)&&sp(s.Pe)?g4(a):m4(s.serializer,a)}(t,e)}function v4(t,e,n){return t instanceof xu?sE(t,e):t instanceof wu?iE(t,e):n}function _4(t,e){return t instanceof cp?function(r){return sp(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class lp extends fd{}class xu extends fd{constructor(e){super(),this.elements=e}}function sE(t,e){const n=oE(e);for(const r of t.elements)n.some(s=>Dn(s,r))||n.push(r);return{arrayValue:{values:n}}}class wu extends fd{constructor(e){super(),this.elements=e}}function iE(t,e){let n=oE(e);for(const r of t.elements)n=n.filter(s=>!Dn(s,r));return{arrayValue:{values:n}}}class cp extends fd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function zv(t){return $e(t.integerValue||t.doubleValue)}function oE(t){return Ym(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function x4(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof xu&&s instanceof xu||r instanceof wu&&s instanceof wu?so(r.elements,s.elements,Dn):r instanceof cp&&s instanceof cp?Dn(r.Pe,s.Pe):r instanceof lp&&s instanceof lp}(t.transform,e.transform)}class As{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new As}static exists(e){return new As(void 0,e)}static updateTime(e){return new As(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class eg{}function aE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new b4(t.key,As.none()):new tg(t.key,t.data,As.none());{const n=t.data,r=Cn.empty();let s=new ot(It.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new pd(t.key,r,new Dr(s.toArray()),As.none())}}function w4(t,e,n){t instanceof tg?function(s,i,o){const a=s.value.clone(),l=Hv(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof pd?function(s,i,o){if(!Pc(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Hv(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(lE(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ba(t,e,n,r){return t instanceof tg?function(i,o,a,l){if(!Pc(i.precondition,o))return a;const d=i.value.clone(),h=Wv(i.fieldTransforms,l,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof pd?function(i,o,a,l){if(!Pc(i.precondition,o))return a;const d=Wv(i.fieldTransforms,l,o),h=o.data;return h.setAll(lE(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(i,o,a){return Pc(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function qv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&so(r,s,(i,o)=>x4(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class tg extends eg{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class pd extends eg{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function lE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Hv(t,e,n){const r=new Map;Ve(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,v4(o,a,n[s]))}return r}function Wv(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,y4(i,o,e))}return r}class b4 extends eg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&w4(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ba(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ba(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=rE();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=aE(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),me())}isEqual(e){return this.batchId===e.batchId&&so(this.mutations,e.mutations,(n,r)=>qv(n,r))&&so(this.baseMutations,e.baseMutations,(n,r)=>qv(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe,fe;function cE(t){if(t===void 0)return rr("GRPC error has no .code"),K.UNKNOWN;switch(t){case qe.OK:return K.OK;case qe.CANCELLED:return K.CANCELLED;case qe.UNKNOWN:return K.UNKNOWN;case qe.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case qe.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case qe.INTERNAL:return K.INTERNAL;case qe.UNAVAILABLE:return K.UNAVAILABLE;case qe.UNAUTHENTICATED:return K.UNAUTHENTICATED;case qe.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case qe.NOT_FOUND:return K.NOT_FOUND;case qe.ALREADY_EXISTS:return K.ALREADY_EXISTS;case qe.PERMISSION_DENIED:return K.PERMISSION_DENIED;case qe.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case qe.ABORTED:return K.ABORTED;case qe.OUT_OF_RANGE:return K.OUT_OF_RANGE;case qe.UNIMPLEMENTED:return K.UNIMPLEMENTED;case qe.DATA_LOSS:return K.DATA_LOSS;default:return oe()}}(fe=qe||(qe={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4=new ks([4294967295,4294967295],0);function Gv(t){const e=S4().encode(t),n=new Vb;return n.update(e),new Uint8Array(n.digest())}function Kv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ks([n,r],0),new ks([s,i],0)]}class ng{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new sa(`Invalid padding: ${n}`);if(r<0)throw new sa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new sa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new sa(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ks.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(ks.fromNumber(r)));return s.compare(C4)===1&&(s=new ks([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Gv(e),[r,s]=Kv(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new ng(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=Gv(e),[r,s]=Kv(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class sa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,pl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new md(ie.min(),s,new ze(_e),es(),me())}}class pl{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new pl(r,n,me(),me(),me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class uE{constructor(e,n){this.targetId=e,this.me=n}}class dE{constructor(e,n,r=lt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Qv{constructor(){this.fe=0,this.ge=Jv(),this.pe=lt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=me(),n=me(),r=me();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:oe()}}),new pl(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Jv()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ve(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class k4{constructor(e){this.Le=e,this.Be=new Map,this.ke=es(),this.qe=Yv(),this.Qe=new ze(_e)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:oe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(op(i))if(r===0){const o=new re(i.path);this.Ue(n,o,yt.newNoDocument(o,ie.min()))}else Ve(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const d=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Vs(r).toUint8Array()}catch(l){if(l instanceof Gb)return ro("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new ng(o,s,i)}catch(l){return ro(l instanceof sa?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&op(a.target)){const l=new re(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,yt.newNoDocument(l,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=me();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const d=this.Je(l);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new md(e,n,this.Qe,this.ke,r);return this.ke=es(),this.qe=Yv(),this.Qe=new ze(_e),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Qv,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ot(_e),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Z("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Qv),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Yv(){return new ze(re.comparator)}function Jv(){return new ze(re.comparator)}const A4={asc:"ASCENDING",desc:"DESCENDING"},R4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},P4={and:"AND",or:"OR"};class N4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function up(t,e){return t.useProto3Json||ld(e)?e:{value:e}}function j4(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function O4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function $i(t){return Ve(!!t),ie.fromTimestamp(function(n){const r=Zr(n);return new Ut(r.seconds,r.nanos)}(t))}function D4(t,e){return dp(t,e).canonicalString()}function dp(t,e){const n=function(s){return new Ue(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function hE(t){const e=Ue.fromString(t);return Ve(yE(e)),e}function Ah(t,e){const n=hE(e);if(n.get(1)!==t.databaseId.projectId)throw new te(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new re(pE(n))}function fE(t,e){return D4(t.databaseId,e)}function L4(t){const e=hE(t);return e.length===4?Ue.emptyPath():pE(e)}function Xv(t){return new Ue(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function pE(t){return Ve(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function M4(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(Ve(h===void 0||typeof h=="string"),lt.fromBase64String(h||"")):(Ve(h===void 0||h instanceof Buffer||h instanceof Uint8Array),lt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){const h=d.code===void 0?K.UNKNOWN:cE(d.code);return new te(h,d.message||"")}(o);n=new dE(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Ah(t,r.document.name),i=$i(r.document.updateTime),o=r.document.createTime?$i(r.document.createTime):ie.min(),a=new Cn({mapValue:{fields:r.document.fields}}),l=yt.newFoundDocument(s,i,o,a),d=r.targetIds||[],h=r.removedTargetIds||[];n=new Nc(d,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Ah(t,r.document),i=r.readTime?$i(r.readTime):ie.min(),o=yt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Nc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Ah(t,r.document),i=r.removedTargetIds||[];n=new Nc([],i,s,null)}else{if(!("filter"in e))return oe();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new I4(s,i),a=r.targetId;n=new uE(a,o)}}return n}function F4(t,e){return{documents:[fE(t,e.path)]}}function U4(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=fE(t,s);const i=function(d){if(d.length!==0)return gE(Ln.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(h=>function(g){return{field:gi(g.field),direction:B4(g.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=up(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:s}}function V4(t){let e=L4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ve(r===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(p){const g=mE(p);return g instanceof Ln&&Yb(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(g=>function(k){return new _u(yi(k.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,ld(g)?null:g}(n.limit));let l=null;n.startAt&&(l=function(p){const g=!!p.before,b=p.values||[];return new vu(b,g)}(n.startAt));let d=null;return n.endAt&&(d=function(p){const g=!p.before,b=p.values||[];return new vu(b,g)}(n.endAt)),i4(e,s,o,i,a,"F",l,d)}function $4(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function mE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=yi(n.unaryFilter.field);return Ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=yi(n.unaryFilter.field);return Ke.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=yi(n.unaryFilter.field);return Ke.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=yi(n.unaryFilter.field);return Ke.create(o,"!=",{nullValue:"NULL_VALUE"});default:return oe()}}(t):t.fieldFilter!==void 0?function(n){return Ke.create(yi(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return oe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ln.create(n.compositeFilter.filters.map(r=>mE(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return oe()}}(n.compositeFilter.op))}(t):oe()}function B4(t){return A4[t]}function z4(t){return R4[t]}function q4(t){return P4[t]}function gi(t){return{fieldPath:t.canonicalString()}}function yi(t){return It.fromServerFormat(t.fieldPath)}function gE(t){return t instanceof Ke?function(n){if(n.op==="=="){if(Fv(n.value))return{unaryFilter:{field:gi(n.field),op:"IS_NAN"}};if(Mv(n.value))return{unaryFilter:{field:gi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Fv(n.value))return{unaryFilter:{field:gi(n.field),op:"IS_NOT_NAN"}};if(Mv(n.value))return{unaryFilter:{field:gi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gi(n.field),op:z4(n.op),value:n.value}}}(t):t instanceof Ln?function(n){const r=n.getFilters().map(s=>gE(s));return r.length===1?r[0]:{compositeFilter:{op:q4(n.op),filters:r}}}(t):oe()}function yE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e,n,r,s,i=ie.min(),o=ie.min(),a=lt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Lr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e){this.ct=e}}function W4(t){const e=V4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ap(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(){this.un=new K4}addToCollectionParentIndex(e,n){return this.un.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(Xr.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(Xr.min())}updateCollectionGroup(e,n,r){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}}class K4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ot(Ue.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ot(Ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ao(0)}static kn(){return new ao(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(){this.changes=new wo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&ba(r.mutation,s,Dr.empty(),Ut.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=me()){const s=Ts();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=ra();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ts();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,me()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=es();const o=wa(),a=function(){return wa()}();return n.forEach((l,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof pd)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),ba(h.mutation,d,h.mutation.getFieldMask(),Ut.now())):o.set(d.key,Dr.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>{var p;return a.set(d,new Y4(h,(p=o.get(d))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=wa();let s=new ze((o,a)=>o-a),i=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const d=n.get(l);if(d===null)return;let h=r.get(l)||Dr.empty();h=a.applyToLocalView(d,h),r.set(l,h);const p=(s.get(a.batchId)||me()).add(l);s=s.insert(a.batchId,p)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),d=l.key,h=l.value,p=rE();h.forEach(g=>{if(!i.has(g)){const b=aE(n.get(g),r.get(g));b!==null&&p.set(g,b),i=i.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,p))}return q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return re.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):o4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):q.resolve(Ts());let a=-1,l=i;return o.next(d=>q.forEach(d,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),i.get(h)?q.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{l=l.insert(h,g)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,l,d,me())).next(h=>({batchId:a,changes:d4(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new re(n)).next(r=>{let s=ra();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=ra();return this.indexManager.getCollectionParents(e,i).next(a=>q.forEach(a,l=>{const d=function(p,g){return new ud(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((p,g)=>{o=o.insert(p,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,yt.newInvalidDocument(h)))});let a=ra();return o.forEach((l,d)=>{const h=i.get(l);h!==void 0&&ba(h.mutation,d,Dr.empty(),Ut.now()),hd(n,d)&&(a=a.insert(l,d))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return q.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:$i(s.createTime)}}(n)),q.resolve()}getNamedQuery(e,n){return q.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:W4(s.bundledQuery),readTime:$i(s.readTime)}}(n)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(){this.overlays=new ze(re.comparator),this.Ir=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ts();return q.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),q.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),q.resolve()}getOverlaysForCollection(e,n,r){const s=Ts(),i=n.length+1,o=new re(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,d=l.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return q.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new ze((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=Ts(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const a=Ts(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=s)););return q.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new T4(n,r));let i=this.Ir.get(n);i===void 0&&(i=me(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(){this.sessionToken=lt.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(){this.Tr=new ot(Je.Er),this.dr=new ot(Je.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Je(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Je(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new re(new Ue([])),r=new Je(n,e),s=new Je(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new re(new Ue([])),r=new Je(n,e),s=new Je(n,e+1);let i=me();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Je(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Je{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return re.comparator(e.key,n.key)||_e(e.wr,n.wr)}static Ar(e,n){return _e(e.wr,n.wr)||re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ot(Je.Er)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new E4(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new Je(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return q.resolve(o)}lookupMutationBatch(e,n){return q.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Je(n,0),s=new Je(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ot(_e);return n.forEach(s=>{const i=new Je(s,0),o=new Je(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;re.isDocumentKey(i)||(i=i.child(""));const o=new Je(new re(i),0);let a=new ot(_e);return this.br.forEachWhile(l=>{const d=l.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(a=a.add(l.wr)),!0)},o),q.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ve(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return q.forEach(n.mutations,s=>{const i=new Je(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Je(n,0),s=this.br.firstAfterOrEqual(r);return q.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e){this.Mr=e,this.docs=function(){return new ze(re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return q.resolve(r?r.document.mutableCopy():yt.newInvalidDocument(n))}getEntries(e,n){let r=es();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():yt.newInvalidDocument(s))}),q.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=es();const o=n.path,a=new re(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:d,value:{document:h}}=l.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||VN(UN(h),r)<=0||(s.has(h.key)||hd(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return q.resolve(i)}getAllFromCollectionGroup(e,n,r,s){oe()}Or(e,n){return q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new r3(this)}getSize(e){return q.resolve(this.size)}}class r3 extends Q4{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),q.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e){this.persistence=e,this.Nr=new wo(n=>Jm(n),Xm),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.Lr=0,this.Br=new rg,this.targetCount=0,this.kr=ao.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),q.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new ao(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.Kn(n),q.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),q.waitFor(i).next(()=>s)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return q.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),q.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),q.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return q.resolve(r)}containsKey(e,n){return q.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Gm(0),this.Kr=!1,this.Kr=!0,this.$r=new e3,this.referenceDelegate=e(this),this.Ur=new s3(this),this.indexManager=new G4,this.remoteDocumentCache=function(s){return new n3(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new H4(n),this.Gr=new X4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Z4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new t3(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Z("MemoryPersistence","Starting transaction:",e);const s=new o3(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return q.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class o3 extends BN{constructor(e){super(),this.currentSequenceNumber=e}}class sg{constructor(e){this.persistence=e,this.Jr=new rg,this.Yr=null}static Zr(e){return new sg(e)}get Xr(){if(this.Yr)return this.Yr;throw oe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),q.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),q.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.Xr,r=>{const s=re.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,ie.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return q.or([()=>q.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=me(),s=me();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new ig(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return cP()?8:zN(_t())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new a3;return this.Xi(e,n,o).next(a=>{if(i.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Yo()<=he.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",mi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),q.resolve()):(Yo()<=he.DEBUG&&Z("QueryEngine","Query:",mi(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Yo()<=he.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",mi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nn(n))):q.resolve())}Yi(e,n){if(Bv(n))return q.resolve(null);let r=Nn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=ap(n,null,"F"),r=Nn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=me(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const d=this.ts(n,a);return this.ns(n,d,o,l.readTime)?this.Yi(e,ap(n,null,"F")):this.rs(e,d,n,l)}))})))}Zi(e,n,r,s){return Bv(n)||s.isEqual(ie.min())?q.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?q.resolve(null):(Yo()<=he.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),mi(n)),this.rs(e,o,n,FN(s,-1)).next(a=>a))})}ts(e,n){let r=new ot(tE(e));return n.forEach((s,i)=>{hd(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return Yo()<=he.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",mi(n)),this.Ji.getDocumentsMatchingQuery(e,n,Xr.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new ze(_e),this._s=new wo(i=>Jm(i),Xm),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new J4(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function u3(t,e,n,r){return new c3(t,e,n,r)}async function vE(t,e){const n=pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=me();for(const d of s){o.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}for(const d of i){a.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(d=>({hs:d,removedBatchIds:o,addedBatchIds:a}))})})}function _E(t){const e=pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function d3(t,e){const n=pe(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((h,p)=>{const g=s.get(p);if(!g)return;a.push(n.Ur.removeMatchingKeys(i,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(i,h.addedDocuments,p)));let b=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?b=b.withResumeToken(lt.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):h.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(h.resumeToken,r)),s=s.insert(p,b),function(N,P,A){return N.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(g,b,h)&&a.push(n.Ur.updateTargetData(i,b))});let l=es(),d=me();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(h3(i,o,e.documentUpdates).next(h=>{l=h.Ps,d=h.Is})),!r.isEqual(ie.min())){const h=n.Ur.getLastRemoteSnapshotVersion(i).next(p=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return q.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,d)).next(()=>l)}).then(i=>(n.os=s,i))}function h3(t,e,n){let r=me(),s=me();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=es();return n.forEach((a,l)=>{const d=i.get(a);l.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ie.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!d.isValidDocument()||l.version.compareTo(d.version)>0||l.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Z("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",l.version)}),{Ps:o,Is:s}})}function f3(t,e){const n=pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,q.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new Lr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function hp(t,e,n){const r=pe(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!fl(o))throw o;Z("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function Zv(t,e,n){const r=pe(t);let s=ie.min(),i=me();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,d,h){const p=pe(l),g=p._s.get(h);return g!==void 0?q.resolve(p.os.get(g)):p.Ur.getTargetData(d,h)}(r,o,Nn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:ie.min(),n?i:me())).next(a=>(p3(r,l4(e),a),{documents:a,Ts:i})))}function p3(t,e,n){let r=t.us.get(e)||ie.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class e_{constructor(){this.activeTargetIds=p4()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class m3{constructor(){this.so=new e_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new e_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hc=null;function Rh(){return hc===null?hc=function(){return 268435456+Math.round(2147483648*Math.random())}():hc++,"0x"+hc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pt="WebChannelConnection";class _3 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=Rh(),l=this.xo(n,r.toUriEncodedString());Z("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,i,o),this.No(n,l,d,s).then(h=>(Z("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw ro("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",s),h})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=y3[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=Rh();return new Promise((o,a)=>{const l=new $b;l.setWithCredentials(!0),l.listenOnce(Bb.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Rc.NO_ERROR:const h=l.getResponseJson();Z(pt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),o(h);break;case Rc.TIMEOUT:Z(pt,`RPC '${e}' ${i} timed out`),a(new te(K.DEADLINE_EXCEEDED,"Request time out"));break;case Rc.HTTP_ERROR:const p=l.getStatus();if(Z(pt,`RPC '${e}' ${i} failed with status:`,p,"response text:",l.getResponseText()),p>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);const b=g==null?void 0:g.error;if(b&&b.status&&b.message){const k=function(P){const A=P.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(A)>=0?A:K.UNKNOWN}(b.status);a(new te(k,b.message))}else a(new te(K.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new te(K.UNAVAILABLE,"Connection failed."));break;default:oe()}}finally{Z(pt,`RPC '${e}' ${i} completed.`)}});const d=JSON.stringify(s);Z(pt,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",d,r,15)})}Bo(e,n,r){const s=Rh(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Hb(),a=qb(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(l.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");Z(pt,`Creating RPC '${e}' stream ${s}: ${h}`,l);const p=o.createWebChannel(h,l);let g=!1,b=!1;const k=new v3({Io:P=>{b?Z(pt,`Not sending because RPC '${e}' stream ${s} is closed:`,P):(g||(Z(pt,`Opening RPC '${e}' stream ${s} transport.`),p.open(),g=!0),Z(pt,`RPC '${e}' stream ${s} sending:`,P),p.send(P))},To:()=>p.close()}),N=(P,A,E)=>{P.listen(A,C=>{try{E(C)}catch(j){setTimeout(()=>{throw j},0)}})};return N(p,na.EventType.OPEN,()=>{b||(Z(pt,`RPC '${e}' stream ${s} transport opened.`),k.yo())}),N(p,na.EventType.CLOSE,()=>{b||(b=!0,Z(pt,`RPC '${e}' stream ${s} transport closed`),k.So())}),N(p,na.EventType.ERROR,P=>{b||(b=!0,ro(pt,`RPC '${e}' stream ${s} transport errored:`,P),k.So(new te(K.UNAVAILABLE,"The operation could not be completed")))}),N(p,na.EventType.MESSAGE,P=>{var A;if(!b){const E=P.data[0];Ve(!!E);const C=E,j=C.error||((A=C[0])===null||A===void 0?void 0:A.error);if(j){Z(pt,`RPC '${e}' stream ${s} received error:`,j);const U=j.status;let L=function(x){const R=qe[x];if(R!==void 0)return cE(R)}(U),v=j.message;L===void 0&&(L=K.INTERNAL,v="Unknown error status: "+U+" with message "+j.message),b=!0,k.So(new te(L,v)),p.close()}else Z(pt,`RPC '${e}' stream ${s} received:`,E),k.bo(E)}}),N(a,zb.STAT_EVENT,P=>{P.stat===tp.PROXY?Z(pt,`RPC '${e}' stream ${s} detected buffering proxy`):P.stat===tp.NOPROXY&&Z(pt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{k.wo()},0),k}}function Ph(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(t){return new N4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&Z("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e,n,r,s,i,o,a,l){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new wE(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(rr(n.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new te(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class w3 extends x3{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=M4(this.serializer,e),r=function(i){if(!("targetChange"in i))return ie.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ie.min():o.readTime?$i(o.readTime):ie.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Xv(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=op(l)?{documents:F4(i,l)}:{query:U4(i,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=O4(i,o.resumeToken);const d=up(i,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(ie.min())>0){a.readTime=j4(i,o.snapshotVersion.toTimestamp());const d=up(i,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);const r=$4(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Xv(this.serializer),n.removeTarget=e,this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3 extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new te(K.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,dp(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new te(K.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,dp(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te(K.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class E3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(rr(n),this.D_=!1):Z("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{gl(this)&&(Z("RemoteStore","Restarting streams for network reachability change."),await async function(l){const d=pe(l);d.L_.add(4),await ml(d),d.q_.set("Unknown"),d.L_.delete(4),await gd(d)}(this))})}),this.q_=new E3(r,s)}}async function gd(t){if(gl(t))for(const e of t.B_)await e(!0)}async function ml(t){for(const e of t.B_)await e(!1)}function bE(t,e){const n=pe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),cg(n)?lg(n):bo(n).r_()&&ag(n,e))}function og(t,e){const n=pe(t),r=bo(n);n.N_.delete(e),r.r_()&&EE(n,e),n.N_.size===0&&(r.r_()?r.o_():gl(n)&&n.q_.set("Unknown"))}function ag(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bo(t).A_(e)}function EE(t,e){t.Q_.xe(e),bo(t).R_(e)}function lg(t){t.Q_=new k4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),bo(t).start(),t.q_.v_()}function cg(t){return gl(t)&&!bo(t).n_()&&t.N_.size>0}function gl(t){return pe(t).L_.size===0}function TE(t){t.Q_=void 0}async function I3(t){t.q_.set("Online")}async function S3(t){t.N_.forEach((e,n)=>{ag(t,e)})}async function C3(t,e){TE(t),cg(t)?(t.q_.M_(e),lg(t)):t.q_.set("Unknown")}async function k3(t,e,n){if(t.q_.set("Online"),e instanceof dE&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){Z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await n_(t,r)}else if(e instanceof Nc?t.Q_.Ke(e):e instanceof uE?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ie.min()))try{const r=await _E(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((l,d)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.N_.get(d);h&&i.N_.set(d,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,d)=>{const h=i.N_.get(l);if(!h)return;i.N_.set(l,h.withResumeToken(lt.EMPTY_BYTE_STRING,h.snapshotVersion)),EE(i,l);const p=new Lr(h.target,l,d,h.sequenceNumber);ag(i,p)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Z("RemoteStore","Failed to raise snapshot:",r),await n_(t,r)}}async function n_(t,e,n){if(!fl(e))throw e;t.L_.add(1),await ml(t),t.q_.set("Offline"),n||(n=()=>_E(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Z("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await gd(t)})}async function r_(t,e){const n=pe(t);n.asyncQueue.verifyOperationInProgress(),Z("RemoteStore","RemoteStore received new credentials");const r=gl(n);n.L_.add(3),await ml(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await gd(n)}async function A3(t,e){const n=pe(t);e?(n.L_.delete(2),await gd(n)):e||(n.L_.add(2),await ml(n),n.q_.set("Unknown"))}function bo(t){return t.K_||(t.K_=function(n,r,s){const i=pe(n);return i.w_(),new w3(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:I3.bind(null,t),Ro:S3.bind(null,t),mo:C3.bind(null,t),d_:k3.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),cg(t)?lg(t):t.q_.set("Unknown")):(await t.K_.stop(),TE(t))})),t.K_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new ug(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function IE(t,e){if(rr("AsyncQueue",`${e}: ${t}`),fl(t))return new te(K.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e){this.comparator=e?(n,r)=>e(n,r)||re.comparator(n.key,r.key):(n,r)=>re.comparator(n.key,r.key),this.keyedMap=ra(),this.sortedSet=new ze(this.comparator)}static emptySet(e){return new Bi(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Bi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Bi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(){this.W_=new ze(re.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):oe():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class lo{constructor(e,n,r,s,i,o,a,l,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new lo(e,n,Bi.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class P3{constructor(){this.queries=i_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=pe(n),i=s.queries;s.queries=i_(),i.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new te(K.ABORTED,"Firestore shutting down"))}}function i_(){return new wo(t=>eE(t),dd)}async function N3(t,e){const n=pe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new R3,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=IE(o,`Initialization of query '${mi(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&dg(n)}async function j3(t,e){const n=pe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function O3(t,e){const n=pe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&dg(n)}function D3(t,e,n){const r=pe(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function dg(t){t.Y_.forEach(e=>{e.next()})}var fp,o_;(o_=fp||(fp={})).ea="default",o_.Cache="cache";class L3{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new lo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=lo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==fp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e){this.key=e}}class CE{constructor(e){this.key=e}}class M3{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=me(),this.mutatedKeys=me(),this.Aa=tE(e),this.Ra=new Bi(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new s_,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,p)=>{const g=s.get(h),b=hd(this.query,p)?p:null,k=!!g&&this.mutatedKeys.has(g.key),N=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let P=!1;g&&b?g.data.isEqual(b.data)?k!==N&&(r.track({type:3,doc:b}),P=!0):this.ga(g,b)||(r.track({type:2,doc:b}),P=!0,(l&&this.Aa(b,l)>0||d&&this.Aa(b,d)<0)&&(a=!0)):!g&&b?(r.track({type:0,doc:b}),P=!0):g&&!b&&(r.track({type:1,doc:g}),P=!0,(l||d)&&(a=!0)),P&&(b?(o=o.add(b),i=N?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,p)=>function(b,k){const N=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe()}};return N(b)-N(k)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,d=l!==this.Ea;return this.Ea=l,o.length!==0||d?{snapshot:new lo(this.query,e.Ra,i,o,e.mutatedKeys,l===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new s_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=me(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new CE(r))}),this.da.forEach(r=>{e.has(r)||n.push(new SE(r))}),n}ba(e){this.Ta=e.Ts,this.da=me();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return lo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class F3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class U3{constructor(e){this.key=e,this.va=!1}}class V3{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new wo(a=>eE(a),dd),this.Ma=new Map,this.xa=new Set,this.Oa=new ze(re.comparator),this.Na=new Map,this.La=new rg,this.Ba={},this.ka=new Map,this.qa=ao.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function $3(t,e,n=!0){const r=NE(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await kE(r,e,n,!0),s}async function B3(t,e){const n=NE(t);await kE(n,e,!0,!1)}async function kE(t,e,n,r){const s=await f3(t.localStore,Nn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await z3(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&bE(t.remoteStore,s),a}async function z3(t,e,n,r,s){t.Ka=(p,g,b)=>async function(N,P,A,E){let C=P.view.ma(A);C.ns&&(C=await Zv(N.localStore,P.query,!1).then(({documents:v})=>P.view.ma(v,C)));const j=E&&E.targetChanges.get(P.targetId),U=E&&E.targetMismatches.get(P.targetId)!=null,L=P.view.applyChanges(C,N.isPrimaryClient,j,U);return l_(N,P.targetId,L.wa),L.snapshot}(t,p,g,b);const i=await Zv(t.localStore,e,!0),o=new M3(e,i.Ts),a=o.ma(i.documents),l=pl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(a,t.isPrimaryClient,l);l_(t,n,d.wa);const h=new F3(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),d.snapshot}async function q3(t,e,n){const r=pe(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!dd(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await hp(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&og(r.remoteStore,s.targetId),pp(r,s.targetId)}).catch(Wm)):(pp(r,s.targetId),await hp(r.localStore,s.targetId,!0))}async function H3(t,e){const n=pe(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),og(n.remoteStore,r.targetId))}async function AE(t,e){const n=pe(t);try{const r=await d3(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(Ve(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?Ve(o.va):s.removedDocuments.size>0&&(Ve(o.va),o.va=!1))}),await PE(n,r,e)}catch(r){await Wm(r)}}function a_(t,e,n){const r=pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=pe(o);l.onlineState=a;let d=!1;l.queries.forEach((h,p)=>{for(const g of p.j_)g.Z_(a)&&(d=!0)}),d&&dg(l)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function W3(t,e,n){const r=pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new ze(re.comparator);o=o.insert(i,yt.newNoDocument(i,ie.min()));const a=me().add(i),l=new md(ie.min(),new Map,new ze(_e),o,a);await AE(r,l),r.Oa=r.Oa.remove(i),r.Na.delete(e),hg(r)}else await hp(r.localStore,e,!1).then(()=>pp(r,e,n)).catch(Wm)}function pp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||RE(t,r)})}function RE(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(og(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),hg(t))}function l_(t,e,n){for(const r of n)r instanceof SE?(t.La.addReference(r.key,e),G3(t,r)):r instanceof CE?(Z("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||RE(t,r.key)):oe()}function G3(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Z("SyncEngine","New document in limbo: "+n),t.xa.add(r),hg(t))}function hg(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new re(Ue.fromString(e)),r=t.qa.next();t.Na.set(r,new U3(n)),t.Oa=t.Oa.insert(n,r),bE(t.remoteStore,new Lr(Nn(Zm(n.path)),r,"TargetPurposeLimboResolution",Gm.oe))}}async function PE(t,e,n){const r=pe(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const p=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(d){s.push(d);const p=ig.Wi(l.targetId,d);i.push(p)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(l,d){const h=pe(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>q.forEach(d,g=>q.forEach(g.$i,b=>h.persistence.referenceDelegate.addReference(p,g.targetId,b)).next(()=>q.forEach(g.Ui,b=>h.persistence.referenceDelegate.removeReference(p,g.targetId,b)))))}catch(p){if(!fl(p))throw p;Z("LocalStore","Failed to update sequence numbers: "+p)}for(const p of d){const g=p.targetId;if(!p.fromCache){const b=h.os.get(g),k=b.snapshotVersion,N=b.withLastLimboFreeSnapshotVersion(k);h.os=h.os.insert(g,N)}}}(r.localStore,i))}async function K3(t,e){const n=pe(t);if(!n.currentUser.isEqual(e)){Z("SyncEngine","User change. New user:",e.toKey());const r=await vE(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(l=>{l.reject(new te(K.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await PE(n,r.hs)}}function Q3(t,e){const n=pe(t),r=n.Na.get(e);if(r&&r.va)return me().add(r.key);{let s=me();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function NE(t){const e=pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=AE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Q3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=W3.bind(null,e),e.Ca.d_=O3.bind(null,e.eventManager),e.Ca.$a=D3.bind(null,e.eventManager),e}class bu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xE(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return u3(this.persistence,new l3,e.initialUser,this.serializer)}Ga(e){return new i3(sg.Zr,this.serializer)}Wa(e){return new m3}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bu.provider={build:()=>new bu};class mp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>a_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=K3.bind(null,this.syncEngine),await A3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new P3}()}createDatastore(e){const n=xE(e.databaseInfo.databaseId),r=function(i){return new _3(i)}(e.databaseInfo);return function(i,o,a,l){return new b3(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new T3(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>a_(this.syncEngine,n,0),function(){return t_.D()?new t_:new g3}())}createSyncEngine(e,n){return function(s,i,o,a,l,d,h){const p=new V3(s,i,o,a,l,d);return h&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=pe(s);Z("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await ml(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}mp.provider={build:()=>new mp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):rr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=mt.UNAUTHENTICATED,this.clientId=LN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Z("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Z("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=IE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Nh(t,e){t.asyncQueue.verifyOperationInProgress(),Z("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await vE(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function c_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await X3(t);Z("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>r_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>r_(e.remoteStore,s)),t._onlineComponents=e}async function X3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Z("FirestoreClient","Using user provided OfflineComponentProvider");try{await Nh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===K.FAILED_PRECONDITION||s.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ro("Error using user provided cache. Falling back to memory cache: "+n),await Nh(t,new bu)}}else Z("FirestoreClient","Using default OfflineComponentProvider"),await Nh(t,new bu);return t._offlineComponents}async function Z3(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Z("FirestoreClient","Using user provided OnlineComponentProvider"),await c_(t,t._uninitializedComponentsProvider._online)):(Z("FirestoreClient","Using default OnlineComponentProvider"),await c_(t,new mp))),t._onlineComponents}async function u_(t){const e=await Z3(t),n=e.eventManager;return n.onListen=$3.bind(null,e.syncEngine),n.onUnlisten=q3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=B3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=H3.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_=new Map;function ej(t,e,n,r){if(e===!0&&r===!0)throw new te(K.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function h_(t){if(re.isDocumentKey(t))throw new te(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function tj(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe()}function jc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tj(t);throw new te(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new te(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ej("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jE((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new te(K.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new te(K.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new te(K.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fg{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new f_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new te(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new te(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new f_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new kN;switch(r.type){case"firstParty":return new NN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=d_.get(n);r&&(Z("ComponentProvider","Removing Datastore"),d_.delete(n),r.terminate())}(this),Promise.resolve()}}function nj(t,e,n,r={}){var s;const i=(t=jc(t,fg))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=mt.MOCK_USER;else{a=Rb(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new te(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new mt(d)}t._authCredentials=new AN(new Wb(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yd(this.firestore,e,this._query)}}class ni{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ni(this.firestore,e,this._key)}}class zi extends yd{constructor(e,n,r){super(e,n,Zm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ni(this.firestore,null,new re(e))}withConverter(e){return new zi(this.firestore,e,this._path)}}function rj(t,e,...n){if(t=Un(t),t instanceof fg){const r=Ue.fromString(e,...n);return h_(r),new zi(t,null,r)}{if(!(t instanceof ni||t instanceof zi))throw new te(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ue.fromString(e,...n));return h_(r),new zi(t.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new wE(this,"async_queue_retry"),this.Vu=()=>{const r=Ph();r&&Z("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Ph();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Ph();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Vi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!fl(e))throw e;Z("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw rr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=ug.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&oe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function m_(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class gp extends fg{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new p_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new p_(e),this._firestoreClient=void 0,await e}}}function sj(t,e){const n=typeof t=="object"?t:qm(),r=typeof t=="string"?t:"(default)",s=_o(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=Cb("firestore");i&&nj(s,...i)}return s}function ij(t){if(t._terminated)throw new te(K.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||oj(t),t._firestoreClient}function oj(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,d,h){return new WN(a,l,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,jE(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new J3(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Eu(lt.fromBase64String(e))}catch(n){throw new te(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Eu(lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new It(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}const cj=new RegExp("[~\\*/\\[\\]]");function uj(t,e,n){if(e.search(cj)>=0)throw g_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new OE(...e.split("."))._internalPath}catch{throw g_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function g_(t,e,n,r,s){let i=`Function ${e}() called with invalid data`;i+=". ";let o="";return new te(K.INVALID_ARGUMENT,i+t+o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new ni(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(LE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class dj extends DE{data(){return super.data()}}function LE(t,e){return typeof e=="string"?uj(t,e):e instanceof OE?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new te(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fj{convertValue(e,n="none"){switch($s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $e(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw oe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return cd(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>$e(o.doubleValue));return new lj(i)}convertGeoPoint(e){return new aj($e(e.latitude),$e(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Qm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ya(e));default:return null}}convertTimestamp(e){const n=Zr(e);return new Ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ue.fromString(e);Ve(yE(r));const s=new Ja(r.get(1),r.get(3)),i=new re(r.popFirst(5));return s.isEqual(n)||rr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ME extends DE{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Oc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(LE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Oc extends ME{data(e={}){return super.data(e)}}class pj{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ia(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Oc(this._firestore,this._userDataWriter,r.key,r,new ia(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Oc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ia(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Oc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ia(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:mj(a.type),doc:l,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function mj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe()}}class FE extends fj{constructor(e){super(),this.firestore=e}convertBytes(e){return new Eu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ni(this.firestore,null,n)}}function gj(t,...e){var n,r,s;t=Un(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||m_(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(m_(e[o])){const p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(s=p.complete)===null||s===void 0?void 0:s.bind(p)}let l,d,h;if(t instanceof ni)d=jc(t.firestore,gp),h=Zm(t._key.path),l={next:p=>{e[o]&&e[o](yj(d,t,p))},error:e[o+1],complete:e[o+2]};else{const p=jc(t,yd);d=jc(p.firestore,gp),h=p._query;const g=new FE(d);l={next:b=>{e[o]&&e[o](new pj(d,g,p,b))},error:e[o+1],complete:e[o+2]},hj(t._query)}return function(g,b,k,N){const P=new Y3(N),A=new L3(b,P,k);return g.asyncQueue.enqueueAndForget(async()=>N3(await u_(g),A)),()=>{P.Za(),g.asyncQueue.enqueueAndForget(async()=>j3(await u_(g),A))}}(ij(d),h,a,l)}function yj(t,e,n){const r=n.docs.get(e._key),s=new FE(t);return new ME(t,s,e._key,r,new ia(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){xo=s})(ti),bn(new ln("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new gp(new RN(r.getProvider("auth-internal")),new ON(r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new te(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ja(d.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Ft(Nv,"4.7.3",e),Ft(Nv,"4.7.3","esm2017")})();var vj="firebase",_j="10.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ft(vj,_j,"app");const UE="@firebase/installations",pg="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=1e4,$E=`w:${pg}`,BE="FIS_v2",xj="https://firebaseinstallations.googleapis.com/v1",wj=60*60*1e3,bj="installations",Ej="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Bs=new ei(bj,Ej,Tj);function zE(t){return t instanceof cn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE({projectId:t}){return`${xj}/projects/${t}/installations`}function HE(t){return{token:t.token,requestStatus:2,expiresIn:Sj(t.expiresIn),creationTime:Date.now()}}async function WE(t,e){const r=(await e.json()).error;return Bs.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function GE({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Ij(t,{refreshToken:e}){const n=GE(t);return n.append("Authorization",Cj(e)),n}async function KE(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Sj(t){return Number(t.replace("s","000"))}function Cj(t){return`${BE} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kj({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=qE(t),s=GE(t),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={fid:n,authVersion:BE,appId:t.appId,sdkVersion:$E},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await KE(()=>fetch(r,a));if(l.ok){const d=await l.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:HE(d.authToken)}}else throw await WE("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aj(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj=/^[cdef][\w-]{21}$/,yp="";function Pj(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=Nj(t);return Rj.test(n)?n:yp}catch{return yp}}function Nj(t){return Aj(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE=new Map;function JE(t,e){const n=vd(t);XE(n,e),jj(n,e)}function XE(t,e){const n=YE.get(t);if(n)for(const r of n)r(e)}function jj(t,e){const n=Oj();n&&n.postMessage({key:t,fid:e}),Dj()}let Is=null;function Oj(){return!Is&&"BroadcastChannel"in self&&(Is=new BroadcastChannel("[Firebase] FID Change"),Is.onmessage=t=>{XE(t.data.key,t.data.fid)}),Is}function Dj(){YE.size===0&&Is&&(Is.close(),Is=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj="firebase-installations-database",Mj=1,zs="firebase-installations-store";let jh=null;function mg(){return jh||(jh=Lb(Lj,Mj,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(zs)}}})),jh}async function Tu(t,e){const n=vd(t),s=(await mg()).transaction(zs,"readwrite"),i=s.objectStore(zs),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&JE(t,e.fid),e}async function ZE(t){const e=vd(t),r=(await mg()).transaction(zs,"readwrite");await r.objectStore(zs).delete(e),await r.done}async function _d(t,e){const n=vd(t),s=(await mg()).transaction(zs,"readwrite"),i=s.objectStore(zs),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&JE(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gg(t){let e;const n=await _d(t.appConfig,r=>{const s=Fj(r),i=Uj(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===yp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Fj(t){const e=t||{fid:Pj(),registrationStatus:0};return e2(e)}function Uj(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Bs.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Vj(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:$j(t)}:{installationEntry:e}}async function Vj(t,e){try{const n=await kj(t,e);return Tu(t.appConfig,n)}catch(n){throw zE(n)&&n.customData.serverCode===409?await ZE(t.appConfig):await Tu(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function $j(t){let e=await y_(t.appConfig);for(;e.registrationStatus===1;)await QE(100),e=await y_(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await gg(t);return r||n}return e}function y_(t){return _d(t,e=>{if(!e)throw Bs.create("installation-not-found");return e2(e)})}function e2(t){return Bj(t)?{fid:t.fid,registrationStatus:0}:t}function Bj(t){return t.registrationStatus===1&&t.registrationTime+VE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zj({appConfig:t,heartbeatServiceProvider:e},n){const r=qj(t,n),s=Ij(t,n),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={installation:{sdkVersion:$E,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await KE(()=>fetch(r,a));if(l.ok){const d=await l.json();return HE(d)}else throw await WE("Generate Auth Token",l)}function qj(t,{fid:e}){return`${qE(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yg(t,e=!1){let n;const r=await _d(t.appConfig,i=>{if(!t2(i))throw Bs.create("not-registered");const o=i.authToken;if(!e&&Gj(o))return i;if(o.requestStatus===1)return n=Hj(t,e),i;{if(!navigator.onLine)throw Bs.create("app-offline");const a=Qj(i);return n=Wj(t,a),a}});return n?await n:r.authToken}async function Hj(t,e){let n=await v_(t.appConfig);for(;n.authToken.requestStatus===1;)await QE(100),n=await v_(t.appConfig);const r=n.authToken;return r.requestStatus===0?yg(t,e):r}function v_(t){return _d(t,e=>{if(!t2(e))throw Bs.create("not-registered");const n=e.authToken;return Yj(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Wj(t,e){try{const n=await zj(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Tu(t.appConfig,r),n}catch(n){if(zE(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await ZE(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Tu(t.appConfig,r)}throw n}}function t2(t){return t!==void 0&&t.registrationStatus===2}function Gj(t){return t.requestStatus===2&&!Kj(t)}function Kj(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+wj}function Qj(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Yj(t){return t.requestStatus===1&&t.requestTime+VE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jj(t){const e=t,{installationEntry:n,registrationPromise:r}=await gg(e);return r?r.catch(console.error):yg(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xj(t,e=!1){const n=t;return await Zj(n),(await yg(n,e)).token}async function Zj(t){const{registrationPromise:e}=await gg(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(t){if(!t||!t.options)throw Oh("App Configuration");if(!t.name)throw Oh("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Oh(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Oh(t){return Bs.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2="installations",tO="installations-internal",nO=t=>{const e=t.getProvider("app").getImmediate(),n=eO(e),r=_o(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},rO=t=>{const e=t.getProvider("app").getImmediate(),n=_o(e,n2).getImmediate();return{getId:()=>Jj(n),getToken:s=>Xj(n,s)}};function sO(){bn(new ln(n2,nO,"PUBLIC")),bn(new ln(tO,rO,"PRIVATE"))}sO();Ft(UE,pg);Ft(UE,pg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="analytics",iO="firebase_id",oO="origin",aO=60*1e3,lO="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",vg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vt=new ad("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},sn=new ei("analytics","Analytics",cO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uO(t){if(!t.startsWith(vg)){const e=sn.create("invalid-gtag-resource",{gtagURL:t});return Vt.warn(e.message),""}return t}function r2(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function dO(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function hO(t,e){const n=dO("firebase-js-sdk-policy",{createScriptURL:uO}),r=document.createElement("script"),s=`${vg}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function fO(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function pO(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await r2(n)).find(d=>d.measurementId===s);l&&await e[l.appId]}}catch(a){Vt.error(a)}t("config",s,i)}async function mO(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await r2(n);for(const l of o){const d=a.find(p=>p.measurementId===l),h=d&&e[d.appId];if(h)i.push(h);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){Vt.error(i)}}function gO(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await mO(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await pO(t,e,n,r,a,l)}else if(i==="consent"){const[a,l]=o;t("consent",a,l)}else if(i==="get"){const[a,l,d]=o;t("get",a,l,d)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){Vt.error(a)}}return s}function yO(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=gO(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function vO(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(vg)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O=30,xO=1e3;class wO{constructor(e={},n=xO){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const s2=new wO;function bO(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function EO(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:bO(r)},i=lO.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw sn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function TO(t,e=s2,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw sn.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw sn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new CO;return setTimeout(async()=>{a.abort()},aO),i2({appId:r,apiKey:s,measurementId:i},o,a,e)}async function i2(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=s2){var i;const{appId:o,measurementId:a}=t;try{await IO(r,e)}catch(l){if(a)return Vt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await EO(t);return s.deleteThrottleMetadata(o),l}catch(l){const d=l;if(!SO(d)){if(s.deleteThrottleMetadata(o),a)return Vt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:o,measurementId:a};throw l}const h=Number((i=d==null?void 0:d.customData)===null||i===void 0?void 0:i.httpStatus)===503?bv(n,s.intervalMillis,_O):bv(n,s.intervalMillis),p={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return s.setThrottleMetadata(o,p),Vt.debug(`Calling attemptFetch again in ${h} millis`),i2(t,p,r,s)}}function IO(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(sn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function SO(t){if(!(t instanceof cn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class CO{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function kO(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o=Object.assign(Object.assign({},r),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AO(){if(Nb())try{await jb()}catch(t){return Vt.warn(sn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Vt.warn(sn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function RO(t,e,n,r,s,i,o){var a;const l=TO(t);l.then(b=>{n[b.measurementId]=b.appId,t.options.measurementId&&b.measurementId!==t.options.measurementId&&Vt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>Vt.error(b)),e.push(l);const d=AO().then(b=>{if(b)return r.getId()}),[h,p]=await Promise.all([l,d]);vO(i)||hO(i,h.measurementId),s("js",new Date);const g=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return g[oO]="firebase",g.update=!0,p!=null&&(g[iO]=p),s("config",h.measurementId,g),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e){this.app=e}_delete(){return delete Ea[this.app.options.appId],Promise.resolve()}}let Ea={},x_=[];const w_={};let Dh="dataLayer",NO="gtag",b_,o2,E_=!1;function jO(){const t=[];if(Pb()&&t.push("This is a browser extension environment."),uP()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=sn.create("invalid-analytics-context",{errorInfo:e});Vt.warn(n.message)}}function OO(t,e,n){jO();const r=t.options.appId;if(!r)throw sn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Vt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw sn.create("no-api-key");if(Ea[r]!=null)throw sn.create("already-exists",{id:r});if(!E_){fO(Dh);const{wrappedGtag:i,gtagCore:o}=yO(Ea,x_,w_,Dh,NO);o2=i,b_=o,E_=!0}return Ea[r]=RO(t,x_,w_,e,b_,Dh,n),new PO(t)}function DO(t,e,n,r){t=Un(t),kO(o2,Ea[t.app.options.appId],e,n,r).catch(s=>Vt.error(s))}const T_="@firebase/analytics",I_="0.10.8";function LO(){bn(new ln(__,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return OO(r,s,n)},"PUBLIC")),bn(new ln("analytics-internal",t,"PRIVATE")),Ft(T_,I_),Ft(T_,I_,"esm2017");function t(e){try{const n=e.getProvider(__).getImmediate();return{logEvent:(r,s,i)=>DO(n,r,s,i)}}catch(n){throw sn.create("interop-component-reg-failed",{reason:n})}}}LO();function _g(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function a2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MO=a2,l2=new ei("auth","Firebase",a2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu=new ad("@firebase/auth");function FO(t,...e){Iu.logLevel<=he.WARN&&Iu.warn(`Auth (${ti}): ${t}`,...e)}function Dc(t,...e){Iu.logLevel<=he.ERROR&&Iu.error(`Auth (${ti}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(t,...e){throw xg(t,...e)}function jn(t,...e){return xg(t,...e)}function c2(t,e,n){const r=Object.assign(Object.assign({},MO()),{[e]:n});return new ei("auth","Firebase",r).create(e,{appName:t.name})}function Rs(t){return c2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return l2.create(t,...e)}function se(t,e,...n){if(!t)throw xg(e,...n)}function Kn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Dc(e),new Error(e)}function ir(t,e){t||Kn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function UO(){return S_()==="http:"||S_()==="https:"}function S_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(UO()||Pb()||"connection"in navigator)?navigator.onLine:!0}function $O(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,n){this.shortDelay=e,this.longDelay=n,ir(n>e,"Short delay should be less than long delay!"),this.isMobile=sP()||aP()}get(){return VO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(t,e){ir(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Kn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Kn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Kn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=new yl(3e4,6e4);function bg(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Eo(t,e,n,r,s={}){return d2(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=hl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:l},i);return oP()||(d.referrerPolicy="no-referrer"),u2.fetch()(h2(t,t.config.apiHost,n,a),d)})}async function d2(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},BO),e);try{const s=new HO(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw fc(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,d]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw fc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw fc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw fc(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw c2(t,h,d);sr(t,h)}}catch(s){if(s instanceof cn)throw s;sr(t,"network-request-failed",{message:String(s)})}}async function qO(t,e,n,r,s={}){const i=await Eo(t,e,n,r,s);return"mfaPendingCredential"in i&&sr(t,"multi-factor-auth-required",{_serverResponse:i}),i}function h2(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?wg(t.config,s):`${t.config.apiScheme}://${s}`}class HO{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(jn(this.auth,"network-request-failed")),zO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function fc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=jn(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WO(t,e){return Eo(t,"POST","/v1/accounts:delete",e)}async function f2(t,e){return Eo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ta(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function GO(t,e=!1){const n=Un(t),r=await n.getIdToken(e),s=Eg(r);se(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Ta(Lh(s.auth_time)),issuedAtTime:Ta(Lh(s.iat)),expirationTime:Ta(Lh(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Lh(t){return Number(t)*1e3}function Eg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Dc("JWT malformed, contained fewer than 3 sections"),null;try{const s=Ib(n);return s?JSON.parse(s):(Dc("Failed to decode base64 JWT payload"),null)}catch(s){return Dc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function C_(t){const e=Eg(t);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Za(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof cn&&KO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function KO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ta(this.lastLoginAt),this.creationTime=Ta(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Su(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Za(t,f2(n,{idToken:r}));se(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?p2(i.providerUserInfo):[],a=JO(t.providerData,o),l=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=l?d:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new _p(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function YO(t){const e=Un(t);await Su(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JO(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function p2(t){return t.map(e=>{var{providerId:n}=e,r=_g(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XO(t,e){const n=await d2(t,{},async()=>{const r=hl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=h2(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",u2.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ZO(t,e){return Eo(t,"POST","/v2/accounts:revokeToken",bg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):C_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){se(e.length!==0,"internal-error");const n=C_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await XO(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new qi;return r&&(se(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(se(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(se(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qi,this.toJSON())}_performRefresh(){return Kn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(t,e){se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Qn{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=_g(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new QO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new _p(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Za(this,this.stsTokenManager.getToken(this.auth,e));return se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return GO(this,e)}reload(){return YO(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Qn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Su(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Or(this.auth.app))return Promise.reject(Rs(this.auth));const e=await this.getIdToken();return await Za(this,WO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,d,h;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(s=n.email)!==null&&s!==void 0?s:void 0,b=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,k=(o=n.photoURL)!==null&&o!==void 0?o:void 0,N=(a=n.tenantId)!==null&&a!==void 0?a:void 0,P=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,A=(d=n.createdAt)!==null&&d!==void 0?d:void 0,E=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:C,emailVerified:j,isAnonymous:U,providerData:L,stsTokenManager:v}=n;se(C&&v,e,"internal-error");const y=qi.fromJSON(this.name,v);se(typeof C=="string",e,"internal-error"),yr(p,e.name),yr(g,e.name),se(typeof j=="boolean",e,"internal-error"),se(typeof U=="boolean",e,"internal-error"),yr(b,e.name),yr(k,e.name),yr(N,e.name),yr(P,e.name),yr(A,e.name),yr(E,e.name);const x=new Qn({uid:C,auth:e,email:g,emailVerified:j,displayName:p,isAnonymous:U,photoURL:k,phoneNumber:b,tenantId:N,stsTokenManager:y,createdAt:A,lastLoginAt:E});return L&&Array.isArray(L)&&(x.providerData=L.map(R=>Object.assign({},R))),P&&(x._redirectEventId=P),x}static async _fromIdTokenResponse(e,n,r=!1){const s=new qi;s.updateFromServerResponse(n);const i=new Qn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Su(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];se(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?p2(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new qi;a.updateFromIdToken(r);const l=new Qn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new _p(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,d),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=new Map;function Yn(t){ir(t instanceof Function,"Expected a class definition");let e=k_.get(t);return e?(ir(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,k_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}m2.type="NONE";const A_=m2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(t,e,n){return`firebase:${t}:${e}:${n}`}class Hi{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Lc(this.userKey,s.apiKey,i),this.fullPersistenceKey=Lc("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Qn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Hi(Yn(A_),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||Yn(A_);const o=Lc(r,e.config.apiKey,e.name);let a=null;for(const d of n)try{const h=await d._get(o);if(h){const p=Qn._fromJSON(e,h);d!==i&&(a=p),i=d;break}}catch{}const l=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Hi(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new Hi(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(g2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(w2(e))return"Blackberry";if(b2(e))return"Webos";if(y2(e))return"Safari";if((e.includes("chrome/")||v2(e))&&!e.includes("edge/"))return"Chrome";if(x2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function g2(t=_t()){return/firefox\//i.test(t)}function y2(t=_t()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function v2(t=_t()){return/crios\//i.test(t)}function _2(t=_t()){return/iemobile/i.test(t)}function x2(t=_t()){return/android/i.test(t)}function w2(t=_t()){return/blackberry/i.test(t)}function b2(t=_t()){return/webos/i.test(t)}function Tg(t=_t()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function e6(t=_t()){var e;return Tg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function t6(){return lP()&&document.documentMode===10}function E2(t=_t()){return Tg(t)||x2(t)||b2(t)||w2(t)||/windows phone/i.test(t)||_2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(t,e=[]){let n;switch(t){case"Browser":n=R_(_t());break;case"Worker":n=`${R_(_t())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ti}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r6(t,e={}){return Eo(t,"GET","/v2/passwordPolicy",bg(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6=6;class i6{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:s6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new P_(this),this.idTokenSubscription=new P_(this),this.beforeStateQueue=new n6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=l2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Yn(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Hi.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await f2(this,{idToken:e}),r=await Qn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Or(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Su(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$O()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Or(this.app))return Promise.reject(Rs(this));const n=e?Un(e):null;return n&&se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Or(this.app)?Promise.reject(Rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Or(this.app)?Promise.reject(Rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await r6(this),n=new i6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ei("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await ZO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Yn(e)||this._popupRedirectResolver;se(n,this,"argument-error"),this.redirectPersistenceManager=await Hi.create(this,[Yn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=T2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&FO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ig(t){return Un(t)}class P_{constructor(e){this.auth=e,this.observer=null,this.addObserver=mP(n=>this.observer=n)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function a6(t){Sg=t}function l6(t){return Sg.loadJS(t)}function c6(){return Sg.gapiScript}function u6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d6(t,e){const n=_o(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(gu(i,e??{}))return s;sr(s,"already-initialized")}return n.initialize({options:e})}function h6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Yn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function f6(t,e,n){const r=Ig(t);se(r._canInitEmulator,r,"emulator-config-failed"),se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=I2(e),{host:o,port:a}=p6(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),m6()}function I2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function p6(t){const e=I2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:N_(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:N_(o)}}}function N_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function m6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Kn("not implemented")}_getIdTokenResponse(e){return Kn("not implemented")}_linkToIdToken(e,n){return Kn("not implemented")}_getReauthenticationResolver(e){return Kn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wi(t,e){return qO(t,"POST","/v1/accounts:signInWithIdp",bg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6="http://localhost";class qs extends S2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):sr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=_g(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new qs(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Wi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Wi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Wi(e,n)}buildRequest(){const e={requestUri:g6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl extends C2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends vl{constructor(){super("facebook.com")}static credential(e){return qs._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cr.credential(e.oauthAccessToken)}catch{return null}}}Cr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Cr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends vl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return qs._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return kr.credential(n,r)}catch{return null}}}kr.GOOGLE_SIGN_IN_METHOD="google.com";kr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends vl{constructor(){super("github.com")}static credential(e){return qs._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ar.credential(e.oauthAccessToken)}catch{return null}}}Ar.GITHUB_SIGN_IN_METHOD="github.com";Ar.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends vl{constructor(){super("twitter.com")}static credential(e,n){return qs._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Rr.credential(n,r)}catch{return null}}}Rr.TWITTER_SIGN_IN_METHOD="twitter.com";Rr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Qn._fromIdTokenResponse(e,r,s),o=j_(r);return new co({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=j_(r);return new co({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function j_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu extends cn{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Cu.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Cu(e,n,r,s)}}function k2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Cu._fromErrorAndOperation(t,i,e,r):i})}async function y6(t,e,n=!1){const r=await Za(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return co._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v6(t,e,n=!1){const{auth:r}=t;if(Or(r.app))return Promise.reject(Rs(r));const s="reauthenticate";try{const i=await Za(t,k2(r,s,e,t),n);se(i.idToken,r,"internal-error");const o=Eg(i.idToken);se(o,r,"internal-error");const{sub:a}=o;return se(t.uid===a,r,"user-mismatch"),co._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&sr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _6(t,e,n=!1){if(Or(t.app))return Promise.reject(Rs(t));const r="signIn",s=await k2(t,r,e),i=await co._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function x6(t,e,n,r){return Un(t).onIdTokenChanged(e,n,r)}function w6(t,e,n){return Un(t).beforeAuthStateChanged(e,n)}const ku="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ku,"1"),this.storage.removeItem(ku),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6=1e3,E6=10;class R2 extends A2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=E2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);t6()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,E6):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},b6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}R2.type="LOCAL";const T6=R2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2 extends A2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}P2.type="SESSION";const N2=P2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new xd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async d=>d(n.origin,i)),l=await I6(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const d=Cg("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(p){const g=p;if(g.data.eventId===d)switch(g.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(g.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(){return window}function C6(t){On().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(){return typeof On().WorkerGlobalScope<"u"&&typeof On().importScripts=="function"}async function k6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function A6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function R6(){return j2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="firebaseLocalStorageDb",P6=1,Au="firebaseLocalStorage",D2="fbase_key";class _l{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wd(t,e){return t.transaction([Au],e?"readwrite":"readonly").objectStore(Au)}function N6(){const t=indexedDB.deleteDatabase(O2);return new _l(t).toPromise()}function xp(){const t=indexedDB.open(O2,P6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Au,{keyPath:D2})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Au)?e(r):(r.close(),await N6(),e(await xp()))})})}async function O_(t,e,n){const r=wd(t,!0).put({[D2]:e,value:n});return new _l(r).toPromise()}async function j6(t,e){const n=wd(t,!1).get(e),r=await new _l(n).toPromise();return r===void 0?null:r.value}function D_(t,e){const n=wd(t,!0).delete(e);return new _l(n).toPromise()}const O6=800,D6=3;class L2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>D6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return j2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xd._getInstance(R6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await k6(),!this.activeServiceWorker)return;this.sender=new S6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||A6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xp();return await O_(e,ku,"1"),await D_(e,ku),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>O_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>j6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>D_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=wd(s,!1).getAll();return new _l(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),O6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}L2.type="LOCAL";const L6=L2;new yl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M6(t,e){return e?Yn(e):(se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg extends S2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Wi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Wi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function F6(t){return _6(t.auth,new kg(t),t.bypassAuthState)}function U6(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),v6(n,new kg(t),t.bypassAuthState)}async function V6(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),y6(n,new kg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return F6;case"linkViaPopup":case"linkViaRedirect":return V6;case"reauthViaPopup":case"reauthViaRedirect":return U6;default:sr(this.auth,"internal-error")}}resolve(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6=new yl(2e3,1e4);class Ri extends M2{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ri.currentPopupAction&&Ri.currentPopupAction.cancel(),Ri.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return se(e,this.auth,"internal-error"),e}async onExecution(){ir(this.filter.length===1,"Popup operations only handle one event");const e=Cg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ri.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$6.get())};e()}}Ri.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B6="pendingRedirect",Mc=new Map;class z6 extends M2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Mc.get(this.auth._key());if(!e){try{const r=await q6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Mc.set(this.auth._key(),e)}return this.bypassAuthState||Mc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function q6(t,e){const n=G6(e),r=W6(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function H6(t,e){Mc.set(t._key(),e)}function W6(t){return Yn(t._redirectPersistence)}function G6(t){return Lc(B6,t.config.apiKey,t.name)}async function K6(t,e,n=!1){if(Or(t.app))return Promise.reject(Rs(t));const r=Ig(t),s=M6(r,e),o=await new z6(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q6=10*60*1e3;class Y6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!J6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!F2(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(jn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Q6&&this.cachedEventUids.clear(),this.cachedEventUids.has(L_(e))}saveEventToCache(e){this.cachedEventUids.add(L_(e)),this.lastProcessedEventTime=Date.now()}}function L_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function F2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function J6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return F2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X6(t,e={}){return Eo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,e5=/^https?/;async function t5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await X6(t);for(const n of e)try{if(n5(n))return}catch{}sr(t,"unauthorized-domain")}function n5(t){const e=vp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!e5.test(n))return!1;if(Z6.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5=new yl(3e4,6e4);function M_(){const t=On().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function s5(t){return new Promise((e,n)=>{var r,s,i;function o(){M_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{M_(),n(jn(t,"network-request-failed"))},timeout:r5.get()})}if(!((s=(r=On().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=On().gapi)===null||i===void 0)&&i.load)o();else{const a=u6("iframefcb");return On()[a]=()=>{gapi.load?o():n(jn(t,"network-request-failed"))},l6(`${c6()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Fc=null,e})}let Fc=null;function i5(t){return Fc=Fc||s5(t),Fc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5=new yl(5e3,15e3),a5="__/auth/iframe",l5="emulator/auth/iframe",c5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},u5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function d5(t){const e=t.config;se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?wg(e,l5):`https://${t.config.authDomain}/${a5}`,r={apiKey:e.apiKey,appName:t.name,v:ti},s=u5.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${hl(r).slice(1)}`}async function h5(t){const e=await i5(t),n=On().gapi;return se(n,t,"internal-error"),e.open({where:document.body,url:d5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:c5,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=jn(t,"network-request-failed"),a=On().setTimeout(()=>{i(o)},o5.get());function l(){On().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},p5=500,m5=600,g5="_blank",y5="http://localhost";class F_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function v5(t,e,n,r=p5,s=m5){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},f5),{width:r.toString(),height:s.toString(),top:i,left:o}),d=_t().toLowerCase();n&&(a=v2(d)?g5:n),g2(d)&&(e=e||y5,l.scrollbars="yes");const h=Object.entries(l).reduce((g,[b,k])=>`${g}${b}=${k},`,"");if(e6(d)&&a!=="_self")return _5(e||"",a),new F_(null);const p=window.open(e||"",a,h);se(p,t,"popup-blocked");try{p.focus()}catch{}return new F_(p)}function _5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5="__/auth/handler",w5="emulator/auth/handler",b5=encodeURIComponent("fac");async function U_(t,e,n,r,s,i){se(t.config.authDomain,t,"auth-domain-config-required"),se(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ti,eventId:s};if(e instanceof C2){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",pP(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))o[h]=p}if(e instanceof vl){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),d=l?`#${b5}=${encodeURIComponent(l)}`:"";return`${E5(t)}?${hl(a).slice(1)}${d}`}function E5({config:t}){return t.emulator?wg(t,w5):`https://${t.authDomain}/${x5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh="webStorageSupport";class T5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=N2,this._completeRedirectFn=K6,this._overrideRedirectResult=H6}async _openPopup(e,n,r,s){var i;ir((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await U_(e,n,r,vp(),s);return v5(e,o,Cg())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await U_(e,n,r,vp(),s);return C6(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ir(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await h5(e),r=new Y6(e);return n.register("authEvent",s=>(se(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Mh,{type:Mh},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Mh];o!==void 0&&n(!!o),sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=t5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return E2()||y2()||Tg()}}const I5=T5;var V_="@firebase/auth",$_="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function k5(t){bn(new ln("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;se(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:T2(t)},d=new o6(r,s,i,l);return h6(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),bn(new ln("auth-internal",e=>{const n=Ig(e.getProvider("auth").getImmediate());return(r=>new S5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ft(V_,$_,C5(t)),Ft(V_,$_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5=5*60,R5=Ab("authIdTokenMaxAge")||A5;let B_=null;const P5=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>R5)return;const s=n==null?void 0:n.token;B_!==s&&(B_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function U2(t=qm()){const e=_o(t,"auth");if(e.isInitialized())return e.getImmediate();const n=d6(t,{popupRedirectResolver:I5,persistence:[L6,T6,N2]}),r=Ab("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=P5(i.toString());w6(n,o,()=>o(n.currentUser)),x6(n,a=>o(a))}}const s=Sb("auth");return s&&f6(n,`http://${s}`),n}function N5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}a6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=jn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",N5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});k5("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2="firebasestorage.googleapis.com",j5="storageBucket",O5=2*60*1e3,D5=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn extends cn{constructor(e,n,r=0){super(Fh(e),`Firebase Storage: ${n} (${Fh(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Vn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Fh(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Mn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Mn||(Mn={}));function Fh(t){return"storage/"+t}function L5(){const t="An unknown error occurred, please check the error payload for server response.";return new Vn(Mn.UNKNOWN,t)}function M5(){return new Vn(Mn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function F5(){return new Vn(Mn.CANCELED,"User canceled the upload/download.")}function U5(t){return new Vn(Mn.INVALID_URL,"Invalid URL '"+t+"'.")}function V5(t){return new Vn(Mn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function z_(t){return new Vn(Mn.INVALID_ARGUMENT,t)}function $2(){return new Vn(Mn.APP_DELETED,"The Firebase app was deleted.")}function $5(t){return new Vn(Mn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=vn.makeFromUrl(e,n)}catch{return new vn(e,"")}if(r.path==="")return r;throw V5(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(j){j.path.charAt(j.path.length-1)==="/"&&(j.path_=j.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function d(j){j.path_=decodeURIComponent(j.path)}const h="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",b=new RegExp(`^https?://${p}/${h}/b/${s}/o${g}`,"i"),k={bucket:1,path:3},N=n===V2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",A=new RegExp(`^https?://${N}/${s}/${P}`,"i"),C=[{regex:a,indices:l,postModify:i},{regex:b,indices:k,postModify:d},{regex:A,indices:{bucket:1,path:2},postModify:d}];for(let j=0;j<C.length;j++){const U=C[j],L=U.regex.exec(e);if(L){const v=L[U.indices.bucket];let y=L[U.indices.path];y||(y=""),r=new vn(v,y),U.postModify(r);break}}if(r==null)throw U5(e);return r}}class B5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z5(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let d=!1;function h(...P){d||(d=!0,e.apply(null,P))}function p(P){s=setTimeout(()=>{s=null,t(b,l())},P)}function g(){i&&clearTimeout(i)}function b(P,...A){if(d){g();return}if(P){g(),h.call(null,P,...A);return}if(l()||o){g(),h.call(null,P,...A);return}r<64&&(r*=2);let C;a===1?(a=2,C=0):C=(r+Math.random())*1e3,p(C)}let k=!1;function N(P){k||(k=!0,g(),!d&&(s!==null?(P||(a=2),clearTimeout(s),p(0)):P||(a=1)))}return p(0),i=setTimeout(()=>{o=!0,N(!0)},n),N}function q5(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H5(t){return t!==void 0}function q_(t,e,n,r){if(r<e)throw z_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw z_(`Invalid value for '${t}'. Expected ${n} or less.`)}function W5(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Ru;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ru||(Ru={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G5(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(e,n,r,s,i,o,a,l,d,h,p,g=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=d,this.progressCallback_=h,this.connectionFactory_=p,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,k)=>{this.resolve_=b,this.reject_=k,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new pc(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,d=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,d)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===Ru.NO_ERROR,l=i.getStatus();if(!a||G5(l,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===Ru.ABORT;r(!1,new pc(!1,null,h));return}const d=this.successCodes_.indexOf(l)!==-1;r(!0,new pc(d,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());H5(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=L5();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?$2():F5();o(l)}else{const l=M5();o(l)}};this.canceled_?n(!1,new pc(!1,null,!0)):this.backoffId_=z5(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&q5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class pc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Q5(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Y5(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function J5(t,e){e&&(t["X-Firebase-GMPID"]=e)}function X5(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Z5(t,e,n,r,s,i,o=!0){const a=W5(t.urlParams),l=t.url+a,d=Object.assign({},t.headers);return J5(d,e),Q5(d,n),Y5(d,i),X5(d,r),new K5(l,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function t9(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n){this._service=e,n instanceof vn?this._location=n:this._location=vn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Pu(e,n)}get root(){const e=new vn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return t9(this._location.path)}get storage(){return this._service}get parent(){const e=e9(this._location.path);if(e===null)return null;const n=new vn(this._location.bucket,e);return new Pu(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw $5(e)}}function H_(t,e){const n=e==null?void 0:e[j5];return n==null?null:vn.makeFromBucketSpec(n,t)}function n9(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:Rb(s,t.app.options.projectId))}class r9{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=V2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=O5,this._maxUploadRetryTime=D5,this._requests=new Set,s!=null?this._bucket=vn.makeFromBucketSpec(s,this._host):this._bucket=H_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=vn.makeFromBucketSpec(this._url,e):this._bucket=H_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){q_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){q_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Pu(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new B5($2());{const o=Z5(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const W_="@firebase/storage",G_="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2="storage";function s9(t=qm(),e){t=Un(t);const r=_o(t,B2).getImmediate({identifier:e}),s=Cb("storage");return s&&i9(r,...s),r}function i9(t,e,n,r={}){n9(t,e,n,r)}function o9(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new r9(n,r,s,e,ti)}function a9(){bn(new ln(B2,o9,"PUBLIC").setMultipleInstances(!0)),Ft(W_,G_,""),Ft(W_,G_,"esm2017")}a9();const l9={apiKey:"AIzaSyADFTF7mL1ikrN9cVtOR_c8olJBfk7toSg",authDomain:"lostandfound-3e2fa.firebaseapp.com",projectId:"lostandfound-3e2fa",storageBucket:"lostandfound-3e2fa.appspot.com",messagingSenderId:"318273901587",appId:"1:318273901587:web:16d059539787864b169be6"},Ag=Mb(l9);U2(Ag);s9(Ag);const c9=sj(Ag),K_=()=>{};let Rg={},z2={},q2=null,H2={mark:K_,measure:K_};try{typeof window<"u"&&(Rg=window),typeof document<"u"&&(z2=document),typeof MutationObserver<"u"&&(q2=MutationObserver),typeof performance<"u"&&(H2=performance)}catch{}const{userAgent:Q_=""}=Rg.navigator||{},ts=Rg,Pe=z2,Y_=q2,mc=H2;ts.document;const cr=!!Pe.documentElement&&!!Pe.head&&typeof Pe.addEventListener=="function"&&typeof Pe.createElement=="function",W2=~Q_.indexOf("MSIE")||~Q_.indexOf("Trident/");var je="classic",G2="duotone",Gt="sharp",Kt="sharp-duotone",u9=[je,G2,Gt,Kt],d9={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds"}},J_={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},h9=["kit"],f9=/fa(s|r|l|t|d|b|k|kd|ss|sr|sl|st|sds)?[\-\ ]/,p9=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,m9={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},g9={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds"}},y9={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds"}},v9={classic:["fas","far","fal","fat"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds"]},_9={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid"}},x9={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds"}},K2={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid"}},w9=["solid","regular","light","thin","duotone","brands"],Q2=[1,2,3,4,5,6,7,8,9,10],b9=Q2.concat([11,12,13,14,15,16,17,18,19,20]),oa={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},E9=[...Object.keys(v9),...w9,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",oa.GROUP,oa.SWAP_OPACITY,oa.PRIMARY,oa.SECONDARY].concat(Q2.map(t=>"".concat(t,"x"))).concat(b9.map(t=>"w-".concat(t))),T9={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},I9={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},S9={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},X_={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}};const or="___FONT_AWESOME___",wp=16,Y2="fa",J2="svg-inline--fa",Hs="data-fa-i2svg",bp="data-fa-pseudo-element",C9="data-fa-pseudo-element-pending",Pg="data-prefix",Ng="data-icon",Z_="fontawesome-i2svg",k9="async",A9=["HTML","HEAD","STYLE","SCRIPT"],X2=(()=>{try{return!0}catch{return!1}})(),Z2=[je,Gt,Kt];function xl(t){return new Proxy(t,{get(e,n){return n in e?e[n]:e[je]}})}const eT={...K2};eT[je]={...K2[je],...J_.kit,...J_["kit-duotone"]};const Ps=xl(eT),Ep={...x9};Ep[je]={...Ep[je],...X_.kit,...X_["kit-duotone"]};const el=xl(Ep),Tp={..._9};Tp[je]={...Tp[je],...S9.kit};const Ns=xl(Tp),Ip={...y9};Ip[je]={...Ip[je],...I9.kit};const R9=xl(Ip),P9=f9,tT="fa-layers-text",N9=p9,j9={...d9};xl(j9);const O9=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Uh=oa,uo=new Set;Object.keys(el[je]).map(uo.add.bind(uo));Object.keys(el[Gt]).map(uo.add.bind(uo));Object.keys(el[Kt]).map(uo.add.bind(uo));const D9=[...h9,...E9],Ia=ts.FontAwesomeConfig||{};function L9(t){var e=Pe.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function M9(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}Pe&&typeof Pe.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[n,r]=e;const s=M9(L9(n));s!=null&&(Ia[r]=s)});const nT={styleDefault:"solid",familyDefault:"classic",cssPrefix:Y2,replacementClass:J2,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Ia.familyPrefix&&(Ia.cssPrefix=Ia.familyPrefix);const ho={...nT,...Ia};ho.autoReplaceSvg||(ho.observeMutations=!1);const X={};Object.keys(nT).forEach(t=>{Object.defineProperty(X,t,{enumerable:!0,set:function(e){ho[t]=e,Sa.forEach(n=>n(X))},get:function(){return ho[t]}})});Object.defineProperty(X,"familyPrefix",{enumerable:!0,set:function(t){ho.cssPrefix=t,Sa.forEach(e=>e(X))},get:function(){return ho.cssPrefix}});ts.FontAwesomeConfig=X;const Sa=[];function F9(t){return Sa.push(t),()=>{Sa.splice(Sa.indexOf(t),1)}}const vr=wp,kn={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function U9(t){if(!t||!cr)return;const e=Pe.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;const n=Pe.head.childNodes;let r=null;for(let s=n.length-1;s>-1;s--){const i=n[s],o=(i.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=i)}return Pe.head.insertBefore(e,r),t}const V9="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function tl(){let t=12,e="";for(;t-- >0;)e+=V9[Math.random()*62|0];return e}function To(t){const e=[];for(let n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function jg(t){return t.classList?To(t.classList):(t.getAttribute("class")||"").split(" ").filter(e=>e)}function rT(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function $9(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,'="').concat(rT(t[n]),'" '),"").trim()}function bd(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,": ").concat(t[n].trim(),";"),"")}function Og(t){return t.size!==kn.size||t.x!==kn.x||t.y!==kn.y||t.rotate!==kn.rotate||t.flipX||t.flipY}function B9(t){let{transform:e,containerWidth:n,iconWidth:r}=t;const s={transform:"translate(".concat(n/2," 256)")},i="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)"),l={transform:"".concat(i," ").concat(o," ").concat(a)},d={transform:"translate(".concat(r/2*-1," -256)")};return{outer:s,inner:l,path:d}}function z9(t){let{transform:e,width:n=wp,height:r=wp,startCentered:s=!1}=t,i="";return s&&W2?i+="translate(".concat(e.x/vr-n/2,"em, ").concat(e.y/vr-r/2,"em) "):s?i+="translate(calc(-50% + ".concat(e.x/vr,"em), calc(-50% + ").concat(e.y/vr,"em)) "):i+="translate(".concat(e.x/vr,"em, ").concat(e.y/vr,"em) "),i+="scale(".concat(e.size/vr*(e.flipX?-1:1),", ").concat(e.size/vr*(e.flipY?-1:1),") "),i+="rotate(".concat(e.rotate,"deg) "),i}var q9=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function sT(){const t=Y2,e=J2,n=X.cssPrefix,r=X.replacementClass;let s=q9;if(n!==t||r!==e){const i=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");s=s.replace(i,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return s}let e1=!1;function Vh(){X.autoAddCss&&!e1&&(U9(sT()),e1=!0)}var H9={mixout(){return{dom:{css:sT,insertCss:Vh}}},hooks(){return{beforeDOMElementCreation(){Vh()},beforeI2svg(){Vh()}}}};const ar=ts||{};ar[or]||(ar[or]={});ar[or].styles||(ar[or].styles={});ar[or].hooks||(ar[or].hooks={});ar[or].shims||(ar[or].shims=[]);var An=ar[or];const iT=[],oT=function(){Pe.removeEventListener("DOMContentLoaded",oT),Nu=1,iT.map(t=>t())};let Nu=!1;cr&&(Nu=(Pe.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Pe.readyState),Nu||Pe.addEventListener("DOMContentLoaded",oT));function W9(t){cr&&(Nu?setTimeout(t,0):iT.push(t))}function wl(t){const{tag:e,attributes:n={},children:r=[]}=t;return typeof t=="string"?rT(t):"<".concat(e," ").concat($9(n),">").concat(r.map(wl).join(""),"</").concat(e,">")}function t1(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var $h=function(e,n,r,s){var i=Object.keys(e),o=i.length,a=n,l,d,h;for(r===void 0?(l=1,h=e[i[0]]):(l=0,h=r);l<o;l++)d=i[l],h=a(h,e[d],d,e);return h};function G9(t){const e=[];let n=0;const r=t.length;for(;n<r;){const s=t.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){const i=t.charCodeAt(n++);(i&64512)==56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),n--)}else e.push(s)}return e}function Sp(t){const e=G9(t);return e.length===1?e[0].toString(16):null}function K9(t,e){const n=t.length;let r=t.charCodeAt(e),s;return r>=55296&&r<=56319&&n>e+1&&(s=t.charCodeAt(e+1),s>=56320&&s<=57343)?(r-55296)*1024+s-56320+65536:r}function n1(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return!!r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function Cp(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:r=!1}=n,s=n1(e);typeof An.hooks.addPack=="function"&&!r?An.hooks.addPack(t,n1(e)):An.styles[t]={...An.styles[t]||{},...s},t==="fas"&&Cp("fa",e)}const{styles:xs,shims:Q9}=An,Y9={[je]:Object.values(Ns[je]),[Gt]:Object.values(Ns[Gt]),[Kt]:Object.values(Ns[Kt])};let Dg=null,aT={},lT={},cT={},uT={},dT={};const J9={[je]:Object.keys(Ps[je]),[Gt]:Object.keys(Ps[Gt]),[Kt]:Object.keys(Ps[Kt])};function X9(t){return~D9.indexOf(t)}function Z9(t,e){const n=e.split("-"),r=n[0],s=n.slice(1).join("-");return r===t&&s!==""&&!X9(s)?s:null}const hT=()=>{const t=r=>$h(xs,(s,i,o)=>(s[o]=$h(i,r,{}),s),{});aT=t((r,s,i)=>(s[3]&&(r[s[3]]=i),s[2]&&s[2].filter(a=>typeof a=="number").forEach(a=>{r[a.toString(16)]=i}),r)),lT=t((r,s,i)=>(r[i]=i,s[2]&&s[2].filter(a=>typeof a=="string").forEach(a=>{r[a]=i}),r)),dT=t((r,s,i)=>{const o=s[2];return r[i]=i,o.forEach(a=>{r[a]=i}),r});const e="far"in xs||X.autoFetchSvg,n=$h(Q9,(r,s)=>{const i=s[0];let o=s[1];const a=s[2];return o==="far"&&!e&&(o="fas"),typeof i=="string"&&(r.names[i]={prefix:o,iconName:a}),typeof i=="number"&&(r.unicodes[i.toString(16)]={prefix:o,iconName:a}),r},{names:{},unicodes:{}});cT=n.names,uT=n.unicodes,Dg=Ed(X.styleDefault,{family:X.familyDefault})};F9(t=>{Dg=Ed(t.styleDefault,{family:X.familyDefault})});hT();function Lg(t,e){return(aT[t]||{})[e]}function eD(t,e){return(lT[t]||{})[e]}function Mr(t,e){return(dT[t]||{})[e]}function fT(t){return cT[t]||{prefix:null,iconName:null}}function tD(t){const e=uT[t],n=Lg("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function ns(){return Dg}const Mg=()=>({prefix:null,iconName:null,rest:[]});function Ed(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:n=je}=e,r=Ps[n][t],s=el[n][t]||el[n][r],i=t in An.styles?t:null;return s||i||null}const nD={[je]:Object.keys(Ns[je]),[Gt]:Object.keys(Ns[Gt]),[Kt]:Object.keys(Ns[Kt])};function Td(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:n=!1}=e,r={[je]:"".concat(X.cssPrefix,"-").concat(je),[Gt]:"".concat(X.cssPrefix,"-").concat(Gt),[Kt]:"".concat(X.cssPrefix,"-").concat(Kt)};let s=null,i=je;const o=u9.filter(l=>l!==G2);o.forEach(l=>{(t.includes(r[l])||t.some(d=>nD[l].includes(d)))&&(i=l)});const a=t.reduce((l,d)=>{const h=Z9(X.cssPrefix,d);if(xs[d]?(d=Y9[i].includes(d)?R9[i][d]:d,s=d,l.prefix=d):J9[i].indexOf(d)>-1?(s=d,l.prefix=Ed(d,{family:i})):h?l.iconName=h:d!==X.replacementClass&&!o.some(p=>d===r[p])&&l.rest.push(d),!n&&l.prefix&&l.iconName){const p=s==="fa"?fT(l.iconName):{},g=Mr(l.prefix,l.iconName);p.prefix&&(s=null),l.iconName=p.iconName||g||l.iconName,l.prefix=p.prefix||l.prefix,l.prefix==="far"&&!xs.far&&xs.fas&&!X.autoFetchSvg&&(l.prefix="fas")}return l},Mg());return(t.includes("fa-brands")||t.includes("fab"))&&(a.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(a.prefix="fad"),!a.prefix&&i===Gt&&(xs.fass||X.autoFetchSvg)&&(a.prefix="fass",a.iconName=Mr(a.prefix,a.iconName)||a.iconName),!a.prefix&&i===Kt&&(xs.fasds||X.autoFetchSvg)&&(a.prefix="fasds",a.iconName=Mr(a.prefix,a.iconName)||a.iconName),(a.prefix==="fa"||s==="fa")&&(a.prefix=ns()||"fas"),a}class rD{constructor(){this.definitions={}}add(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const s=n.reduce(this._pullDefinitions,{});Object.keys(s).forEach(i=>{this.definitions[i]={...this.definitions[i]||{},...s[i]},Cp(i,s[i]);const o=Ns[je][i];o&&Cp(o,s[i]),hT()})}reset(){this.definitions={}}_pullDefinitions(e,n){const r=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(r).map(s=>{const{prefix:i,iconName:o,icon:a}=r[s],l=a[2];e[i]||(e[i]={}),l.length>0&&l.forEach(d=>{typeof d=="string"&&(e[i][d]=a)}),e[i][o]=a}),e}}let r1=[],Pi={};const Gi={},sD=Object.keys(Gi);function iD(t,e){let{mixoutsTo:n}=e;return r1=t,Pi={},Object.keys(Gi).forEach(r=>{sD.indexOf(r)===-1&&delete Gi[r]}),r1.forEach(r=>{const s=r.mixout?r.mixout():{};if(Object.keys(s).forEach(i=>{typeof s[i]=="function"&&(n[i]=s[i]),typeof s[i]=="object"&&Object.keys(s[i]).forEach(o=>{n[i]||(n[i]={}),n[i][o]=s[i][o]})}),r.hooks){const i=r.hooks();Object.keys(i).forEach(o=>{Pi[o]||(Pi[o]=[]),Pi[o].push(i[o])})}r.provides&&r.provides(Gi)}),n}function kp(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];return(Pi[t]||[]).forEach(o=>{e=o.apply(null,[e,...r])}),e}function Ws(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(Pi[t]||[]).forEach(i=>{i.apply(null,n)})}function rs(){const t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Gi[t]?Gi[t].apply(null,e):void 0}function Ap(t){t.prefix==="fa"&&(t.prefix="fas");let{iconName:e}=t;const n=t.prefix||ns();if(e)return e=Mr(n,e)||e,t1(pT.definitions,n,e)||t1(An.styles,n,e)}const pT=new rD,oD=()=>{X.autoReplaceSvg=!1,X.observeMutations=!1,Ws("noAuto")},aD={i2svg:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return cr?(Ws("beforeI2svg",t),rs("pseudoElements2svg",t),rs("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=t;X.autoReplaceSvg===!1&&(X.autoReplaceSvg=!0),X.observeMutations=!0,W9(()=>{cD({autoReplaceSvgRoot:e}),Ws("watch",t)})}},lD={icon:t=>{if(t===null)return null;if(typeof t=="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:Mr(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){const e=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],n=Ed(t[0]);return{prefix:n,iconName:Mr(n,e)||e}}if(typeof t=="string"&&(t.indexOf("".concat(X.cssPrefix,"-"))>-1||t.match(P9))){const e=Td(t.split(" "),{skipLookups:!0});return{prefix:e.prefix||ns(),iconName:Mr(e.prefix,e.iconName)||e.iconName}}if(typeof t=="string"){const e=ns();return{prefix:e,iconName:Mr(e,t)||t}}}},Zt={noAuto:oD,config:X,dom:aD,parse:lD,library:pT,findIconDefinition:Ap,toHtml:wl},cD=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=Pe}=t;(Object.keys(An.styles).length>0||X.autoFetchSvg)&&cr&&X.autoReplaceSvg&&Zt.dom.i2svg({node:e})};function Id(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(n=>wl(n))}}),Object.defineProperty(t,"node",{get:function(){if(!cr)return;const n=Pe.createElement("div");return n.innerHTML=t.html,n.children}}),t}function uD(t){let{children:e,main:n,mask:r,attributes:s,styles:i,transform:o}=t;if(Og(o)&&n.found&&!r.found){const{width:a,height:l}=n,d={x:a/l/2,y:.5};s.style=bd({...i,"transform-origin":"".concat(d.x+o.x/16,"em ").concat(d.y+o.y/16,"em")})}return[{tag:"svg",attributes:s,children:e}]}function dD(t){let{prefix:e,iconName:n,children:r,attributes:s,symbol:i}=t;const o=i===!0?"".concat(e,"-").concat(X.cssPrefix,"-").concat(n):i;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:{...s,id:o},children:r}]}]}function Fg(t){const{icons:{main:e,mask:n},prefix:r,iconName:s,transform:i,symbol:o,title:a,maskId:l,titleId:d,extra:h,watchable:p=!1}=t,{width:g,height:b}=n.found?n:e,k=r==="fak",N=[X.replacementClass,s?"".concat(X.cssPrefix,"-").concat(s):""].filter(U=>h.classes.indexOf(U)===-1).filter(U=>U!==""||!!U).concat(h.classes).join(" ");let P={children:[],attributes:{...h.attributes,"data-prefix":r,"data-icon":s,class:N,role:h.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(b)}};const A=k&&!~h.classes.indexOf("fa-fw")?{width:"".concat(g/b*16*.0625,"em")}:{};p&&(P.attributes[Hs]=""),a&&(P.children.push({tag:"title",attributes:{id:P.attributes["aria-labelledby"]||"title-".concat(d||tl())},children:[a]}),delete P.attributes.title);const E={...P,prefix:r,iconName:s,main:e,mask:n,maskId:l,transform:i,symbol:o,styles:{...A,...h.styles}},{children:C,attributes:j}=n.found&&e.found?rs("generateAbstractMask",E)||{children:[],attributes:{}}:rs("generateAbstractIcon",E)||{children:[],attributes:{}};return E.children=C,E.attributes=j,o?dD(E):uD(E)}function s1(t){const{content:e,width:n,height:r,transform:s,title:i,extra:o,watchable:a=!1}=t,l={...o.attributes,...i?{title:i}:{},class:o.classes.join(" ")};a&&(l[Hs]="");const d={...o.styles};Og(s)&&(d.transform=z9({transform:s,startCentered:!0,width:n,height:r}),d["-webkit-transform"]=d.transform);const h=bd(d);h.length>0&&(l.style=h);const p=[];return p.push({tag:"span",attributes:l,children:[e]}),i&&p.push({tag:"span",attributes:{class:"sr-only"},children:[i]}),p}function hD(t){const{content:e,title:n,extra:r}=t,s={...r.attributes,...n?{title:n}:{},class:r.classes.join(" ")},i=bd(r.styles);i.length>0&&(s.style=i);const o=[];return o.push({tag:"span",attributes:s,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}const{styles:Bh}=An;function Rp(t){const e=t[0],n=t[1],[r]=t.slice(4);let s=null;return Array.isArray(r)?s={tag:"g",attributes:{class:"".concat(X.cssPrefix,"-").concat(Uh.GROUP)},children:[{tag:"path",attributes:{class:"".concat(X.cssPrefix,"-").concat(Uh.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(X.cssPrefix,"-").concat(Uh.PRIMARY),fill:"currentColor",d:r[1]}}]}:s={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:e,height:n,icon:s}}const fD={found:!1,width:512,height:512};function pD(t,e){!X2&&!X.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function Pp(t,e){let n=e;return e==="fa"&&X.styleDefault!==null&&(e=ns()),new Promise((r,s)=>{if(n==="fa"){const i=fT(t)||{};t=i.iconName||t,e=i.prefix||e}if(t&&e&&Bh[e]&&Bh[e][t]){const i=Bh[e][t];return r(Rp(i))}pD(t,e),r({...fD,icon:X.showMissingIcons&&t?rs("missingIconAbstract")||{}:{}})})}const i1=()=>{},Np=X.measurePerformance&&mc&&mc.mark&&mc.measure?mc:{mark:i1,measure:i1},aa='FA "6.6.0"',mD=t=>(Np.mark("".concat(aa," ").concat(t," begins")),()=>mT(t)),mT=t=>{Np.mark("".concat(aa," ").concat(t," ends")),Np.measure("".concat(aa," ").concat(t),"".concat(aa," ").concat(t," begins"),"".concat(aa," ").concat(t," ends"))};var Ug={begin:mD,end:mT};const Uc=()=>{};function o1(t){return typeof(t.getAttribute?t.getAttribute(Hs):null)=="string"}function gD(t){const e=t.getAttribute?t.getAttribute(Pg):null,n=t.getAttribute?t.getAttribute(Ng):null;return e&&n}function yD(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(X.replacementClass)}function vD(){return X.autoReplaceSvg===!0?Vc.replace:Vc[X.autoReplaceSvg]||Vc.replace}function _D(t){return Pe.createElementNS("http://www.w3.org/2000/svg",t)}function xD(t){return Pe.createElement(t)}function gT(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:n=t.tag==="svg"?_D:xD}=e;if(typeof t=="string")return Pe.createTextNode(t);const r=n(t.tag);return Object.keys(t.attributes||[]).forEach(function(i){r.setAttribute(i,t.attributes[i])}),(t.children||[]).forEach(function(i){r.appendChild(gT(i,{ceFn:n}))}),r}function wD(t){let e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const Vc={replace:function(t){const e=t[0];if(e.parentNode)if(t[1].forEach(n=>{e.parentNode.insertBefore(gT(n),e)}),e.getAttribute(Hs)===null&&X.keepOriginalSource){let n=Pe.createComment(wD(e));e.parentNode.replaceChild(n,e)}else e.remove()},nest:function(t){const e=t[0],n=t[1];if(~jg(e).indexOf(X.replacementClass))return Vc.replace(t);const r=new RegExp("".concat(X.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const i=n[0].attributes.class.split(" ").reduce((o,a)=>(a===X.replacementClass||a.match(r)?o.toSvg.push(a):o.toNode.push(a),o),{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),i.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",i.toNode.join(" "))}const s=n.map(i=>wl(i)).join(`
`);e.setAttribute(Hs,""),e.innerHTML=s}};function a1(t){t()}function yT(t,e){const n=typeof e=="function"?e:Uc;if(t.length===0)n();else{let r=a1;X.mutateApproach===k9&&(r=ts.requestAnimationFrame||a1),r(()=>{const s=vD(),i=Ug.begin("mutate");t.map(s),i(),n()})}}let Vg=!1;function vT(){Vg=!0}function jp(){Vg=!1}let ju=null;function l1(t){if(!Y_||!X.observeMutations)return;const{treeCallback:e=Uc,nodeCallback:n=Uc,pseudoElementsCallback:r=Uc,observeMutationsRoot:s=Pe}=t;ju=new Y_(i=>{if(Vg)return;const o=ns();To(i).forEach(a=>{if(a.type==="childList"&&a.addedNodes.length>0&&!o1(a.addedNodes[0])&&(X.searchPseudoElements&&r(a.target),e(a.target)),a.type==="attributes"&&a.target.parentNode&&X.searchPseudoElements&&r(a.target.parentNode),a.type==="attributes"&&o1(a.target)&&~O9.indexOf(a.attributeName))if(a.attributeName==="class"&&gD(a.target)){const{prefix:l,iconName:d}=Td(jg(a.target));a.target.setAttribute(Pg,l||o),d&&a.target.setAttribute(Ng,d)}else yD(a.target)&&n(a.target)})}),cr&&ju.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function bD(){ju&&ju.disconnect()}function ED(t){const e=t.getAttribute("style");let n=[];return e&&(n=e.split(";").reduce((r,s)=>{const i=s.split(":"),o=i[0],a=i.slice(1);return o&&a.length>0&&(r[o]=a.join(":").trim()),r},{})),n}function TD(t){const e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"";let s=Td(jg(t));return s.prefix||(s.prefix=ns()),e&&n&&(s.prefix=e,s.iconName=n),s.iconName&&s.prefix||(s.prefix&&r.length>0&&(s.iconName=eD(s.prefix,t.innerText)||Lg(s.prefix,Sp(t.innerText))),!s.iconName&&X.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=t.firstChild.data)),s}function ID(t){const e=To(t.attributes).reduce((s,i)=>(s.name!=="class"&&s.name!=="style"&&(s[i.name]=i.value),s),{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return X.autoA11y&&(n?e["aria-labelledby"]="".concat(X.replacementClass,"-title-").concat(r||tl()):(e["aria-hidden"]="true",e.focusable="false")),e}function SD(){return{iconName:null,title:null,titleId:null,prefix:null,transform:kn,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function c1(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:s}=TD(t),i=ID(t),o=kp("parseNodeAttributes",{},t);let a=e.styleParser?ED(t):[];return{iconName:n,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:r,transform:kn,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:a,attributes:i},...o}}const{styles:CD}=An;function _T(t){const e=X.autoReplaceSvg==="nest"?c1(t,{styleParser:!1}):c1(t);return~e.extra.classes.indexOf(tT)?rs("generateLayersText",t,e):rs("generateSvgReplacementMutation",t,e)}let Fn=new Set;Z2.map(t=>{Fn.add("fa-".concat(t))});Object.keys(Ps[je]).map(Fn.add.bind(Fn));Object.keys(Ps[Gt]).map(Fn.add.bind(Fn));Object.keys(Ps[Kt]).map(Fn.add.bind(Fn));Fn=[...Fn];function u1(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!cr)return Promise.resolve();const n=Pe.documentElement.classList,r=h=>n.add("".concat(Z_,"-").concat(h)),s=h=>n.remove("".concat(Z_,"-").concat(h)),i=X.autoFetchSvg?Fn:Z2.map(h=>"fa-".concat(h)).concat(Object.keys(CD));i.includes("fa")||i.push("fa");const o=[".".concat(tT,":not([").concat(Hs,"])")].concat(i.map(h=>".".concat(h,":not([").concat(Hs,"])"))).join(", ");if(o.length===0)return Promise.resolve();let a=[];try{a=To(t.querySelectorAll(o))}catch{}if(a.length>0)r("pending"),s("complete");else return Promise.resolve();const l=Ug.begin("onTree"),d=a.reduce((h,p)=>{try{const g=_T(p);g&&h.push(g)}catch(g){X2||g.name==="MissingIcon"&&console.error(g)}return h},[]);return new Promise((h,p)=>{Promise.all(d).then(g=>{yT(g,()=>{r("active"),r("complete"),s("pending"),typeof e=="function"&&e(),l(),h()})}).catch(g=>{l(),p(g)})})}function kD(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;_T(t).then(n=>{n&&yT([n],e)})}function AD(t){return function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(e||{}).icon?e:Ap(e||{});let{mask:s}=n;return s&&(s=(s||{}).icon?s:Ap(s||{})),t(r,{...n,mask:s})}}const RD=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=kn,symbol:r=!1,mask:s=null,maskId:i=null,title:o=null,titleId:a=null,classes:l=[],attributes:d={},styles:h={}}=e;if(!t)return;const{prefix:p,iconName:g,icon:b}=t;return Id({type:"icon",...t},()=>(Ws("beforeDOMElementCreation",{iconDefinition:t,params:e}),X.autoA11y&&(o?d["aria-labelledby"]="".concat(X.replacementClass,"-title-").concat(a||tl()):(d["aria-hidden"]="true",d.focusable="false")),Fg({icons:{main:Rp(b),mask:s?Rp(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:p,iconName:g,transform:{...kn,...n},symbol:r,title:o,maskId:i,titleId:a,extra:{attributes:d,styles:h,classes:l}})))};var PD={mixout(){return{icon:AD(RD)}},hooks(){return{mutationObserverCallbacks(t){return t.treeCallback=u1,t.nodeCallback=kD,t}}},provides(t){t.i2svg=function(e){const{node:n=Pe,callback:r=()=>{}}=e;return u1(n,r)},t.generateSvgReplacementMutation=function(e,n){const{iconName:r,title:s,titleId:i,prefix:o,transform:a,symbol:l,mask:d,maskId:h,extra:p}=n;return new Promise((g,b)=>{Promise.all([Pp(r,o),d.iconName?Pp(d.iconName,d.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(k=>{let[N,P]=k;g([e,Fg({icons:{main:N,mask:P},prefix:o,iconName:r,transform:a,symbol:l,maskId:h,title:s,titleId:i,extra:p,watchable:!0})])}).catch(b)})},t.generateAbstractIcon=function(e){let{children:n,attributes:r,main:s,transform:i,styles:o}=e;const a=bd(o);a.length>0&&(r.style=a);let l;return Og(i)&&(l=rs("generateAbstractTransformGrouping",{main:s,transform:i,containerWidth:s.width,iconWidth:s.width})),n.push(l||s.icon),{children:n,attributes:r}}}},ND={mixout(){return{layer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:n=[]}=e;return Id({type:"layer"},()=>{Ws("beforeDOMElementCreation",{assembler:t,params:e});let r=[];return t(s=>{Array.isArray(s)?s.map(i=>{r=r.concat(i.abstract)}):r=r.concat(s.abstract)}),[{tag:"span",attributes:{class:["".concat(X.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}}}},jD={mixout(){return{counter(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:n=null,classes:r=[],attributes:s={},styles:i={}}=e;return Id({type:"counter",content:t},()=>(Ws("beforeDOMElementCreation",{content:t,params:e}),hD({content:t.toString(),title:n,extra:{attributes:s,styles:i,classes:["".concat(X.cssPrefix,"-layers-counter"),...r]}})))}}}},OD={mixout(){return{text(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=kn,title:r=null,classes:s=[],attributes:i={},styles:o={}}=e;return Id({type:"text",content:t},()=>(Ws("beforeDOMElementCreation",{content:t,params:e}),s1({content:t,transform:{...kn,...n},title:r,extra:{attributes:i,styles:o,classes:["".concat(X.cssPrefix,"-layers-text"),...s]}})))}}},provides(t){t.generateLayersText=function(e,n){const{title:r,transform:s,extra:i}=n;let o=null,a=null;if(W2){const l=parseInt(getComputedStyle(e).fontSize,10),d=e.getBoundingClientRect();o=d.width/l,a=d.height/l}return X.autoA11y&&!r&&(i.attributes["aria-hidden"]="true"),Promise.resolve([e,s1({content:e.innerHTML,width:o,height:a,transform:s,title:r,extra:i,watchable:!0})])}}};const DD=new RegExp('"',"ug"),d1=[1105920,1112319],h1={FontAwesome:{normal:"fas",400:"fas"},...g9,...m9,...T9},Op=Object.keys(h1).reduce((t,e)=>(t[e.toLowerCase()]=h1[e],t),{}),LD=Object.keys(Op).reduce((t,e)=>{const n=Op[e];return t[e]=n[900]||[...Object.entries(n)][0][1],t},{});function MD(t){const e=t.replace(DD,""),n=K9(e,0),r=n>=d1[0]&&n<=d1[1],s=e.length===2?e[0]===e[1]:!1;return{value:Sp(s?e[0]:e),isSecondary:r||s}}function FD(t,e){const n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),s=isNaN(r)?"normal":r;return(Op[n]||{})[s]||LD[n]}function f1(t,e){const n="".concat(C9).concat(e.replace(":","-"));return new Promise((r,s)=>{if(t.getAttribute(n)!==null)return r();const o=To(t.children).filter(g=>g.getAttribute(bp)===e)[0],a=ts.getComputedStyle(t,e),l=a.getPropertyValue("font-family"),d=l.match(N9),h=a.getPropertyValue("font-weight"),p=a.getPropertyValue("content");if(o&&!d)return t.removeChild(o),r();if(d&&p!=="none"&&p!==""){const g=a.getPropertyValue("content");let b=FD(l,h);const{value:k,isSecondary:N}=MD(g),P=d[0].startsWith("FontAwesome");let A=Lg(b,k),E=A;if(P){const C=tD(k);C.iconName&&C.prefix&&(A=C.iconName,b=C.prefix)}if(A&&!N&&(!o||o.getAttribute(Pg)!==b||o.getAttribute(Ng)!==E)){t.setAttribute(n,E),o&&t.removeChild(o);const C=SD(),{extra:j}=C;j.attributes[bp]=e,Pp(A,b).then(U=>{const L=Fg({...C,icons:{main:U,mask:Mg()},prefix:b,iconName:E,extra:j,watchable:!0}),v=Pe.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(v,t.firstChild):t.appendChild(v),v.outerHTML=L.map(y=>wl(y)).join(`
`),t.removeAttribute(n),r()}).catch(s)}else r()}else r()})}function UD(t){return Promise.all([f1(t,"::before"),f1(t,"::after")])}function VD(t){return t.parentNode!==document.head&&!~A9.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(bp)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function p1(t){if(cr)return new Promise((e,n)=>{const r=To(t.querySelectorAll("*")).filter(VD).map(UD),s=Ug.begin("searchPseudoElements");vT(),Promise.all(r).then(()=>{s(),jp(),e()}).catch(()=>{s(),jp(),n()})})}var $D={hooks(){return{mutationObserverCallbacks(t){return t.pseudoElementsCallback=p1,t}}},provides(t){t.pseudoElements2svg=function(e){const{node:n=Pe}=e;X.searchPseudoElements&&p1(n)}}};let m1=!1;var BD={mixout(){return{dom:{unwatch(){vT(),m1=!0}}}},hooks(){return{bootstrap(){l1(kp("mutationObserverCallbacks",{}))},noAuto(){bD()},watch(t){const{observeMutationsRoot:e}=t;m1?jp():l1(kp("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const g1=t=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce((n,r)=>{const s=r.toLowerCase().split("-"),i=s[0];let o=s.slice(1).join("-");if(i&&o==="h")return n.flipX=!0,n;if(i&&o==="v")return n.flipY=!0,n;if(o=parseFloat(o),isNaN(o))return n;switch(i){case"grow":n.size=n.size+o;break;case"shrink":n.size=n.size-o;break;case"left":n.x=n.x-o;break;case"right":n.x=n.x+o;break;case"up":n.y=n.y-o;break;case"down":n.y=n.y+o;break;case"rotate":n.rotate=n.rotate+o;break}return n},e)};var zD={mixout(){return{parse:{transform:t=>g1(t)}}},hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-transform");return n&&(t.transform=g1(n)),t}}},provides(t){t.generateAbstractTransformGrouping=function(e){let{main:n,transform:r,containerWidth:s,iconWidth:i}=e;const o={transform:"translate(".concat(s/2," 256)")},a="translate(".concat(r.x*32,", ").concat(r.y*32,") "),l="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),d="rotate(".concat(r.rotate," 0 0)"),h={transform:"".concat(a," ").concat(l," ").concat(d)},p={transform:"translate(".concat(i/2*-1," -256)")},g={outer:o,inner:h,path:p};return{tag:"g",attributes:{...g.outer},children:[{tag:"g",attributes:{...g.inner},children:[{tag:n.icon.tag,children:n.icon.children,attributes:{...n.icon.attributes,...g.path}}]}]}}}};const zh={x:0,y:0,width:"100%",height:"100%"};function y1(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function qD(t){return t.tag==="g"?t.children:[t]}var HD={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-mask"),r=n?Td(n.split(" ").map(s=>s.trim())):Mg();return r.prefix||(r.prefix=ns()),t.mask=r,t.maskId=e.getAttribute("data-fa-mask-id"),t}}},provides(t){t.generateAbstractMask=function(e){let{children:n,attributes:r,main:s,mask:i,maskId:o,transform:a}=e;const{width:l,icon:d}=s,{width:h,icon:p}=i,g=B9({transform:a,containerWidth:h,iconWidth:l}),b={tag:"rect",attributes:{...zh,fill:"white"}},k=d.children?{children:d.children.map(y1)}:{},N={tag:"g",attributes:{...g.inner},children:[y1({tag:d.tag,attributes:{...d.attributes,...g.path},...k})]},P={tag:"g",attributes:{...g.outer},children:[N]},A="mask-".concat(o||tl()),E="clip-".concat(o||tl()),C={tag:"mask",attributes:{...zh,id:A,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"},children:[b,P]},j={tag:"defs",children:[{tag:"clipPath",attributes:{id:E},children:qD(p)},C]};return n.push(j,{tag:"rect",attributes:{fill:"currentColor","clip-path":"url(#".concat(E,")"),mask:"url(#".concat(A,")"),...zh}}),{children:n,attributes:r}}}},WD={provides(t){let e=!1;ts.matchMedia&&(e=ts.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){const n=[],r={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:{...r,d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}});const i={...s,attributeName:"opacity"},o={tag:"circle",attributes:{...r,cx:"256",cy:"364",r:"28"},children:[]};return e||o.children.push({tag:"animate",attributes:{...s,attributeName:"r",values:"28;14;28;28;14;28;"}},{tag:"animate",attributes:{...i,values:"1;0;1;1;0;1;"}}),n.push(o),n.push({tag:"path",attributes:{...r,opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"},children:e?[]:[{tag:"animate",attributes:{...i,values:"1;0;0;0;0;1;"}}]}),e||n.push({tag:"path",attributes:{...r,opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"},children:[{tag:"animate",attributes:{...i,values:"0;0;1;1;0;0;"}}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},GD={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-symbol"),r=n===null?!1:n===""?!0:n;return t.symbol=r,t}}}},KD=[H9,PD,ND,jD,OD,$D,BD,zD,HD,WD,GD];iD(KD,{mixoutsTo:Zt});Zt.noAuto;Zt.config;Zt.library;Zt.dom;const Dp=Zt.parse;Zt.findIconDefinition;Zt.toHtml;const QD=Zt.icon;Zt.layer;Zt.text;Zt.counter;var xT={exports:{}},YD="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",JD=YD,XD=JD;function wT(){}function bT(){}bT.resetWarningCache=wT;var ZD=function(){function t(r,s,i,o,a,l){if(l!==XD){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:bT,resetWarningCache:wT};return n.PropTypes=n,n};xT.exports=ZD();var eL=xT.exports;const ce=Vp(eL);function v1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function In(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v1(Object(n),!0).forEach(function(r){Ni(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ou(t){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ou(t)}function Ni(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tL(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function nL(t,e){if(t==null)return{};var n=tL(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Lp(t){return rL(t)||sL(t)||iL(t)||oL()}function rL(t){if(Array.isArray(t))return Mp(t)}function sL(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iL(t,e){if(t){if(typeof t=="string")return Mp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mp(t,e)}}function Mp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oL(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aL(t){var e,n=t.beat,r=t.fade,s=t.beatFade,i=t.bounce,o=t.shake,a=t.flash,l=t.spin,d=t.spinPulse,h=t.spinReverse,p=t.pulse,g=t.fixedWidth,b=t.inverse,k=t.border,N=t.listItem,P=t.flip,A=t.size,E=t.rotation,C=t.pull,j=(e={"fa-beat":n,"fa-fade":r,"fa-beat-fade":s,"fa-bounce":i,"fa-shake":o,"fa-flash":a,"fa-spin":l,"fa-spin-reverse":h,"fa-spin-pulse":d,"fa-pulse":p,"fa-fw":g,"fa-inverse":b,"fa-border":k,"fa-li":N,"fa-flip":P===!0,"fa-flip-horizontal":P==="horizontal"||P==="both","fa-flip-vertical":P==="vertical"||P==="both"},Ni(e,"fa-".concat(A),typeof A<"u"&&A!==null),Ni(e,"fa-rotate-".concat(E),typeof E<"u"&&E!==null&&E!==0),Ni(e,"fa-pull-".concat(C),typeof C<"u"&&C!==null),Ni(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(j).map(function(U){return j[U]?U:null}).filter(function(U){return U})}function lL(t){return t=t-0,t===t}function ET(t){return lL(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,n){return n?n.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}var cL=["style"];function uL(t){return t.charAt(0).toUpperCase()+t.slice(1)}function dL(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var r=n.indexOf(":"),s=ET(n.slice(0,r)),i=n.slice(r+1).trim();return s.startsWith("webkit")?e[uL(s)]=i:e[s]=i,e},{})}function TT(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(l){return TT(t,l)}),s=Object.keys(e.attributes||{}).reduce(function(l,d){var h=e.attributes[d];switch(d){case"class":l.attrs.className=h,delete e.attributes.class;break;case"style":l.attrs.style=dL(h);break;default:d.indexOf("aria-")===0||d.indexOf("data-")===0?l.attrs[d.toLowerCase()]=h:l.attrs[ET(d)]=h}return l},{attrs:{}}),i=n.style,o=i===void 0?{}:i,a=nL(n,cL);return s.attrs.style=In(In({},s.attrs.style),o),t.apply(void 0,[e.tag,In(In({},s.attrs),a)].concat(Lp(r)))}var IT=!1;try{IT=!0}catch{}function hL(){if(!IT&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function _1(t){if(t&&Ou(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(Dp.icon)return Dp.icon(t);if(t===null)return null;if(t&&Ou(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function qh(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?Ni({},t,e):{}}var x1={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},jt=xe.forwardRef(function(t,e){var n=In(In({},x1),t),r=n.icon,s=n.mask,i=n.symbol,o=n.className,a=n.title,l=n.titleId,d=n.maskId,h=_1(r),p=qh("classes",[].concat(Lp(aL(n)),Lp((o||"").split(" ")))),g=qh("transform",typeof n.transform=="string"?Dp.transform(n.transform):n.transform),b=qh("mask",_1(s)),k=QD(h,In(In(In(In({},p),g),b),{},{symbol:i,title:a,titleId:l,maskId:d}));if(!k)return hL("Could not find icon",h),null;var N=k.abstract,P={ref:e};return Object.keys(n).forEach(function(A){x1.hasOwnProperty(A)||(P[A]=n[A])}),fL(N[0],P)});jt.displayName="FontAwesomeIcon";jt.propTypes={beat:ce.bool,border:ce.bool,beatFade:ce.bool,bounce:ce.bool,className:ce.string,fade:ce.bool,flash:ce.bool,mask:ce.oneOfType([ce.object,ce.array,ce.string]),maskId:ce.string,fixedWidth:ce.bool,inverse:ce.bool,flip:ce.oneOf([!0,!1,"horizontal","vertical","both"]),icon:ce.oneOfType([ce.object,ce.array,ce.string]),listItem:ce.bool,pull:ce.oneOf(["right","left"]),pulse:ce.bool,rotation:ce.oneOf([0,90,180,270]),shake:ce.bool,size:ce.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:ce.bool,spinPulse:ce.bool,spinReverse:ce.bool,symbol:ce.oneOfType([ce.bool,ce.string]),title:ce.string,titleId:ce.string,transform:ce.oneOfType([ce.string,ce.object]),swapOpacity:ce.bool};var fL=TT.bind(null,xe.createElement);const $g={prefix:"fas",iconName:"box-archive",icon:[512,512,["archive"],"f187","M32 32l448 0c17.7 0 32 14.3 32 32l0 32c0 17.7-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96L0 64C0 46.3 14.3 32 32 32zm0 128l448 0 0 256c0 35.3-28.7 64-64 64L96 480c-35.3 0-64-28.7-64-64l0-256zm128 80c0 8.8 7.2 16 16 16l160 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-160 0c-8.8 0-16 7.2-16 16z"]},pL={prefix:"fas",iconName:"file-excel",icon:[384,512,[],"f1c3","M64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-288-128 0c-17.7 0-32-14.3-32-32L224 0 64 0zM256 0l0 128 128 0L256 0zM155.7 250.2L192 302.1l36.3-51.9c7.6-10.9 22.6-13.5 33.4-5.9s13.5 22.6 5.9 33.4L221.3 344l46.4 66.2c7.6 10.9 5 25.8-5.9 33.4s-25.8 5-33.4-5.9L192 385.8l-36.3 51.9c-7.6 10.9-22.6 13.5-33.4 5.9s-13.5-22.6-5.9-33.4L162.7 344l-46.4-66.2c-7.6-10.9-5-25.8 5.9-33.4s25.8-5 33.4 5.9z"]},mL={prefix:"fas",iconName:"clipboard-check",icon:[384,512,[],"f46c","M192 0c-41.8 0-77.4 26.7-90.5 64L64 64C28.7 64 0 92.7 0 128L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64l-37.5 0C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM305 273L177 401c-9.4 9.4-24.6 9.4-33.9 0L79 337c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L271 239c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"]},gL={prefix:"fas",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M256 0a256 256 0 1 1 0 512A256 256 0 1 1 256 0zM232 120l0 136c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2 280 120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]},yL={prefix:"fas",iconName:"house",icon:[576,512,[127968,63498,63500,"home","home-alt","home-lg-alt"],"f015","M575.8 255.5c0 18-15 32.1-32 32.1l-32 0 .7 160.2c0 2.7-.2 5.4-.5 8.1l0 16.2c0 22.1-17.9 40-40 40l-16 0c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1L416 512l-24 0c-22.1 0-40-17.9-40-40l0-24 0-64c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32 14.3-32 32l0 64 0 24c0 22.1-17.9 40-40 40l-24 0-31.9 0c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2l-16 0c-22.1 0-40-17.9-40-40l0-112c0-.9 0-1.9 .1-2.8l0-69.7-32 0c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"]},vL={prefix:"fas",iconName:"bell",icon:[448,512,[128276,61602],"f0f3","M224 0c-17.7 0-32 14.3-32 32l0 19.2C119 66 64 130.6 64 208l0 18.8c0 47-17.3 92.4-48.5 127.6l-7.4 8.3c-8.4 9.4-10.4 22.9-5.3 34.4S19.4 416 32 416l384 0c12.6 0 24-7.4 29.2-18.9s3.1-25-5.3-34.4l-7.4-8.3C401.3 319.2 384 273.9 384 226.8l0-18.8c0-77.4-55-142-128-156.8L256 32c0-17.7-14.3-32-32-32zm45.3 493.3c12-12 18.7-28.3 18.7-45.3l-64 0-64 0c0 17 6.7 33.3 18.7 45.3s28.3 18.7 45.3 18.7s33.3-6.7 45.3-18.7z"]},_L={prefix:"fas",iconName:"border-all",icon:[448,512,[],"f84c","M384 96l0 128-128 0 0-128 128 0zm0 192l0 128-128 0 0-128 128 0zM192 224L64 224 64 96l128 0 0 128zM64 288l128 0 0 128L64 416l0-128zM64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32z"]},Bg={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]};function xL({data:t}){const e=n=>n?new Date(n.seconds*1e3).toLocaleString():"yyyy/mm/dd hh:mm";return u.jsxs("div",{className:"notif1",children:[u.jsx("img",{src:t.imageUrl||"",alt:"notifImg",className:"notifImg"}),u.jsxs("div",{className:"innerBody",children:[u.jsx("p",{id:"pxD",className:"notifName",children:t.objectName||"Notif Name"}),u.jsx("label",{id:"labelxD",className:"notifDesc",children:t.message||"Notif Desc"}),u.jsx("p",{className:"notifDate",children:e(t.timestamp)})]})]})}const wL="https://mxqzohhojkveomcyfxuv.supabase.co",bL="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im14cXpvaGhvamt2ZW9tY3lmeHV2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjkwMDM4MDMsImV4cCI6MjA0NDU3OTgwM30.hVZUxMf-LINa4lLEst63cHnW5yBBps78QAtI0kWm73k",Hh=bb(wL,bL);function EL(){const t=Js(),[e,n]=O.useState(!0),[r,s]=O.useState(null),[i,o]=O.useState([]),[a,l]=O.useState([]),[d,h]=O.useState(!1),[p,g]=O.useState(0),[b,k]=O.useState(0),N=O.useRef(0),P=O.useRef([]),A=O.useRef([]),E=O.useRef(null),C=O.useRef(null),[j,U]=O.useState("Home"),L=O.useRef([]),v=(T,M)=>{T.preventDefault();const $=document.getElementById(M);$&&$.scrollIntoView({behavior:"smooth"})},y=async()=>{try{const{count:T,error:M}=await Hh.from("item_reports2").select("*",{count:"exact"}).eq("type","Found").eq("status","pending");if(M)throw M;g(T);const{count:$,error:V}=await Hh.from("item_reports2").select("*",{count:"exact"}).eq("type","Lost").eq("status","pending");if(V)throw V;k($)}catch(T){console.error("Error fetching counts:",T)}};O.useEffect(()=>{y();const T=setInterval(y,5e3);return()=>clearInterval(T)},[]),O.useEffect(()=>{const T=localStorage.getItem("scrollToSection");if(T){const $=setTimeout(()=>{const V=document.getElementById(T);V&&V.scrollIntoView({behavior:"smooth"}),localStorage.removeItem("scrollToSection")},100);return()=>clearTimeout($)}},[]);const x=async()=>{try{const{error:T}=await Hh.auth.signOut();T?console.error("Error logging out:",T.message):(console.log("User logged out successfully"),t("/login"))}catch(T){console.error("Unexpected error during logout:",T.message)}};O.useEffect(()=>{const T=new IntersectionObserver(M=>{M.forEach($=>{const V=$.target.id;$.isIntersecting&&U(V)})},{threshold:.5});return L.current.forEach(M=>{M&&T.observe(M)}),()=>T.disconnect()},[]),O.useEffect(()=>{(async()=>{const $=U2().currentUser;$&&s($.uid),n(!1)})()},[]),O.useEffect(()=>{const T=new IntersectionObserver(M=>{M.forEach($=>{$.isIntersecting?$.target.classList.add("visible"):$.target.classList.remove("visible")})},{threshold:.3});return P.current.forEach(M=>{M&&T.observe(M)}),A.current.forEach(M=>{M&&T.observe(M)}),E.current&&T.observe(E.current),C.current&&T.observe(C.current),()=>T.disconnect()},[]);const R=T=>{T.preventDefault();const M=new Date().getTime();if(M-N.current<600)return;N.current=M;const V=document.querySelectorAll(".sections > div"),z=window.innerHeight,H=Array.from(V).findIndex(J=>{const ee=J.getBoundingClientRect();return ee.top>=0&&ee.top<z});let Q;T.deltaY>0?Q=H+1<V.length?H+1:H:Q=H-1>=0?H-1:H,V[Q].scrollIntoView({behavior:"smooth"})};O.useEffect(()=>{const T=M=>R(M);return window.addEventListener("wheel",T,{passive:!1}),()=>window.removeEventListener("wheel",T)},[]),O.useEffect(()=>{!e&&r==="4skSWo0Ld2YnIZG1hGRaNQd3Kg72"&&t("/adminpage")},[e,r,t]),O.useEffect(()=>{if(r){const T=rj(c9,"users",r,"notifications"),M=gj(T,$=>{const V=$.docs.map(z=>({id:z.id,...z.data()}));l(V)});return()=>M()}},[r]),i.filter(T=>T.status==="lost").length,i.filter(T=>T.status==="pending").length;const w=()=>{h(!d)},I=()=>{t("/report-lost-item")},_=()=>{t("/report-found-item")},D=()=>{t("/edit-reported-item")};return u.jsxs("div",{className:"homepage-main",children:[u.jsxs("div",{className:"navbar",children:[u.jsxs("div",{className:"start",children:[u.jsx("img",{src:HR,alt:"NU Logo",className:"logo"}),u.jsx("label",{children:"NU LOST AND FOUND DASMARIAS"})]}),u.jsx("div",{className:"navs",children:u.jsxs("nav",{className:"nav",children:[u.jsx("a",{href:"#HomePage",className:j==="HomePage"?"active":"",onClick:T=>v(T,"HomePage"),children:"Home"}),u.jsx("a",{href:"#Memo1",className:j==="Memo1"||j==="Memo2"?"active":"",onClick:T=>v(T,"Memo1"),children:"Memorandum"}),u.jsx("a",{href:"#Report1",className:j==="Report1"?"active":"",onClick:T=>v(T,"Report1"),children:"Report"})]})}),u.jsx("img",{src:WR,alt:"Notifications",className:"notif",onClick:w})]}),d&&u.jsxs("div",{className:"notifbody",children:[u.jsx("h2",{children:"Notifications:"}),u.jsx("div",{className:"notifScroll",children:a.length===0?u.jsx("p",{className:"noNotificationsMessage",children:"No notifications available."}):a.map(T=>u.jsx(xL,{data:T},T.id))}),u.jsx("div",{className:"logoutDiv",children:u.jsx("button",{className:"logoutBtnxd",id:"logoutBtn",onClick:x,children:"Logout"})})]}),u.jsxs("div",{className:"sections",children:[u.jsxs("div",{className:"HomePage",id:"HomePage",ref:T=>L.current[0]=T,children:[u.jsxs("div",{className:"homepage-fade HomePageContent",ref:E,children:[u.jsx("h1",{children:"The lost items are in DOs hands."}),u.jsx("p",{children:"Welcome to our page, the easy way to manage lost and found items on campus. Quickly report and locate missing belongings, helping students reconnect with their items."})]}),u.jsxs("div",{className:"homepage-fade ItemStatus",ref:C,children:[u.jsxs("div",{className:"LostStatus",children:[u.jsx("h2",{id:"lostitems",children:b}),u.jsx("span",{children:"Lost Items"})]}),u.jsxs("div",{className:"FoundStatus",children:[u.jsx("h2",{id:"founditems",children:p}),u.jsx("span",{children:"Found Items"})]})]})]}),u.jsxs("div",{className:"Memo1",id:"Memo1",ref:T=>L.current[1]=T,children:[u.jsx("img",{src:GR,className:"Memo1Img fade-content1",ref:T=>A.current[0]=T}),u.jsxs("div",{className:"Memo1TextContainer fade-content1",ref:T=>P.current[0]=T,children:[u.jsx("h1",{children:"Memorandum for the Disposal of Found Items."}),u.jsxs("p",{children:[" Unclaimed property that easily decays, releases odor, or is perishable will be disposed of within 48 hours. Proper documentation, such as a picture, will be provided.",u.jsx("br",{})," Unclaimed non-perishable property will be disposed of after the end of the academic year.",u.jsx("br",{})," All items shredded or disposed of must be recorded in the Lost and Found Property Logbook."]})]})]}),u.jsxs("div",{className:"Memo2",children:[u.jsxs("div",{className:"Memo2TextContainer fade-content2",ref:T=>P.current[1]=T,children:[u.jsx("h1",{children:"Memorandum for the Claiming of Found Items."}),u.jsxs("p",{children:[" Perishable and personal items that can emit foul odor must be claimed within 48 hours to prevent pest infestation.",u.jsx("br",{})," Non-perishable items can be claimed at the end of the term.",u.jsx("br",{}),u.jsx("br",{}),"Items that are perishable and other personal items that can emit foul odor are as follows.",u.jsx("br",{})," Food and Beverages (Lunch Box, Tumbler, etc.)",u.jsx("br",{})," Personal Care Items (Toiletries, etc.)",u.jsx("br",{})," Fabric (Clothes, Lab Gown, Towel, Jacket Socks, etc.)",u.jsx("br",{}),u.jsx("br",{}),"Items that are non-perishable are as follows.",u.jsx("br",{})," Accessories",u.jsx("br",{})," Electronics"]})]}),u.jsx("img",{src:KR,className:"Memo2Img fade-content2",ref:T=>A.current[1]=T})]}),u.jsxs("div",{className:"Report1",id:"Report1",ref:T=>L.current[3]=T,children:[u.jsx("img",{src:QR,className:"Report1Img fade-content1",ref:T=>A.current[2]=T}),u.jsxs("div",{className:"Report1TextContainer fade-content1",ref:T=>P.current[2]=T,children:[u.jsx("h1",{children:"Report a Found Item."}),u.jsxs("p",{children:["When reporting a found item, please follow the necessary steps below to help us identify the item and the person who surrendered it.",u.jsx("br",{}),u.jsx("br",{})," Please read the Terms and Conditions.",u.jsx("br",{})," Describe the item you found.",u.jsx("br",{})," Fill out the Response Form."]}),u.jsx("button",{className:"ReportFoundbtn",onClick:_,children:"Report a Found Item"})]})]}),u.jsxs("div",{className:"Report2",id:"Report2",children:[u.jsxs("div",{className:"Report2TextContainer fade-content2",ref:T=>P.current[3]=T,children:[u.jsx("h1",{children:"Report a Missing Item."}),u.jsxs("p",{children:["When reporting a missing item, please follow the necessary steps below to help us identify you and check for matching items based on your description.",u.jsx("br",{}),u.jsx("br",{})," Please read the Terms and Conditions.",u.jsx("br",{})," Describe the item you lost.",u.jsx("br",{})," Fill out the Response Form."]}),u.jsx("button",{className:"ReportLostbtn",onClick:I,children:"Report a Missing Item"})]}),u.jsx("img",{src:_v,className:"Report2Img fade-content2",ref:T=>A.current[4]=T})]}),u.jsxs("div",{className:"Report2",id:"Report3",children:[u.jsxs("div",{className:"Report2TextContainer fade-content2",ref:T=>P.current[3]=T,children:[u.jsx("h1",{children:"Edit your reports"}),u.jsx("p",{children:"You can update the details of your lost or found item report at any time. Whether it's to provide a more accurate description, update the items condition, or change your contact information, simply select the report you wish to edit and make the necessary adjustments. This helps us ensure the most up-to-date information is available for matching lost and found items."}),u.jsx("button",{className:"ReportLostbtn",onClick:D,children:"Edit or delete reports"})]}),u.jsx("img",{src:_v,className:"Report2Img fade-content2",ref:T=>A.current[4]=T})]}),u.jsx("div",{className:"dark-blue-footer",children:u.jsxs("div",{className:"footerContent",children:[u.jsx("h3",{children:"Contact Us:"}),u.jsxs("ul",{children:[u.jsxs("li",{children:["Email:"," ",u.jsx("a",{href:"mailto:nu.lostandfound.dasmarinas@gmail.com",children:"nu.lostandfound.dasmarinas@gmail.com"})]}),u.jsx("li",{children:"Contact No.: 0999-999-9999"})]})]})})]})]})}function TL(){const t=Js(),[e,n]=O.useState(1),[r,s]=O.useState(""),[i,o]=O.useState(""),[a,l]=O.useState(!1),[d,h]=O.useState(""),[p,g]=O.useState({}),[b,k]=O.useState(""),[N,P]=O.useState(!1),[A,E]=O.useState(30),[C,j]=O.useState(!1),[U,L]=O.useState(""),[v,y]=O.useState(""),[x,R]=O.useState(""),[w,I]=O.useState(""),[_,D]=O.useState(""),[T,M]=O.useState(""),[$,V]=O.useState(null),[z,H]=O.useState(!1),[Q,J]=O.useState(""),[ee,we]=O.useState(!1),[be,le]=O.useState("");O.useEffect(()=>{const ne=JSON.parse(sessionStorage.getItem("user"));ne?g({name:`${ne.firstname} ${ne.lastname}`,email:ne.email,contactNumber:ne.contact,id:ne.id}):console.error("No user data found in sessionStorage.")},[]);const et=ne=>{ne.target.files[0]&&V(ne.target.files[0])},Io=async()=>{if($)try{const ne=`${Mm()}-${$.name}`,{data:xt,error:un}=await Ie.storage.from("lost-items").upload(`lost-items/${ne}`,$,{cacheControl:"3600",upsert:!1});if(un)return console.error("Error uploading image:",un),null;console.log("Uploaded image data:",xt);const ls=`https://mxqzohhojkveomcyfxuv.supabase.co/storage/v1/object/public/lost-items/${xt.path}`;return console.log("Manually constructed Image URL:",ls),J(ls),ls}catch(ne){return console.error("Unexpected error during image upload:",ne.message),null}return null},bl=async()=>{const ne=Math.floor(1e5+Math.random()*9e5).toString();h(ne),P(!1),E(30),j(!1),we(!0);try{const xt=new Date().toISOString(),un=w||xt.split("T")[0],ur=_||"00:00:00",ls=p.id,El=await Io();if(!El){console.error("Image upload failed. Code generation aborted.");return}const{data:dr,error:si}=await Ie.from("item_reports2").insert([{code:parseInt(ne,10),confirmed:!1,createdat:xt,holderid:ls,category:r,brand:v,color:x,datefound:un,timefound:ur,locationfound:T,objectname:U,imageurl:El,type:"Found",status:"pending"}]).select("id").single();if(si){console.error("Error inserting into database:",si.message);return}if(!dr||!dr.id){console.error("No valid data returned from the database.");return}k(dr.id);let cs=30;const Tl=setInterval(()=>{cs-=1,E(cs),cs<=0&&(clearInterval(Tl),ri(dr.id))},1e3),ii=async()=>{try{const{data:hr,error:So}=await Ie.from("item_reports2").select("confirmed").eq("id",dr.id).single();if(So)throw So;hr&&hr.confirmed?(clearInterval(Tl),j(!0),P(!1)):cs>0&&setTimeout(ii,1e3)}catch(hr){console.error("Error checking confirmation:",hr.message)}};ii()}catch(xt){console.error("Unexpected error:",xt.message)}},ri=async ne=>{try{const{data:xt,error:un}=await Ie.from("item_reports2").select("confirmed").eq("id",ne).single();if(un)throw un;if(!xt.confirmed){const{error:ur}=await Ie.from("item_reports2").delete().eq("id",ne);if(ur)throw ur;P(!0)}}catch(xt){console.error("Error expiring code:",xt)}};O.useEffect(()=>{e===4&&!ee&&bl()},[e,ee]);const $n=()=>{e===4&&!C?alert("Your code is not yet confirmed by the admin. Please wait for confirmation."):n(e+1)},as=()=>{n(e-1)};return u.jsx(u.Fragment,{children:u.jsxs("div",{className:"report-found-item-container",children:[e===1&&u.jsxs("div",{className:"step1",children:[u.jsx("h2",{children:"REPORT A FOUND ITEM"}),u.jsxs("div",{className:"ProgressIndi",children:[u.jsx("div",{className:"step active",children:"1"}),u.jsx("div",{className:"step",children:"2"}),u.jsx("div",{className:"step",children:"3"}),u.jsx("div",{className:"step",children:"4"}),u.jsx("div",{className:"step",children:"5"})]}),u.jsxs("div",{className:"ReportFoundContainer",children:[u.jsx("h3",{children:"TERMS AND CONDITIONS"}),u.jsxs("p",{children:["We appreciate your willingness to turn in the items ",u.jsx("br",{})," ","you've found. By providing your information, you agree ",u.jsx("br",{})," to these terms."]}),u.jsxs("p",{children:["Your personal information will be kept confidential. It ",u.jsx("br",{})," ","will only be used to help identify the item and will not ",u.jsx("br",{})," ","be shared with anyone else without your permission."]}),u.jsxs("p",{children:["Please note that NU Lost and Found Dasmarias is not ",u.jsx("br",{})," ","responsible for any damage to items you surrender. We ",u.jsx("br",{})," ","sincerely appreciate your honesty in returning found ",u.jsx("br",{})," ","items."]}),u.jsxs("p",{children:["By surrendering a found item, you confirm that you have ",u.jsx("br",{})," ","read and understood these terms."]}),u.jsx("div",{className:"CheckboxContainer",children:u.jsxs("label",{children:[u.jsx("input",{type:"checkbox",checked:a,onChange:()=>l(!a)}),"I understand and agree."]})})]}),u.jsxs("div",{className:"ButtonContainer",children:[u.jsx("button",{className:"PrevBtn",onClick:()=>{t("/homepage"),setTimeout(()=>{window.scrollTo(0,document.body.scrollHeight-1800)},100)},children:"Home"}),u.jsx("button",{className:"NextBtn",disabled:!a,onClick:$n,children:"Next"})]})]}),e===2&&u.jsxs("div",{className:"step2",children:[u.jsx("h2",{children:"REPORT A FOUND ITEM"}),u.jsxs("div",{className:"ProgressIndi",children:[u.jsx("div",{className:"step active",children:"1"}),u.jsx("div",{className:"step active",children:"2"}),u.jsx("div",{className:"step",children:"3"}),u.jsx("div",{className:"step",children:"4"}),u.jsx("div",{className:"step",children:"5"})]}),u.jsxs("div",{className:"ReportLostContainer",children:[u.jsx("h3",{children:"CHOOSE CATEGORY"}),u.jsxs("form",{children:[u.jsxs("label",{children:[u.jsx("input",{type:"radio",name:"category",value:"Personal Belonging",checked:r==="Personal Belonging",onChange:ne=>s(ne.target.value)}),"Personal Belonging",u.jsxs("ul",{children:[u.jsx("li",{children:" Wallet"}),u.jsx("li",{children:" Bag"}),u.jsx("li",{children:" Clothing"}),u.jsx("li",{children:" Jewelry, etc..."})]})]}),u.jsxs("label",{children:[u.jsx("input",{type:"radio",name:"category",value:"Electronics",checked:r==="Electronics",onChange:ne=>s(ne.target.value)}),"Electronics",u.jsxs("ul",{children:[u.jsx("li",{children:" Phones"}),u.jsx("li",{children:" Laptop"}),u.jsx("li",{children:" Charger"}),u.jsx("li",{children:" Camera, etc..."})]})]}),u.jsxs("label",{children:[u.jsx("input",{type:"radio",name:"category",value:"Documents",checked:r==="Documents",onChange:ne=>s(ne.target.value)}),"Documents",u.jsxs("ul",{children:[u.jsx("li",{children:" ID"}),u.jsx("li",{children:" Cards"}),u.jsx("li",{children:" Printed Materials"}),u.jsx("li",{children:" School works, etc..."})]})]}),u.jsxs("label",{children:[u.jsx("input",{type:"radio",name:"category",value:"Other",checked:r==="Other",onChange:ne=>s(ne.target.value)}),"Other (Specify)",r==="Other"&&u.jsx("input",{type:"text",className:"FInput",placeholder:"Other category",value:i,onChange:ne=>o(ne.target.value),required:!0})]})]})]}),u.jsxs("div",{className:"ButtonContainer",children:[u.jsx("button",{className:"PrevBtn",onClick:as,children:"Previous"}),u.jsxs("button",{className:"NextBtn",onClick:$n,disabled:!r||r==="Other"&&!i,children:["Next"," "]})]})]}),e===3&&u.jsxs("div",{className:"step3",children:[u.jsx("h2",{children:"REPORT A FOUND ITEM"}),u.jsxs("div",{className:"ProgressIndi",children:[u.jsx("div",{className:"step active",children:"1"}),u.jsx("div",{className:"step active",children:"2"}),u.jsx("div",{className:"step active",children:"3"}),u.jsx("div",{className:"step",children:"4"}),u.jsx("div",{className:"step",children:"5"})]}),u.jsxs("div",{className:"ReportFoundContainer",children:[u.jsx("h3",{children:"RESPONSE FORM"}),u.jsxs("div",{className:"FormRow",children:[u.jsx("label",{htmlFor:"NameInp",children:"Name:"}),u.jsx("input",{className:"FInput",type:"text",id:"NameInp",value:p==null?void 0:p.name,readOnly:!0,required:!0})]}),u.jsxs("div",{className:"FormRow",children:[u.jsx("label",{htmlFor:"EmailInp",children:"Email:"}),u.jsx("input",{className:"FInput",type:"text",id:"EmailInp",value:p==null?void 0:p.email,readOnly:!0,required:!0})]}),u.jsxs("div",{className:"FormRow",children:[u.jsx("label",{htmlFor:"ContactNumInp",children:"Contact Number:"}),u.jsx("input",{className:"FInput",type:"text",id:"ContactNumInp",value:p==null?void 0:p.contactNumber,readOnly:!0,required:!0})]}),u.jsxs("div",{className:"FormRow",children:[u.jsx("label",{htmlFor:"ObjectNameInp",children:"Object name:"}),u.jsx("input",{className:"FInput",type:"text",id:"ObjectNameInp",value:U,onChange:ne=>L(ne.target.value),required:!0})]}),u.jsxs("div",{className:"FormRow",children:[u.jsx("label",{htmlFor:"BrandInp",children:"Brand:"}),u.jsx("input",{className:"FInput",type:"text",id:"BrandInp",value:v,onChange:ne=>y(ne.target.value),required:!0})]}),u.jsxs("div",{className:"FormRow",children:[u.jsx("label",{htmlFor:"ColorInp",children:"Color:"}),u.jsxs("select",{id:"ColorInp",className:"FInput",value:x,onChange:ne=>R(ne.target.value),required:!0,children:[u.jsx("option",{value:"",children:"Select a color"}),u.jsx("option",{value:"Red",children:"Red"}),u.jsx("option",{value:"Blue",children:"Blue"}),u.jsx("option",{value:"Green",children:"Green"}),u.jsx("option",{value:"Yellow",children:"Yellow"}),u.jsx("option",{value:"Orange",children:"Orange"}),u.jsx("option",{value:"Purple",children:"Purple"}),u.jsx("option",{value:"Pink",children:"Pink"}),u.jsx("option",{value:"Black",children:"Black"}),u.jsx("option",{value:"White",children:"White"}),u.jsx("option",{value:"Gray",children:"Gray"}),u.jsx("option",{value:"Others",children:"Other"})]}),x==="Others"&&u.jsx("input",{className:"FInput",type:"text",placeholder:"Specify color",value:be,onChange:ne=>le(ne.target.value),required:!0})]}),u.jsxs("div",{className:"FormRow",children:[u.jsx("label",{htmlFor:"DateFoundInp",children:"Date Found:"}),u.jsx("input",{className:"FInput",type:"date",id:"DateFoundInp",value:w,onChange:ne=>I(ne.target.value),required:!0})]}),u.jsxs("div",{className:"FormRow",children:[u.jsx("label",{htmlFor:"TimeFoundInp",children:"Time Found:"})," ",u.jsx("input",{className:"FInput",type:"time",id:"TimeFoundInp",value:_,onChange:ne=>D(ne.target.value),required:!0})]}),u.jsxs("div",{className:"FormRow",children:[u.jsx("label",{htmlFor:"LocationFoundInp",children:"Location Found:"}),u.jsx("input",{className:"FInput",type:"text",id:"LocationFoundInp",value:T,onChange:ne=>M(ne.target.value),required:!0})]}),u.jsxs("div",{className:"FormRow",children:[u.jsx("label",{htmlFor:"ImageInp",children:"Upload Image:"}),u.jsx("input",{className:"FInput",type:"file",id:"ImageInp",onChange:et,accept:"image/*"})]}),u.jsx("div",{className:"FormRow"}),z&&u.jsx("p",{children:"Uploading image..."})]}),u.jsxs("div",{className:"ButtonContainer",children:[u.jsx("button",{className:"PrevBtn",onClick:as,children:"Previous"}),u.jsx("button",{className:"NextBtn",onClick:$n,disabled:!U||!x||!w||!T||!_,children:"Next"})]})]}),e===4&&u.jsxs("div",{className:"step4",children:[u.jsx("h2",{children:"REPORT A FOUND ITEM"}),u.jsxs("div",{className:"ProgressIndi",children:[u.jsx("div",{className:"step active",children:"1"}),u.jsx("div",{className:"step active",children:"2"}),u.jsx("div",{className:"step active",children:"3"}),u.jsx("div",{className:"step active",children:"4"}),u.jsx("div",{className:"step",children:"5"})]}),u.jsxs("div",{className:"FReportFoundContainer",children:[u.jsx("p",{children:"PLEASE PROCEED TO THE DISCIPLINARY OFFICE TO SURRENDER FOUND ITEMS."}),u.jsx("p",{children:"Show the Code"}),u.jsx("div",{children:N?u.jsxs("div",{children:[u.jsx("p",{children:"Code expired. Please generate a new code."}),u.jsx("button",{onClick:bl,children:"Generate New Code"})]}):C?u.jsx("div",{children:u.jsx("p",{children:"Code confirmed"})}):u.jsxs("div",{children:[u.jsxs("p",{children:["Time left before code expires: ",A," seconds"]}),u.jsx("h1",{children:d}),u.jsx("p",{children:"Admin needs to confirm this code."})]})})]}),u.jsxs("div",{className:"ButtonContainer",children:[u.jsx("button",{className:"PrevBtn",onClick:as,disabled:C,children:"Previous"}),u.jsx("button",{className:"Nextbtn",onClick:$n,disabled:!C,children:"Next"})]})]}),e===5&&u.jsxs("div",{className:"step5",children:[u.jsx("h2",{children:"REPORT A FOUND ITEM"}),u.jsxs("div",{className:"ProgressIndi",children:[u.jsx("div",{className:"step active",children:"1"}),u.jsx("div",{className:"step active",children:"2"}),u.jsx("div",{className:"step active",children:"3"}),u.jsx("div",{className:"step active",children:"4"}),u.jsx("div",{className:"step active",children:"5"})]}),u.jsxs("div",{className:"FReportFoundContainer",children:[u.jsx("h3",{children:"Thank You!"}),u.jsx("p",{children:"Your honesty and effort will greatly assist the owner in retrieving their belongings."})]}),u.jsx("button",{className:"FinishBtn",onClick:()=>t("/homepage#body1"),children:"Finish"})]})]})})}function ST(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=ST(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Fr(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=ST(t))&&(r&&(r+=" "),r+=e);return r}const nl=t=>typeof t=="number"&&!isNaN(t),js=t=>typeof t=="string",Ht=t=>typeof t=="function",$c=t=>js(t)||Ht(t)?t:null,Fp=t=>O.isValidElement(t)||js(t)||Ht(t)||nl(t);function IL(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:s}=t;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,n)})})}function Sd(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:s=!0,collapseDuration:i=300}=t;return function(o){let{children:a,position:l,preventExitTransition:d,done:h,nodeRef:p,isIn:g,playToast:b}=o;const k=r?`${e}--${l}`:e,N=r?`${n}--${l}`:n,P=O.useRef(0);return O.useLayoutEffect(()=>{const A=p.current,E=k.split(" "),C=j=>{j.target===p.current&&(b(),A.removeEventListener("animationend",C),A.removeEventListener("animationcancel",C),P.current===0&&j.type!=="animationcancel"&&A.classList.remove(...E))};A.classList.add(...E),A.addEventListener("animationend",C),A.addEventListener("animationcancel",C)},[]),O.useEffect(()=>{const A=p.current,E=()=>{A.removeEventListener("animationend",E),s?IL(A,h,i):h()};g||(d?E():(P.current=1,A.className+=` ${N}`,A.addEventListener("animationend",E)))},[g]),xe.createElement(xe.Fragment,null,a)}}function w1(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const St=new Map;let rl=[];const Up=new Set,SL=t=>Up.forEach(e=>e(t)),CT=()=>St.size>0;function kT(t,e){var n;if(e)return!((n=St.get(e))==null||!n.isToastActive(t));let r=!1;return St.forEach(s=>{s.isToastActive(t)&&(r=!0)}),r}function AT(t,e){Fp(t)&&(CT()||rl.push({content:t,options:e}),St.forEach(n=>{n.buildToast(t,e)}))}function b1(t,e){St.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function CL(t){const{subscribe:e,getSnapshot:n,setProps:r}=O.useRef(function(i){const o=i.containerId||1;return{subscribe(a){const l=function(h,p,g){let b=1,k=0,N=[],P=[],A=[],E=p;const C=new Map,j=new Set,U=()=>{A=Array.from(C.values()),j.forEach(y=>y())},L=y=>{P=y==null?[]:P.filter(x=>x!==y),U()},v=y=>{const{toastId:x,onOpen:R,updateId:w,children:I}=y.props,_=w==null;y.staleId&&C.delete(y.staleId),C.set(x,y),P=[...P,y.props.toastId].filter(D=>D!==y.staleId),U(),g(w1(y,_?"added":"updated")),_&&Ht(R)&&R(O.isValidElement(I)&&I.props)};return{id:h,props:E,observe:y=>(j.add(y),()=>j.delete(y)),toggle:(y,x)=>{C.forEach(R=>{x!=null&&x!==R.props.toastId||Ht(R.toggle)&&R.toggle(y)})},removeToast:L,toasts:C,clearQueue:()=>{k-=N.length,N=[]},buildToast:(y,x)=>{if((J=>{let{containerId:ee,toastId:we,updateId:be}=J;const le=ee?ee!==h:h!==1,et=C.has(we)&&be==null;return le||et})(x))return;const{toastId:R,updateId:w,data:I,staleId:_,delay:D}=x,T=()=>{L(R)},M=w==null;M&&k++;const $={...E,style:E.toastStyle,key:b++,...Object.fromEntries(Object.entries(x).filter(J=>{let[ee,we]=J;return we!=null})),toastId:R,updateId:w,data:I,closeToast:T,isIn:!1,className:$c(x.className||E.toastClassName),bodyClassName:$c(x.bodyClassName||E.bodyClassName),progressClassName:$c(x.progressClassName||E.progressClassName),autoClose:!x.isLoading&&(V=x.autoClose,z=E.autoClose,V===!1||nl(V)&&V>0?V:z),deleteToast(){const J=C.get(R),{onClose:ee,children:we}=J.props;Ht(ee)&&ee(O.isValidElement(we)&&we.props),g(w1(J,"removed")),C.delete(R),k--,k<0&&(k=0),N.length>0?v(N.shift()):U()}};var V,z;$.closeButton=E.closeButton,x.closeButton===!1||Fp(x.closeButton)?$.closeButton=x.closeButton:x.closeButton===!0&&($.closeButton=!Fp(E.closeButton)||E.closeButton);let H=y;O.isValidElement(y)&&!js(y.type)?H=O.cloneElement(y,{closeToast:T,toastProps:$,data:I}):Ht(y)&&(H=y({closeToast:T,toastProps:$,data:I}));const Q={content:H,props:$,staleId:_};E.limit&&E.limit>0&&k>E.limit&&M?N.push(Q):nl(D)?setTimeout(()=>{v(Q)},D):v(Q)},setProps(y){E=y},setToggle:(y,x)=>{C.get(y).toggle=x},isToastActive:y=>P.some(x=>x===y),getSnapshot:()=>E.newestOnTop?A.reverse():A}}(o,i,SL);St.set(o,l);const d=l.observe(a);return rl.forEach(h=>AT(h.content,h.options)),rl=[],()=>{d(),St.delete(o)}},setProps(a){var l;(l=St.get(o))==null||l.setProps(a)},getSnapshot(){var a;return(a=St.get(o))==null?void 0:a.getSnapshot()}}}(t)).current;r(t);const s=O.useSyncExternalStore(e,n,n);return{getToastToRender:function(i){if(!s)return[];const o=new Map;return s.forEach(a=>{const{position:l}=a.props;o.has(l)||o.set(l,[]),o.get(l).push(a)}),Array.from(o,a=>i(a[0],a[1]))},isToastActive:kT,count:s==null?void 0:s.length}}function kL(t){const[e,n]=O.useState(!1),[r,s]=O.useState(!1),i=O.useRef(null),o=O.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:d,onClick:h,closeOnClick:p}=t;var g,b;function k(){n(!0)}function N(){n(!1)}function P(C){const j=i.current;o.canDrag&&j&&(o.didMove=!0,e&&N(),o.delta=t.draggableDirection==="x"?C.clientX-o.start:C.clientY-o.start,o.start!==C.clientX&&(o.canCloseOnClick=!1),j.style.transform=`translate3d(${t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,j.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function A(){document.removeEventListener("pointermove",P),document.removeEventListener("pointerup",A);const C=i.current;if(o.canDrag&&o.didMove&&C){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return s(!0),t.closeToast(),void t.collapseAll();C.style.transition="transform 0.2s, opacity 0.2s",C.style.removeProperty("transform"),C.style.removeProperty("opacity")}}(b=St.get((g={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||b.setToggle(g.id,g.fn),O.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||N(),window.addEventListener("focus",k),window.addEventListener("blur",N),()=>{window.removeEventListener("focus",k),window.removeEventListener("blur",N)}},[t.pauseOnFocusLoss]);const E={onPointerDown:function(C){if(t.draggable===!0||t.draggable===C.pointerType){o.didMove=!1,document.addEventListener("pointermove",P),document.addEventListener("pointerup",A);const j=i.current;o.canCloseOnClick=!0,o.canDrag=!0,j.style.transition="none",t.draggableDirection==="x"?(o.start=C.clientX,o.removalDistance=j.offsetWidth*(t.draggablePercent/100)):(o.start=C.clientY,o.removalDistance=j.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(C){const{top:j,bottom:U,left:L,right:v}=i.current.getBoundingClientRect();C.nativeEvent.type!=="touchend"&&t.pauseOnHover&&C.clientX>=L&&C.clientX<=v&&C.clientY>=j&&C.clientY<=U?N():k()}};return a&&l&&(E.onMouseEnter=N,t.stacked||(E.onMouseLeave=k)),p&&(E.onClick=C=>{h&&h(C),o.canCloseOnClick&&d()}),{playToast:k,pauseToast:N,isRunning:e,preventExitTransition:r,toastRef:i,eventHandlers:E}}function AL(t){let{delay:e,isRunning:n,closeToast:r,type:s="default",hide:i,className:o,style:a,controlledProgress:l,progress:d,rtl:h,isIn:p,theme:g}=t;const b=i||l&&d===0,k={...a,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};l&&(k.transform=`scaleX(${d})`);const N=Fr("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${g}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":h}),P=Ht(o)?o({rtl:h,type:s,defaultClassName:N}):Fr(N,o),A={[l&&d>=1?"onTransitionEnd":"onAnimationEnd"]:l&&d<1?null:()=>{p&&r()}};return xe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":b},xe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${g} Toastify__progress-bar--${s}`}),xe.createElement("div",{role:"progressbar","aria-hidden":b?"true":"false","aria-label":"notification timer",className:P,style:k,...A}))}let RL=1;const RT=()=>""+RL++;function PL(t){return t&&(js(t.toastId)||nl(t.toastId))?t.toastId:RT()}function Ca(t,e){return AT(t,e),e.toastId}function Du(t,e){return{...e,type:e&&e.type||t,toastId:PL(e)}}function gc(t){return(e,n)=>Ca(e,Du(t,n))}function ve(t,e){return Ca(t,Du("default",e))}ve.loading=(t,e)=>Ca(t,Du("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),ve.promise=function(t,e,n){let r,{pending:s,error:i,success:o}=e;s&&(r=js(s)?ve.loading(s,n):ve.loading(s.render,{...n,...s}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(h,p,g)=>{if(p==null)return void ve.dismiss(r);const b={type:h,...a,...n,data:g},k=js(p)?{render:p}:p;return r?ve.update(r,{...b,...k}):ve(k.render,{...b,...k}),g},d=Ht(t)?t():t;return d.then(h=>l("success",o,h)).catch(h=>l("error",i,h)),d},ve.success=gc("success"),ve.info=gc("info"),ve.error=gc("error"),ve.warning=gc("warning"),ve.warn=ve.warning,ve.dark=(t,e)=>Ca(t,Du("default",{theme:"dark",...e})),ve.dismiss=function(t){(function(e){var n;if(CT()){if(e==null||js(n=e)||nl(n))St.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=St.get(e.containerId);r?r.removeToast(e.id):St.forEach(s=>{s.removeToast(e.id)})}}else rl=rl.filter(r=>e!=null&&r.options.toastId!==e)})(t)},ve.clearWaitingQueue=function(t){t===void 0&&(t={}),St.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},ve.isActive=kT,ve.update=function(t,e){e===void 0&&(e={});const n=((r,s)=>{var i;let{containerId:o}=s;return(i=St.get(o||1))==null?void 0:i.toasts.get(r)})(t,e);if(n){const{props:r,content:s}=n,i={delay:100,...r,...e,toastId:e.toastId||t,updateId:RT()};i.toastId!==t&&(i.staleId=t);const o=i.render||s;delete i.render,Ca(o,i)}},ve.done=t=>{ve.update(t,{progress:1})},ve.onChange=function(t){return Up.add(t),()=>{Up.delete(t)}},ve.play=t=>b1(!0,t),ve.pause=t=>b1(!1,t);const NL=typeof window<"u"?O.useLayoutEffect:O.useEffect,yc=t=>{let{theme:e,type:n,isLoading:r,...s}=t;return xe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...s})},Wh={info:function(t){return xe.createElement(yc,{...t},xe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return xe.createElement(yc,{...t},xe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return xe.createElement(yc,{...t},xe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return xe.createElement(yc,{...t},xe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return xe.createElement("div",{className:"Toastify__spinner"})}},jL=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:s,playToast:i}=kL(t),{closeButton:o,children:a,autoClose:l,onClick:d,type:h,hideProgressBar:p,closeToast:g,transition:b,position:k,className:N,style:P,bodyClassName:A,bodyStyle:E,progressClassName:C,progressStyle:j,updateId:U,role:L,progress:v,rtl:y,toastId:x,deleteToast:R,isIn:w,isLoading:I,closeOnClick:_,theme:D}=t,T=Fr("Toastify__toast",`Toastify__toast-theme--${D}`,`Toastify__toast--${h}`,{"Toastify__toast--rtl":y},{"Toastify__toast--close-on-click":_}),M=Ht(N)?N({rtl:y,position:k,type:h,defaultClassName:T}):Fr(T,N),$=function(Q){let{theme:J,type:ee,isLoading:we,icon:be}=Q,le=null;const et={theme:J,type:ee};return be===!1||(Ht(be)?le=be({...et,isLoading:we}):O.isValidElement(be)?le=O.cloneElement(be,et):we?le=Wh.spinner():(Io=>Io in Wh)(ee)&&(le=Wh[ee](et))),le}(t),V=!!v||!l,z={closeToast:g,type:h,theme:D};let H=null;return o===!1||(H=Ht(o)?o(z):O.isValidElement(o)?O.cloneElement(o,z):function(Q){let{closeToast:J,theme:ee,ariaLabel:we="close"}=Q;return xe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${ee}`,type:"button",onClick:be=>{be.stopPropagation(),J(be)},"aria-label":we},xe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},xe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(z)),xe.createElement(b,{isIn:w,done:R,position:k,preventExitTransition:n,nodeRef:r,playToast:i},xe.createElement("div",{id:x,onClick:d,"data-in":w,className:M,...s,style:P,ref:r},xe.createElement("div",{...w&&{role:L},className:Ht(A)?A({type:h}):Fr("Toastify__toast-body",A),style:E},$!=null&&xe.createElement("div",{className:Fr("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!I})},$),xe.createElement("div",null,a)),H,xe.createElement(AL,{...U&&!V?{key:`pb-${U}`}:{},rtl:y,theme:D,delay:l,isRunning:e,isIn:w,closeToast:g,hide:p,type:h,style:j,className:C,controlledProgress:V,progress:v||0})))},Cd=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},OL=Sd(Cd("bounce",!0));Sd(Cd("slide",!0));Sd(Cd("zoom"));Sd(Cd("flip"));const DL={position:"top-right",transition:OL,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function LL(t){let e={...DL,...t};const n=t.stacked,[r,s]=O.useState(!0),i=O.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=CL(e),{className:d,style:h,rtl:p,containerId:g}=e;function b(N){const P=Fr("Toastify__toast-container",`Toastify__toast-container--${N}`,{"Toastify__toast-container--rtl":p});return Ht(d)?d({position:N,rtl:p,defaultClassName:P}):Fr(P,$c(d))}function k(){n&&(s(!0),ve.play())}return NL(()=>{if(n){var N;const P=i.current.querySelectorAll('[data-in="true"]'),A=12,E=(N=e.position)==null?void 0:N.includes("top");let C=0,j=0;Array.from(P).reverse().forEach((U,L)=>{const v=U;v.classList.add("Toastify__toast--stacked"),L>0&&(v.dataset.collapsed=`${r}`),v.dataset.pos||(v.dataset.pos=E?"top":"bot");const y=C*(r?.2:1)+(r?0:A*L);v.style.setProperty("--y",`${E?y:-1*y}px`),v.style.setProperty("--g",`${A}`),v.style.setProperty("--s",""+(1-(r?j:0))),C+=v.offsetHeight,j+=.025})}},[r,l,n]),xe.createElement("div",{ref:i,className:"Toastify",id:g,onMouseEnter:()=>{n&&(s(!1),ve.pause())},onMouseLeave:k},o((N,P)=>{const A=P.length?{...h}:{...h,pointerEvents:"none"};return xe.createElement("div",{className:b(N),style:A,key:`container-${N}`},P.map(E=>{let{content:C,props:j}=E;return xe.createElement(jL,{...j,stacked:n,collapseAll:k,isIn:a(j.toastId,j.containerId),style:j.style,key:`toast-${j.key}`},C)}))}))}function ML(){const[t,e]=O.useState(""),[n,r]=O.useState(""),[s,i]=O.useState([]),[o,a]=O.useState(null);O.useEffect(()=>{const k=JSON.parse(sessionStorage.getItem("user"));k?a({name:`${k.firstname} ${k.lastname}`,email:k.email,contactNumber:k.contact,userId:k.id}):console.log("No user data found in sessionStorage.")},[]);const l=k=>{e(k.target.value)},d=async()=>{try{const{data:k,error:N}=await Ie.from("item_reports2").select("*").eq("code",parseInt(t,10)).single();N?(r("Error fetching item. Please try again."),console.error("Error fetching item:",N),ve.error("Error fetching item. Please try again.")):k?(k.confirmed?ve.info("This item has already been confirmed."):(await h(k.id),ve.success("Reported found item confirmed successfully!")),e("")):(r("No matching item found for the given code."),ve.warning("No matching item found for the given code."))}catch(k){console.error("Error fetching document:",k),r("Error fetching item. Please try again."),ve.error("Error fetching item. Please try again.")}},h=async k=>{try{const{error:N}=await Ie.from("item_reports2").update({confirmed:!0}).eq("id",k);N&&(ve.error("Error confirming the item. Please try again."),console.error("Error updating confirmation status:",N))}catch(N){console.error("Error confirming item:",N),ve.error("Error confirming the item. Please try again.")}};O.useEffect(()=>{(async()=>{try{const{data:N,error:P}=await Ie.from("item_reports2").select(`
          *,
          userinfo:holderid (firstname, lastname)
        `);P?console.error("Error fetching found items: ",P):i(N)}catch(N){console.error("Error fetching found items: ",N)}})()},[]);const p=s.filter(k=>k.status==="pending"&&k.type==="Found").length,g=s.filter(k=>k.status==="pending"&&k.type==="Lost").length,b=s.filter(k=>k.status==="claimed").length;return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"adminnavbar",children:[u.jsxs("div",{children:[u.jsx("p",{className:"header",children:"Dashboard"}),u.jsx("p",{children:"Welcome to NU Lost and Found!"})]}),u.jsxs("div",{children:[u.jsx("input",{className:"entercode",maxLength:6,placeholder:"ENTER CODE",value:t,onChange:l}),u.jsx("button",{className:"codebtn",id:"entercodebtn",onClick:d,children:u.jsx(jt,{icon:Bg})})]})]}),u.jsxs("div",{className:"dashboardbody",children:[u.jsxs("div",{className:"panels",children:[u.jsxs("div",{className:"panel",children:[u.jsx("p",{id:"lostitemcount",className:"panelh2",children:p}),u.jsx("p",{className:"panelp",children:"Lost Items"})]}),u.jsxs("div",{className:"panel",children:[u.jsx("p",{id:"pendingclaimcount",className:"panelh2",children:g}),u.jsx("p",{className:"panelp",children:"Pending Claims"})]}),u.jsxs("div",{className:"panel",children:[u.jsx("p",{id:"claimeditemscount",className:"panelh2",children:b}),u.jsx("p",{className:"panelp",children:"Claimed Items"})]})]}),u.jsxs("div",{className:"dashboardtable",children:[u.jsx("p",{className:"ptag",children:"Displaying Most Recent Lost Items"}),u.jsx("div",{className:"table-container",children:u.jsxs("table",{className:"report-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Reported By"}),u.jsx("th",{children:"Category"}),u.jsx("th",{children:"Object Name"}),u.jsx("th",{children:"Reported Date"}),u.jsx("th",{children:"Type"}),u.jsx("th",{children:"Claimed By"})]})}),u.jsx("tbody",{children:s.length>0?s.filter(k=>k.status).sort((k,N)=>new Date(N.createdat)-new Date(k.createdat)).slice(0,5).map(k=>{var N,P;return u.jsxs("tr",{children:[u.jsx("td",{children:(N=k.userinfo)!=null&&N.firstname&&((P=k.userinfo)!=null&&P.lastname)?`${k.userinfo.firstname} ${k.userinfo.lastname}`:"N/A"}),u.jsx("td",{children:k.category}),u.jsx("td",{children:k.objectname}),u.jsx("td",{children:k.createdat?new Date(k.createdat).toLocaleString():"N/A"}),u.jsx("td",{children:k.status==="lost"?"Lost":k.status==="pending"?"Missing":k.status==="claimed"?"Claimed":"N/A"}),u.jsx("td",{children:k.claimedby?k.claimedby:"N/A"})]},k.id)}):u.jsx("tr",{children:u.jsx("td",{colSpan:"6",children:"No data available"})})})]})})]})]}),u.jsx(LL,{})]})}const zg="/systemproj/assets/imgplaceholder-BlucxwEu.png";function FL(){const[t,e]=O.useState([]),[n,r]=O.useState(""),[s,i]=O.useState(""),[o,a]=O.useState({start:"",end:""}),[l,d]=O.useState(!1),[h,p]=O.useState(!1),[g,b]=O.useState(null);O.useState(null),O.useState("Your lost item might have been matched."),O.useState(!1);const[k,N]=O.useState(""),[P,A]=O.useState({claimedBy:"",claimContactNumber:"",claimEmail:""});O.useEffect(()=>{(async()=>{let v=Ie.from("item_reports2").select(`
          *,
          userinfo:holderid (firstname, lastname, email, contact)
        `).eq("status","pending").eq("type","Found").eq("confirmed",!0).order("createdat",{ascending:!1});n&&(v=v.eq("category",n)),s&&(v=v.eq("color",s)),o.start&&(v=v.gte("datefound",o.start)),o.end&&(v=v.lte("datefound",o.end));const{data:y,error:x}=await v.order("datefound",{ascending:!1}).order("timefound",{ascending:!1});if(x)console.error("Error fetching found items:",x);else{const R=y.map(w=>{var _,D;const I=(_=w.userinfo)!=null&&_.firstname&&((D=w.userinfo)!=null&&D.lastname)?`${w.userinfo.firstname} ${w.userinfo.lastname}`:"N/A";return{...w,userName:I}});e(R)}})()},[n,s,o]);const E=L=>{b(L),d(!0)},C=L=>{b(L),p(!0)},j=async()=>{if(!(!g||!k.trim()))try{const{error:L}=await Ie.from("item_reports2").update({status:"archived",archiveremark:k}).eq("id",g);L?console.error("Error archiving item:",L):(e(t.filter(v=>v.id!==g)),d(!1),N(""),console.log("Item archived successfully."))}catch(L){console.error("Error archiving item: ",L)}},U=async()=>{if(!(!P.claimedBy.trim()||!P.claimContactNumber.trim()||!P.claimEmail.trim()))try{const{error:L}=await Ie.from("item_reports2").update({status:"claimed",claimedby:P.claimedBy,claimcontactnumber:P.claimContactNumber,claimemail:P.claimEmail}).eq("id",g);if(L){console.error("Error updating claim status:",L);return}await(async()=>{let y=Ie.from("item_reports2").select(`
            *,
            userinfo:holderid (firstname, lastname, email, contact)
          `).eq("status","pending").eq("type","Found").eq("confirmed",!0).order("createdat",{ascending:!1});n&&(y=y.eq("category",n)),s&&(y=y.eq("color",s)),o.start&&(y=y.gte("datefound",o.start)),o.end&&(y=y.lte("datefound",o.end));const{data:x,error:R}=await y;R?console.error("Error fetching updated items:",R):e(x)})(),p(!1),A({claimedBy:"",claimContactNumber:"",claimEmail:""}),console.log("Item successfully marked as claimed.")}catch(L){console.error("Error handling claim:",L)}};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"adminnavbar",children:[u.jsxs("div",{children:[u.jsx("p",{className:"header",children:"Found Item Reports"}),u.jsxs("div",{className:"categoryx",children:[u.jsx("p",{children:"Filter"}),u.jsxs("select",{className:"categorybutton",value:n,onChange:L=>r(L.target.value),children:[u.jsx("option",{value:"",children:"All Categories"}),u.jsx("option",{value:"Personal Belonging",children:"Personal Belonging"}),u.jsx("option",{value:"Electronics",children:"Electronics"}),u.jsx("option",{value:"Documents",children:"Documents"}),u.jsx("option",{value:"Others",children:"Others"})]}),u.jsxs("select",{className:"categorybutton",value:s,onChange:L=>i(L.target.value),children:[u.jsx("option",{value:"",children:"All Colors"}),u.jsx("option",{value:"Red",children:"Red"}),u.jsx("option",{value:"Blue",children:"Blue"}),u.jsx("option",{value:"Green",children:"Green"}),u.jsx("option",{value:"Yellow",children:"Yellow"}),u.jsx("option",{value:"Orange",children:"Orange"}),u.jsx("option",{value:"Purple",children:"Purple"}),u.jsx("option",{value:"Pink",children:"Pink"}),u.jsx("option",{value:"Black",children:"Black"}),u.jsx("option",{value:"White",children:"White"}),u.jsx("option",{value:"Gray",children:"Gray"})]}),u.jsxs("div",{className:"dateDiv",children:[u.jsx("input",{type:"date",value:o.start,onChange:L=>{const v=L.target.value;a(y=>({...y,start:v,end:y.end<v?v:y.end}))}}),u.jsx("label",{className:"tolabel",children:""}),u.jsx("input",{type:"date",value:o.end,onChange:L=>a({...o,end:L.target.value}),min:o.start})]})]})]}),u.jsxs("label",{className:"adminh2",children:[t.length," "]})]}),u.jsx("div",{className:"containerlostdata",children:t.map(L=>{var v,y,x,R;return u.jsxs("div",{className:"lostitemcontainer",children:[u.jsx("img",{className:"lostitemimg",src:L.imageurl||zg,alt:"Lost Item"}),u.jsxs("div",{className:"lostitembody",children:[u.jsxs("div",{className:"lostitemtop",children:[u.jsx("label",{className:"lostitemlabel",children:L.objectname}),u.jsxs("div",{className:"buttonslost",children:[u.jsx("button",{className:"lostitemimg2",id:"removelostitem",onClick:()=>E(L.id),children:u.jsx(jt,{icon:$g})}),u.jsx("button",{className:"lostitemimg2",id:"checklostitem",onClick:()=>C(L.id),children:u.jsx(jt,{icon:Bg})})]})]}),u.jsxs("div",{className:"lostitembody1",children:[u.jsxs("div",{className:"lostitempanel1",children:[u.jsx("label",{className:"lostitemlabel2",children:"Category"}),u.jsx("label",{className:"lostitemlabel3",children:L.category}),u.jsx("label",{className:"lostitemlabel2",children:"Brand"}),u.jsx("label",{className:"lostitemlabel3",children:L.brand}),u.jsx("label",{className:"lostitemlabel2",children:"Color"}),u.jsx("label",{className:"lostitemlabel3",children:L.color})]}),u.jsxs("div",{className:"lostitempanel1",children:[u.jsx("label",{className:"lostitemlabel2",children:"Reported by:"}),u.jsx("label",{className:"lostitemlabel3",children:(v=L.userinfo)!=null&&v.firstname&&((y=L.userinfo)!=null&&y.lastname)?`${L.userinfo.firstname} ${L.userinfo.lastname}`:"N/A"}),u.jsx("label",{className:"lostitemlabel2",children:"Contact Number"}),u.jsx("label",{className:"lostitemlabel3",children:(x=L.userinfo)==null?void 0:x.contact}),u.jsx("label",{className:"lostitemlabel2",children:"Email"}),u.jsx("label",{className:"lostitemlabel3",children:(R=L.userinfo)==null?void 0:R.email})]}),u.jsxs("div",{className:"lostitempanel2",children:[u.jsx("label",{className:"lostitemlabel2",children:"Date Found"}),u.jsxs("label",{className:"lostitemlabel3",children:[L.datefound," at ",L.timefound]}),u.jsx("label",{className:"lostitemlabel2",children:"Location Found"}),u.jsx("label",{className:"lostitemlabel3",children:L.locationfound})]})]})]})]},L.id)})}),l&&u.jsx("div",{className:"modal",children:u.jsxs("div",{className:"modal-content",children:[u.jsx("p",{children:"Archive this item?"}),u.jsx("input",{placeholder:"Archive Reason",value:k,onChange:L=>N(L.target.value)}),u.jsxs("div",{className:"modalBtnDiv",children:[u.jsx("button",{onClick:()=>{j(),d(!1)},disabled:!k.trim(),children:"Yes"}),u.jsx("button",{onClick:()=>d(!1),children:"No"})]})]})}),h&&u.jsx("div",{className:"modal",children:u.jsxs("div",{className:"modal-content",children:[u.jsx("h2",{children:"Claim Item"}),u.jsx("label",{children:"Claimed By:"}),u.jsx("input",{type:"text",value:P.claimedBy,onChange:L=>A({...P,claimedBy:L.target.value}),required:!0}),u.jsx("label",{children:"Contact Number:"}),u.jsx("input",{type:"number",value:P.claimContactNumber,onChange:L=>A({...P,claimContactNumber:L.target.value}),required:!0,onWheel:L=>L.target.blur()}),u.jsx("label",{children:"Email:"}),u.jsx("input",{type:"email",value:P.claimEmail,onChange:L=>A({...P,claimEmail:L.target.value}),required:!0}),u.jsxs("div",{className:"modal-buttons",children:[u.jsx("button",{onClick:()=>p(!1),children:"Cancel"}),u.jsx("button",{onClick:U,disabled:!P.claimedBy.trim()||!P.claimContactNumber.trim()||!P.claimEmail.trim(),children:"Confirm Claim"})]})]})})]})}function UL(){const[t,e]=O.useState([]),[n,r]=O.useState(""),[s,i]=O.useState(""),[o,a]=O.useState({start:"",end:""}),[l,d]=O.useState(!1),[h,p]=O.useState(!1),[g,b]=O.useState(null),[k,N]=O.useState(null),[P,A]=O.useState("Your lost item might have been matched."),[E,C]=O.useState(!1),[j,U]=O.useState(""),[L,v]=O.useState({claimedBy:"",claimContactNumber:"",claimEmail:""}),y=async()=>{let T=Ie.from("item_reports2").select(`
        *,
        userinfo:holderid (firstname, lastname, email, contact)
      `).eq("status","pending").eq("type","Lost").order("createdat",{ascending:!1});n&&(T=T.eq("category",n)),s&&(T=T.eq("color",s)),o.start&&(T=T.gte("datelost",o.start)),o.end&&(T=T.lte("datelost",o.end));const{data:M,error:$}=await T.order("datelost",{ascending:!1}).order("timelost",{ascending:!1});if($)console.error("Error fetching found items:",$);else{const V=M.map(z=>{var Q;const H=((Q=z.userDetails)==null?void 0:Q.name)||"N/A";return{...z,userName:H}});e(V)}};O.useEffect(()=>{y()},[n,s,o]);const x=T=>{b(T),d(!0)},R=(T,M)=>{b(T),N(M),C(!0)},w=async()=>{try{const{data:T,error:M}=await Ie.from("item_reports2").select("*").eq("id",g).single();if(M){console.error("Error fetching item data:",M);return}const $=T.holderid;if(!$){console.error("No holder ID found for this item:",g);return}if(await Ie.from("item_reports2").update({notified:!0,message:P,notifdate:new Date}).eq("id",g),console.log(`Notification sent for item ${g} to holder ${$}`),C(!1),!P){console.error("Notification text is not defined.");return}}catch(T){console.error("Error sending notification: ",T)}},I=T=>{b(T),p(!0)},_=async T=>{if(!(!T||!j.trim()))try{const{error:M}=await Ie.from("item_reports2").update({status:"archived",archiveremark:j}).eq("id",T);M?console.error("Error archiving item:",M):(y(),console.log("Item archived and items refreshed."))}catch(M){console.error("Error archiving item: ",M)}},D=async()=>{if(!(!L.claimedBy.trim()||!L.claimContactNumber.trim()||!L.claimEmail.trim()))try{const{error:T}=await Ie.from("item_reports2").update({status:"claimed",claimedby:L.claimedBy,claimcontactnumber:L.claimContactNumber,claimemail:L.claimEmail,dateclaimed:new Date}).eq("id",g);T?console.error("Error updating claim status:",T):(y(),p(!1),v({claimedBy:"",claimContactNumber:"",claimEmail:""}),console.log("Item successfully marked as claimed."))}catch(T){console.error("Error handling claim:",T)}};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"adminnavbar",children:[u.jsxs("div",{children:[u.jsx("p",{className:"header",children:"Missing Item Reports"}),u.jsxs("div",{className:"categoryx",children:[u.jsx("p",{children:"Filter"}),u.jsxs("select",{className:"categorybutton",value:n,onChange:T=>r(T.target.value),children:[u.jsx("option",{value:"",children:"All Categories"}),u.jsx("option",{value:"Personal Belonging",children:"Personal Belonging"}),u.jsx("option",{value:"Electronics",children:"Electronics"}),u.jsx("option",{value:"Documents",children:"Documents"}),u.jsx("option",{value:"Others",children:"Others"})]}),u.jsxs("select",{className:"categorybutton",value:s,onChange:T=>i(T.target.value),children:[u.jsx("option",{value:"",children:"All Colors"}),u.jsx("option",{value:"Red",children:"Red"}),u.jsx("option",{value:"Blue",children:"Blue"}),u.jsx("option",{value:"Green",children:"Green"}),u.jsx("option",{value:"Yellow",children:"Yellow"}),u.jsx("option",{value:"Orange",children:"Orange"}),u.jsx("option",{value:"Purple",children:"Purple"}),u.jsx("option",{value:"Pink",children:"Pink"}),u.jsx("option",{value:"Black",children:"Black"}),u.jsx("option",{value:"White",children:"White"}),u.jsx("option",{value:"Gray",children:"Gray"})]}),u.jsxs("div",{className:"dateDiv",children:[u.jsx("input",{type:"date",value:o.start,onChange:T=>{const M=T.target.value;a($=>({...$,start:M,end:$.end<M?M:$.end}))}}),u.jsx("label",{className:"tolabel",children:""}),u.jsx("input",{type:"date",value:o.end,onChange:T=>a({...o,end:T.target.value}),min:o.start})]})]})]}),u.jsxs("label",{className:"adminh2",children:[t.length," "]})]}),u.jsx("div",{className:"containerlostdata",children:t.map(T=>{var M,$,V,z;return u.jsxs("div",{className:"lostitemcontainer",children:[u.jsx("img",{className:"lostitemimg",src:T.imageurl||zg,alt:"Lost Item"}),u.jsxs("div",{className:"lostitembody",children:[u.jsxs("div",{className:"lostitemtop",children:[u.jsx("label",{className:"lostitemlabel",children:T.objectname}),u.jsxs("div",{className:"buttonslost",children:[u.jsx("button",{className:"lostitemimg2",id:"notifyuser",onClick:()=>R(T.id,T.holderid),children:u.jsx(jt,{icon:vL})}),u.jsx("button",{className:"lostitemimg2",id:"removelostitem",onClick:()=>x(T.id),children:u.jsx(jt,{icon:$g})}),u.jsx("button",{className:"lostitemimg2",id:"checklostitem",onClick:()=>I(T.id),children:u.jsx(jt,{icon:Bg})})]})]}),u.jsxs("div",{className:"lostitembody1",children:[u.jsxs("div",{className:"lostitempanel1",children:[u.jsx("label",{className:"lostitemlabel2",children:"Category"}),u.jsx("label",{className:"lostitemlabel3",children:T.category}),u.jsx("label",{className:"lostitemlabel2",children:"Brand"}),u.jsx("label",{className:"lostitemlabel3",children:T.brand}),u.jsx("label",{className:"lostitemlabel2",children:"Color"}),u.jsx("label",{className:"lostitemlabel3",children:T.color})]}),u.jsxs("div",{className:"lostitempanel1",children:[u.jsx("label",{className:"lostitemlabel2",children:"Reported by:"}),u.jsx("label",{className:"lostitemlabel3",children:(M=T.userinfo)!=null&&M.firstname&&(($=T.userinfo)!=null&&$.lastname)?`${T.userinfo.firstname} ${T.userinfo.lastname}`:"N/A"}),u.jsx("label",{className:"lostitemlabel2",children:"Contact Number"}),u.jsx("label",{className:"lostitemlabel3",children:(V=T.userinfo)==null?void 0:V.contact}),u.jsx("label",{className:"lostitemlabel2",children:"Email"}),u.jsx("label",{className:"lostitemlabel3",children:(z=T.userinfo)==null?void 0:z.email})]}),u.jsxs("div",{className:"lostitempanel2",children:[u.jsx("label",{className:"lostitemlabel2",children:"Date Lost"}),u.jsxs("label",{className:"lostitemlabel3",children:[T.datelost," at ",T.timelost]}),u.jsx("label",{className:"lostitemlabel2",children:"Location Lost"}),u.jsx("label",{className:"lostitemlabel3",children:T.locationlost})]})]})]})]},T.id)})}),l&&u.jsx("div",{className:"modal",children:u.jsxs("div",{className:"modal-content",children:[u.jsx("p",{children:"Archive this item?"}),u.jsx("input",{placeholder:"Archive Reason",value:j,onChange:T=>U(T.target.value)}),u.jsxs("div",{className:"modalBtnDiv",children:[u.jsx("button",{onClick:()=>{_(g),d(!1)},disabled:!j.trim(),children:"Yes"}),u.jsx("button",{onClick:()=>d(!1),children:"No"})]})]})}),h&&u.jsx("div",{className:"modal",children:u.jsxs("div",{className:"modal-content",children:[u.jsx("h2",{children:"Claim Item"}),u.jsx("label",{children:"Claimed By:"}),u.jsx("input",{type:"text",value:L.claimedBy,onChange:T=>v({...L,claimedBy:T.target.value}),required:!0}),u.jsx("label",{children:"Contact Number:"}),u.jsx("input",{type:"number",value:L.claimContactNumber,onChange:T=>v({...L,claimContactNumber:T.target.value}),required:!0,onWheel:T=>T.target.blur()}),u.jsx("label",{children:"Email:"}),u.jsx("input",{type:"email",value:L.claimEmail,onChange:T=>v({...L,claimEmail:T.target.value}),required:!0}),u.jsxs("div",{className:"modal-buttons",children:[u.jsx("button",{onClick:()=>p(!1),children:"Cancel"}),u.jsx("button",{onClick:D,disabled:!L.claimedBy.trim()||!L.claimContactNumber.trim()||!L.claimEmail.trim(),children:"Confirm Claim"})]})]})}),E&&u.jsx("div",{className:"modal",children:u.jsxs("div",{className:"modal-content",children:[u.jsx("h2",{children:"Send Notification"}),u.jsx("p",{children:"Customize the notification message:"}),u.jsx("input",{type:"text",value:P,onChange:T=>A(T.target.value)}),u.jsxs("div",{className:"modal-buttons",children:[u.jsx("button",{onClick:()=>C(!1),children:"Cancel"}),u.jsx("button",{onClick:w,disabled:!P.trim(),children:"Send Notification"})]})]})})]})}function VL(){const[t,e]=O.useState([]),[n,r]=O.useState(""),[s,i]=O.useState(""),[o,a]=O.useState({start:"",end:""}),[l,d]=O.useState(!1),[h,p]=O.useState(!1),[g,b]=O.useState(null),[k,N]=O.useState("Your lost item might have been matched."),[P,A]=O.useState(!1),[E,C]=O.useState(""),[j,U]=O.useState({claimedBy:"",claimContactNumber:"",claimEmail:""}),L=async()=>{let y=Ie.from("item_reports2").select(`
        *,
        userinfo:holderid (firstname, lastname, email, contact)
      `).not("claimedby","is",null).order("createdat",{ascending:!1});n&&(y=y.eq("category",n)),s&&(y=y.eq("color",s)),o.start&&(y=y.gte("datelost",o.start)),o.end&&(y=y.lte("datelost",o.end));const{data:x,error:R}=await y;if(R)console.error("Error fetching found items:",R);else{console.log("Fetched Items:",x);const w=x.map(I=>{var _,D;return{...I,userName:(_=I.userinfo)!=null&&_.firstname&&((D=I.userinfo)!=null&&D.lastname)?`${I.userinfo.firstname} ${I.userinfo.lastname}`:"N/A"}});e(w)}};O.useEffect(()=>{L()},[n,s,o]);const v=y=>{if(!y)return"N/A";const x=new Date(y),R={year:"numeric",month:"long",day:"numeric"},w=x.toLocaleDateString(void 0,R),I=x.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"});return`${w}, ${I}`};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"adminnavbar",children:[u.jsxs("div",{children:[u.jsx("p",{className:"header",children:"Claimed Items"}),u.jsxs("div",{className:"categoryx",children:[u.jsx("p",{children:"Filter"}),u.jsxs("select",{className:"categorybutton",value:n,onChange:y=>r(y.target.value),children:[u.jsx("option",{value:"",children:"All Categories"}),u.jsx("option",{value:"Personal Belonging",children:"Personal Belonging"}),u.jsx("option",{value:"Electronics",children:"Electronics"}),u.jsx("option",{value:"Documents",children:"Documents"}),u.jsx("option",{value:"Others",children:"Others"})]}),u.jsxs("select",{className:"categorybutton",value:s,onChange:y=>i(y.target.value),children:[u.jsx("option",{value:"",children:"All Colors"}),u.jsx("option",{value:"Red",children:"Red"}),u.jsx("option",{value:"Blue",children:"Blue"}),u.jsx("option",{value:"Green",children:"Green"}),u.jsx("option",{value:"Yellow",children:"Yellow"}),u.jsx("option",{value:"Orange",children:"Orange"}),u.jsx("option",{value:"Purple",children:"Purple"}),u.jsx("option",{value:"Pink",children:"Pink"}),u.jsx("option",{value:"Black",children:"Black"}),u.jsx("option",{value:"White",children:"White"}),u.jsx("option",{value:"Gray",children:"Gray"})]}),u.jsxs("div",{className:"dateDiv",children:[u.jsx("input",{type:"date",value:o.start,onChange:y=>{const x=y.target.value;a(R=>({...R,start:x,end:R.end<x?x:R.end}))}}),u.jsx("label",{className:"tolabel",children:""}),u.jsx("input",{type:"date",value:o.end,onChange:y=>a({...o,end:y.target.value}),min:o.start})]})]})]}),u.jsxs("label",{className:"adminh2",children:[t.length," "]})]}),u.jsx("div",{className:"containerlostdata",children:t.map(y=>u.jsxs("div",{className:"lostitemcontainer",children:[u.jsx("img",{className:"lostitemimg",src:y.imageurl||zg,alt:"Lost Item"}),u.jsxs("div",{className:"lostitembody",children:[u.jsx("div",{className:"lostitemtop",children:u.jsx("label",{className:"lostitemlabel",children:y.objectname||"N/A"})}),u.jsxs("div",{className:"lostitembody1",children:[u.jsxs("div",{className:"lostitempanel1",children:[u.jsx("label",{className:"lostitemlabel2",children:"Category"}),u.jsx("label",{className:"lostitemlabel3",children:y.category}),u.jsx("label",{className:"lostitemlabel2",children:"Brand"}),u.jsx("label",{className:"lostitemlabel3",children:y.brand}),u.jsx("label",{className:"lostitemlabel2",children:"Color"}),u.jsx("label",{className:"lostitemlabel3",children:y.color})]}),u.jsxs("div",{className:"lostitempanel1",children:[u.jsx("label",{className:"lostitemlabel2",children:"Claimed by:"}),u.jsx("label",{className:"lostitemlabel3",children:y.claimedby}),u.jsx("label",{className:"lostitemlabel2",children:"Contact Number"}),u.jsx("label",{className:"lostitemlabel3",children:y.claimcontactnumber}),u.jsx("label",{className:"lostitemlabel2",children:"Email"}),u.jsx("label",{className:"lostitemlabel3",children:y.claimemail}),u.jsx("label",{className:"lostitemlabel2",children:"Date Claimed"}),u.jsx("label",{className:"lostitemlabel3",children:v(y.dateclaimed)})]})]})]})]},y.id))}),l&&u.jsx("div",{className:"modal",children:u.jsxs("div",{className:"modal-content",children:[u.jsx("p",{children:"Archive this item?"}),u.jsx("input",{placeholder:"Archive Reason",value:E,onChange:y=>C(y.target.value)}),u.jsxs("div",{className:"modalBtnDiv",children:[u.jsx("button",{onClick:()=>{handleArchiveItem(g),d(!1)},disabled:!E.trim(),children:"Yes"}),u.jsx("button",{onClick:()=>d(!1),children:"No"})]})]})}),h&&u.jsx("div",{className:"modal",children:u.jsxs("div",{className:"modal-content",children:[u.jsx("h2",{children:"Claim Item"}),u.jsx("label",{children:"Claimed By:"}),u.jsx("input",{type:"text",value:j.claimedBy,onChange:y=>U({...j,claimedBy:y.target.value}),required:!0}),u.jsx("label",{children:"Contact Number:"}),u.jsx("input",{type:"number",value:j.claimContactNumber,onChange:y=>U({...j,claimContactNumber:y.target.value}),required:!0,onWheel:y=>y.target.blur()}),u.jsx("label",{children:"Email:"}),u.jsx("input",{type:"email",value:j.claimEmail,onChange:y=>U({...j,claimEmail:y.target.value}),required:!0}),u.jsxs("div",{className:"modal-buttons",children:[u.jsx("button",{onClick:()=>p(!1),children:"Cancel"}),u.jsx("button",{onClick:handleClaimItem,disabled:!j.claimedBy.trim()||!j.claimContactNumber.trim()||!j.claimEmail.trim(),children:"Confirm Claim"})]})]})}),P&&u.jsx("div",{className:"modal",children:u.jsxs("div",{className:"modal-content",children:[u.jsx("h2",{children:"Send Notification"}),u.jsx("p",{children:"Customize the notification message:"}),u.jsx("input",{type:"text",value:k,onChange:y=>N(y.target.value)}),u.jsxs("div",{className:"modal-buttons",children:[u.jsx("button",{onClick:()=>A(!1),children:"Cancel"}),u.jsx("button",{onClick:handleSendNotification,disabled:!k.trim(),children:"Send Notification"})]})]})})]})}function $L(){const[t,e]=O.useState([]),[n,r]=O.useState("all"),[s,i]=O.useState(""),[o,a]=O.useState(""),[l,d]=O.useState({start:"",end:""}),[h,p]=O.useState(!0),[g,b]=O.useState({type:!0,category:!0,brand:!0,color:!0,objectname:!0,name:!0,contactnumber:!0,email:!0,datefound:!0,locationfound:!0,datelost:!0,locationlost:!0,claimedby:!0,claimemail:!0,claimcontactnumber:!0,dateclaimed:!0,status:!0}),k=()=>{p(v=>!v)},N={type:"Report Type",category:"Category",brand:"Brand",color:"Color",objectname:"Object Name",name:"Reported By Name",contactnumber:"Reported By Contact",email:"Reported By Email",datefound:"Date Found",locationfound:"Location Found",datelost:"Date Lost",locationlost:"Location Lost",claimedby:"Claimer's Name",claimemail:"Claimer's Email",claimcontactnumber:"Claimer's Contact",dateclaimed:"Date Claimed",status:"Status"},P=()=>{b(Object.keys(g).reduce((v,y)=>(v[y]=!0,v),{}))},A={lost:{type:!0,category:!0,brand:!0,color:!0,objectname:!0,name:!0,contactnumber:!0,email:!0,datefound:!1,locationfound:!1,datelost:!1,locationlost:!1,claimedby:!1,claimemail:!1,claimcontactnumber:!1,dateclaimed:!1,status:!0},pending:{type:!0,category:!0,brand:!0,color:!0,objectname:!0,name:!0,contactnumber:!0,email:!0,datefound:!1,locationfound:!1,datelost:!0,locationlost:!0,claimedby:!1,claimemail:!1,claimcontactnumber:!1,dateclaimed:!1,status:!0},claimed:{type:!0,category:!0,brand:!0,color:!0,objectname:!0,name:!0,contactnumber:!0,email:!0,datefound:!1,locationfound:!1,datelost:!1,locationlost:!1,claimedby:!0,claimemail:!0,claimcontactnumber:!0,dateclaimed:!0,status:!0},all:{type:!0,category:!0,brand:!0,color:!0,objectname:!0,name:!0,contactnumber:!0,email:!0,datefound:!0,locationfound:!0,datelost:!0,locationlost:!0,claimedby:!0,claimemail:!0,claimcontactnumber:!0,dateclaimed:!0,status:!0}},E=()=>{b(Object.keys(g).reduce((v,y)=>(v[y]=!1,v),{}))};O.useEffect(()=>{(async()=>{const{data:y,error:x}=await Ie.from("item_reports2").select("*");x?console.error("Error fetching data: ",x):e(y)})()},[]);const C=v=>{b(y=>({...y,[v]:!y[v]}))},j=v=>{r(v),b(v==="lost"||v==="pending"?{...A.all,type:!0}:v==="claimed"?{...A.claimed,type:!0}:A[v])},U=t.filter(v=>{const y=n==="lost"&&v.type==="Lost"||n==="pending"&&v.type==="Found"||n==="claimed"&&v.status==="claimed"||n==="all",x=s==="Others"?!["Personal Belonging","Electronics","Documents"].includes(v.category):s?v.category===s:!0,R=o?v.color===o:!0,w=new Date(v.createdAt),I=(!l.start||w>=new Date(l.start))&&(!l.end||w<=new Date(l.end)),_=v.confirmed!==!1;return y&&x&&R&&I&&_}),L=v=>n==="lost"&&v==="Found"?"Lost":n==="pending"&&v==="Lost"?"Missing":v;return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"adminnavbar",children:[u.jsxs("div",{children:[u.jsx("p",{className:"header",children:"All Items"}),u.jsxs("div",{className:"categoryx",children:[u.jsx("p",{children:"Filter"}),u.jsx("button",{onClick:()=>j("all"),children:"All"}),u.jsx("button",{onClick:()=>j("lost"),children:"Lost"}),u.jsx("button",{onClick:()=>j("pending"),children:"Missing"}),u.jsx("button",{onClick:()=>j("claimed"),children:"Claimed"}),u.jsxs("select",{className:"categorybutton",value:s,onChange:v=>i(v.target.value),children:[u.jsx("option",{value:"",children:"All Categories"}),u.jsx("option",{value:"Personal Belonging",children:"Personal Belonging"}),u.jsx("option",{value:"Electronics",children:"Electronics"}),u.jsx("option",{value:"Documents",children:"Documents"}),u.jsx("option",{value:"Others",children:"Others"})]}),u.jsxs("select",{className:"categorybutton",value:o,onChange:v=>a(v.target.value),children:[u.jsx("option",{value:"",children:"All Colors"}),u.jsx("option",{value:"Red",children:"Red"}),u.jsx("option",{value:"Blue",children:"Blue"}),u.jsx("option",{value:"Green",children:"Green"}),u.jsx("option",{value:"Yellow",children:"Yellow"}),u.jsx("option",{value:"Orange",children:"Orange"}),u.jsx("option",{value:"Purple",children:"Purple"}),u.jsx("option",{value:"Pink",children:"Pink"}),u.jsx("option",{value:"Black",children:"Black"}),u.jsx("option",{value:"White",children:"White"}),u.jsx("option",{value:"Gray",children:"Gray"})]}),u.jsxs("div",{className:"dateDiv",children:[u.jsx("input",{type:"date",value:l.start,onChange:v=>d(y=>({...y,start:v.target.value}))}),u.jsx("label",{className:"tolabel",children:""}),u.jsx("input",{type:"date",value:l.end,onChange:v=>d(y=>({...y,end:v.target.value})),min:l.start})]})]})]}),u.jsx("label",{className:"adminh2",children:U.length})]}),u.jsxs("div",{className:"showCheckbox",children:[u.jsx("p",{children:"Select Columns:"}),u.jsxs("div",{className:"checkbox-buttons",children:[u.jsx("button",{onClick:P,children:"Select All"}),u.jsx("button",{onClick:E,children:"Deselect All"}),u.jsx("button",{className:"togglev",onClick:k,children:"Toggle"})," "]})]}),h&&u.jsx("div",{className:"checkbox-container",children:Object.keys(g).map(v=>u.jsxs("div",{children:[u.jsx("input",{type:"checkbox",checked:g[v],onChange:()=>C(v)}),u.jsx("label",{children:N[v]})]},v))}),u.jsx("div",{className:"dashboardbody",children:u.jsx("div",{className:"dashboardtable",children:u.jsx("div",{className:"table-containerAll",children:u.jsxs("table",{className:"report-table",children:[u.jsx("thead",{children:u.jsx("tr",{children:Object.keys(g).map(v=>g[v]&&u.jsx("th",{children:N[v]},v))})}),u.jsx("tbody",{children:U.length>0?U.map(v=>u.jsx("tr",{children:Object.keys(g).map(y=>g[y]&&u.jsx("td",{children:y==="type"?L(v[y]):v[y]||"N/A"},y))},v.id)):u.jsx("tr",{children:u.jsx("td",{colSpan:"18",children:"No items found"})})})]})})})})]})}function BL(){const[t,e]=O.useState([]),[n,r]=O.useState("all"),[s,i]=O.useState(""),[o,a]=O.useState(""),[l,d]=O.useState({start:"",end:""}),[h,p]=O.useState(!0),[g,b]=O.useState({type:!0,category:!0,brand:!0,color:!0,objectname:!0,reportedbyname:!0,reportedbycontact:!0,reportedbyemail:!0,datefound:!0,locationfound:!0,datelost:!0,locationlost:!0,status:!0,archiveremark:!0}),k=()=>{p(v=>!v)},N={type:"Report Type",category:"Category",brand:"Brand",color:"Color",objectname:"Object Name",reportedbyname:"Reported By Name",reportedbycontact:"Reported By Contact",reportedbyemail:"Reported By Email",datefound:"Date Found",locationfound:"Location Found",datelost:"Date Lost",locationlost:"Location Lost",status:"Status",archiveremark:"Archive Reason"},P=()=>{b(Object.keys(g).reduce((v,y)=>(v[y]=!0,v),{}))},A={lost:{type:!0,category:!0,brand:!0,color:!0,objectname:!0,reportedbyname:!0,reportedbycontact:!0,reportedbyemail:!0,datefound:!0,locationfound:!0,datelost:!1,locationlost:!1,status:!0,archiveremark:!0},pending:{type:!0,category:!0,brand:!0,color:!0,objectname:!0,reportedbyname:!0,reportedbycontact:!0,reportedbyemail:!0,datefound:!1,locationfound:!1,datelost:!0,locationlost:!0,status:!0,archiveremark:!0},claimed:{type:!0,category:!0,brand:!0,color:!0,objectname:!0,reportedbyname:!0,reportedbycontact:!0,reportedbyemail:!0,datefound:!1,locationfound:!1,datelost:!1,locationlost:!1,status:!0,archiveremark:!0},all:{type:!0,category:!0,brand:!0,color:!0,objectname:!0,reportedbyname:!0,reportedbycontact:!0,reportedbyemail:!0,datefound:!0,locationfound:!0,datelost:!0,locationlost:!0,status:!0,remark:!0}},E=()=>{b(Object.keys(g).reduce((v,y)=>(v[y]=!1,v),{}))},C=async v=>{const{data:y,error:x}=await Ie.from("userinfo").select("firstname, lastname, contact, email").eq("id",v).single();return x?(console.error("Error fetching user data:",x),null):y};O.useEffect(()=>{(async()=>{const y=await Ie.from("item_reports2").select("*"),x=await Promise.all(y.data.map(async R=>{const w=await C(R.holderid);return{...R,reportedbyname:`${w.firstname} ${w.lastname}`,reportedbycontact:w.contact,reportedbyemail:w.email}}));e(x)})()},[]),O.useEffect(()=>{(async()=>{try{const{data:y,error:x}=await Ie.from("item_reports2").select("*");if(x)throw x;e(y)}catch(y){console.error("Error fetching items:",y)}})()},[]);const j=v=>{b(y=>({...y,[v]:!y[v]}))},U=v=>{r(v),b(A[v])},L=t.filter(v=>{const y=n==="lost"&&v.type==="Lost"||n==="pending"&&v.type==="Found"||n==="claimed"&&v.status==="claimed"||n==="all",x=s==="Others"?!["Personal Belonging","Electronics","Documents"].includes(v.category):s?v.category===s:!0,R=o?v.color===o:!0,w=new Date(v.createdAt),I=(!l.start||w>=new Date(l.start))&&(!l.end||w<=new Date(l.end)),_=v.confirmed!==!1,D=v.status==="archived";return y&&x&&R&&I&&_&&D});return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"adminnavbar",children:[u.jsxs("div",{children:[u.jsx("p",{className:"header",children:"Archived Reports"}),u.jsxs("div",{className:"categoryx",children:[u.jsx("p",{children:"Filter"}),u.jsx("button",{onClick:()=>U("all"),children:"All"}),u.jsx("button",{onClick:()=>U("lost"),children:"Lost"}),u.jsx("button",{onClick:()=>U("pending"),children:"Missing"}),u.jsx("button",{id:"buttonclaimed",onClick:()=>U("claimed"),children:"Claimed"}),u.jsxs("select",{className:"categorybutton",value:s,onChange:v=>i(v.target.value),children:[u.jsx("option",{value:"",children:"All Categories"}),u.jsx("option",{value:"Personal Belonging",children:"Personal Belonging"}),u.jsx("option",{value:"Electronics",children:"Electronics"}),u.jsx("option",{value:"Documents",children:"Documents"}),u.jsx("option",{value:"Others",children:"Others"})]}),u.jsxs("select",{className:"categorybutton",value:o,onChange:v=>a(v.target.value),children:[u.jsx("option",{value:"",children:"All Colors"}),u.jsx("option",{value:"Red",children:"Red"}),u.jsx("option",{value:"Blue",children:"Blue"}),u.jsx("option",{value:"Green",children:"Green"}),u.jsx("option",{value:"Yellow",children:"Yellow"}),u.jsx("option",{value:"Orange",children:"Orange"}),u.jsx("option",{value:"Purple",children:"Purple"}),u.jsx("option",{value:"Pink",children:"Pink"}),u.jsx("option",{value:"Black",children:"Black"}),u.jsx("option",{value:"White",children:"White"}),u.jsx("option",{value:"Gray",children:"Gray"})]}),u.jsxs("div",{className:"dateDiv",children:[u.jsx("input",{type:"date",value:l.start,onChange:v=>d(y=>({...y,start:v.target.value}))}),u.jsx("label",{className:"tolabel",children:""}),u.jsx("input",{type:"date",value:l.end,onChange:v=>d(y=>({...y,end:v.target.value})),min:l.start})]})]})]}),u.jsx("label",{className:"adminh2",children:L.length})]}),u.jsxs("div",{className:"showCheckbox",children:[u.jsx("p",{children:"Select Columns:"}),u.jsxs("div",{className:"checkbox-buttons",children:[u.jsx("button",{onClick:P,children:"Select All"}),u.jsx("button",{onClick:E,children:"Deselect All"}),u.jsx("button",{className:"togglev",onClick:k,children:"Toggle"})," "]})]}),h&&u.jsx("div",{className:"checkbox-container",children:Object.keys(g).map(v=>u.jsxs("div",{children:[u.jsx("input",{type:"checkbox",checked:g[v],onChange:()=>j(v)}),u.jsx("label",{children:N[v]})]},v))}),u.jsx("div",{className:"dashboardbody",children:u.jsx("div",{className:"dashboardtable",children:u.jsx("div",{className:"table-containerAll",children:u.jsxs("table",{className:"report-table",children:[u.jsx("thead",{children:u.jsx("tr",{children:Object.keys(g).map(v=>g[v]&&u.jsx("th",{children:N[v]},v))})}),u.jsx("tbody",{children:L.length>0?L.map(v=>u.jsx("tr",{children:Object.keys(g).map(y=>g[y]&&u.jsx("td",{children:v[y]},y))},v.id)):u.jsx("tr",{children:u.jsx("td",{colSpan:Object.keys(g).length,children:"No items found."})})})]})})})})]})}const zL="/systemproj/assets/logo-DYTZgZ72.png";function qL(){return u.jsxs("div",{className:"mainbody",children:[u.jsxs("div",{className:"sidebar",children:[u.jsx("img",{src:zL,alt:"logo",className:"logo2"}),u.jsxs("ul",{children:[u.jsx("li",{children:u.jsxs(di,{to:"/adminpage/",children:[" ",u.jsx(jt,{icon:yL})," Dashboard"]})}),u.jsx("li",{children:u.jsxs(di,{to:"/adminpage/lostitems",children:[u.jsx(jt,{icon:pL})," Found Items"]})}),u.jsx("li",{children:u.jsxs(di,{to:"/adminpage/pending",children:[u.jsx(jt,{icon:gL})," Lost Items"]})}),u.jsx("li",{children:u.jsxs(di,{to:"/adminpage/claimed",children:[u.jsx(jt,{icon:mL})," Claimed Items"]})}),u.jsx("li",{children:u.jsxs(di,{to:"/adminpage/all",children:[u.jsx(jt,{icon:_L})," All Reports"]})}),u.jsx("li",{children:u.jsxs(di,{to:"/adminpage/archive",children:[u.jsx(jt,{icon:$g})," Archived Reports"]})})]})]}),u.jsx("div",{className:"content",children:u.jsxs(Kw,{children:[u.jsx(Tt,{path:"/",element:u.jsx(ML,{})}),u.jsx(Tt,{path:"/lostitems",element:u.jsx(FL,{})}),u.jsx(Tt,{path:"/pending",element:u.jsx(UL,{})}),u.jsx(Tt,{path:"/claimed",element:u.jsx(VL,{})}),u.jsx(Tt,{path:"/all",element:u.jsx($L,{})}),u.jsx(Tt,{path:"/archive",element:u.jsx(BL,{})})]})})]})}function HL(){const t=Js(),[e,n]=O.useState(1),[r,s]=O.useState(!1),[i,o]=O.useState({name:"",email:"",contactNumber:""}),[a,l]=O.useState(null),[d,h]=O.useState(""),[p,g]=O.useState(""),[b,k]=O.useState({brand:"",color:"",dateFound:"",locationFound:"",timeFound:"",objectName:""}),[N,P]=O.useState(null),[A,E]=O.useState("");O.useEffect(()=>{const x=JSON.parse(sessionStorage.getItem("user"));x?o({name:`${x.firstname} ${x.lastname}`,email:x.email,contactNumber:x.contact}):console.log("No user data found in sessionStorage.")},[]);const C=x=>{x.target.files[0]&&P(x.target.files[0])},j=async()=>{if(N)try{const x=`${Mm()}-${N.name}`,{data:R,error:w}=await Ie.storage.from("lost-items").upload(`lost-items/${x}`,N,{cacheControl:"3600",upsert:!1});if(w)return console.error("Error uploading image:",w),null;const _=`https://mxqzohhojkveomcyfxuv.supabase.co/storage/v1/object/public/lost-items/${R.path}`;return E(_),_}catch(x){return console.error("Unexpected error during image upload:",x.message),null}return null},U=async()=>{try{const x=JSON.parse(sessionStorage.getItem("user")),R=x==null?void 0:x.id;if(!R){console.error("User is not authenticated");return}const w=new Date,I=new Date(w.getTime()-60*60*1e3),_=new Date(w.getTime()-3*60*1e3),{data:D,error:T}=await Ie.from("item_reports2").select("createdat",{count:"exact"}).eq("holderid",R).gte("createdat",I.toISOString());if(T){console.error("Error fetching recent reports:",T.message);return}if(console.log(`User has created ${D.length} reports in the last hour.`),D.length>=5){alert("You have reached the limit of 5 reports per hour. Please wait before reporting again."),console.log("User has reached the limit of 5 reports per hour.");return}if(D.length>0&&new Date(D[0].createdat)>=_){alert("Please wait 3 minutes before submitting another report."),console.log("User must wait 3 minutes before submitting another report.");return}const M=w.toLocaleString(),V=await j()||null,z=`
        INSERT INTO item_reports2 (
          category, brand, color, datelost, timelost, locationlost, objectname, 
          imageurl, holderid, createdat, type, status
        )
        VALUES (
          '${d==="Other"?p:d}', 
          '${b.brand}', 
          '${b.color}', 
          '${b.dateFound}', 
          '${b.timeFound}', 
          '${b.locationFound}', 
          '${b.objectName}', 
          ${V?`'${V}'`:"null"}, 
          '${R}', 
          '${M}', 
          'Lost', 
          'pending'
        );
      `,{error:H}=await Ie.rpc("execute_sql",{sql:z});if(H){console.error("Error executing RPC with raw SQL:",H.message);return}console.log("Item data saved successfully via raw SQL!"),n(e+1)}catch(x){console.error("Error saving item via raw SQL:",x)}},L=b.color&&b.dateFound&&b.timeFound&&b.locationFound&&b.objectName,v=x=>{h(x.target.value),x.target.value!=="Other"&&g("")},y=()=>d==="Other"?p.trim()==="":d==="";return u.jsxs("div",{className:"report-lost-item-container",children:[e===1&&u.jsxs("div",{className:"step1",children:[u.jsx("h2",{children:"REPORT A LOST ITEM"}),u.jsxs("div",{className:"ProgressIndi",children:[u.jsx("div",{className:"step active",children:"1"}),u.jsx("div",{className:"step",children:"2"}),u.jsx("div",{className:"step",children:"3"}),u.jsx("div",{className:"step",children:"4"})]}),u.jsxs("div",{className:"ReportLostContainer",children:[u.jsx("h3",{children:"TERMS AND CONDITIONS"}),u.jsxs("p",{children:["We appreciate your desire to retrieve the item you lost. ",u.jsx("br",{}),"By providing your information, you agree to these terms."]}),u.jsxs("p",{children:["Your personal information will be kept confidential. It will be used solely to verify your ownership of the item ",u.jsx("br",{}),"and will not be shared with anyone else without your permission."]}),u.jsxs("p",{children:["Please note that NU Lost and Found Dasmarias cannot ",u.jsx("br",{})," be held responsible for any damage to items you claim. We sincerely appreciate your understanding regarding this matter."]}),u.jsxs("p",{children:["By claiming a lost item, you confirm that you have read ",u.jsx("br",{})," and understood these terms."]}),u.jsx("div",{className:"CheckboxContainer",children:u.jsxs("label",{children:[u.jsx("input",{type:"checkbox",checked:r,onChange:()=>s(!r)}),"I understand and agree."]})})]}),u.jsxs("div",{className:"ButtonContainer",children:[u.jsx("button",{className:"PrevBtn",onClick:()=>{t("/homepage"),setTimeout(()=>window.scrollTo(0,document.body.scrollHeight),100)},children:"Home"}),u.jsx("button",{className:"NextBtn",disabled:!r,onClick:()=>n(e+1),children:"Next"})]})]}),e===2&&u.jsxs("div",{className:"step2",children:[u.jsx("h2",{children:"REPORT A LOST ITEM"}),u.jsxs("div",{className:"ProgressIndi",children:[u.jsx("div",{className:"step active",children:"1"}),u.jsx("div",{className:"step active",children:"2"}),u.jsx("div",{className:"step",children:"3"}),u.jsx("div",{className:"step",children:"4"})]}),u.jsxs("div",{className:"ReportLostContainer",children:[u.jsx("h3",{children:"CHOOSE CATEGORY"}),u.jsxs("form",{children:[u.jsxs("label",{children:[u.jsx("input",{type:"radio",name:"category",value:"Personal Belonging",onChange:v}),"Personal Belonging",u.jsxs("ul",{children:[u.jsx("li",{children:" Wallet"}),u.jsx("li",{children:" Bag"}),u.jsx("li",{children:" Clothing"}),u.jsx("li",{children:" Jewelry, etc..."})]})]}),u.jsxs("label",{children:[u.jsx("input",{type:"radio",name:"category",value:"Electronics",onChange:v}),"Electronics",u.jsxs("ul",{children:[u.jsx("li",{children:" Phones"}),u.jsx("li",{children:" Laptop"}),u.jsx("li",{children:" Charger"}),u.jsx("li",{children:" Camera, etc..."})]})]}),u.jsxs("label",{children:[u.jsx("input",{type:"radio",name:"category",value:"Documents",onChange:v}),"Documents",u.jsxs("ul",{children:[u.jsx("li",{children:" ID"}),u.jsx("li",{children:" Cards"}),u.jsx("li",{children:" Printed Materials"}),u.jsx("li",{children:" School works, etc..."})]})]}),u.jsxs("label",{children:[u.jsx("input",{type:"radio",name:"category",value:"Other",onChange:v}),"Other (Specify)",d==="Other"&&u.jsx("input",{type:"text",className:"OtherInput",placeholder:"Other category",value:p,onChange:x=>g(x.target.value)})]})]})]}),u.jsxs("div",{className:"ButtonContainer",children:[u.jsx("button",{className:"PrevBtn",onClick:()=>n(e-1),children:"Previous"}),u.jsx("button",{className:"NextBtn",onClick:()=>n(e+1),disabled:y(),children:"Next"})]})]}),e===3&&u.jsxs("div",{className:"step3",children:[u.jsx("h2",{children:"REPORT A MISSING ITEM"}),u.jsxs("div",{className:"ProgressIndi",children:[u.jsx("div",{className:"step active",children:"1"}),u.jsx("div",{className:"step active",children:"2"}),u.jsx("div",{className:"step active",children:"3"}),u.jsx("div",{className:"step",children:"4"})]}),u.jsxs("div",{className:"ReportLostContainer",children:[u.jsx("h3",{children:"RESPONSE FORM"}),u.jsxs("div",{className:"FormRow",children:[u.jsx("label",{children:"Name: "}),u.jsx("input",{className:"FInput",type:"text",value:i.name,onChange:x=>o({...i,name:x.target.value}),readOnly:!0})]}),u.jsxs("div",{className:"FormRow",children:[u.jsx("label",{children:"Email: "}),u.jsx("input",{className:"FInput",type:"email",value:i.email,onChange:x=>o({...i,email:x.target.value}),readOnly:!0})]}),u.jsxs("div",{className:"FormRow",children:[u.jsx("label",{children:"Contact Number: "}),u.jsx("input",{className:"FInput",type:"text",value:i.contactNumber,onChange:x=>o({...i,contactNumber:x.target.value}),readOnly:!0})]}),u.jsxs("div",{className:"FormRow",children:[u.jsx("label",{children:"Item Name:"}),u.jsx("input",{className:"FInput",type:"text",id:"objectName",value:b.objectName,onChange:x=>k({...b,objectName:x.target.value}),required:!0,placeholder:"Enter the name of the item"})]}),u.jsxs("div",{className:"FormRow",children:[u.jsx("label",{children:"Brand:"}),u.jsx("input",{className:"FInput",type:"text",id:"brand",value:b.brand,onChange:x=>k({...b,brand:x.target.value}),placeholder:"Enter the brand of the item"})]}),u.jsxs("div",{className:"FormRow",children:[u.jsx("label",{children:"Color:"}),u.jsxs("select",{id:"ColorInp",value:b.color,onChange:x=>{const R=x.target.value;k({...b,color:R})},required:!0,children:[u.jsx("option",{value:"",children:"Select a color"}),u.jsx("option",{value:"Red",children:"Red"}),u.jsx("option",{value:"Blue",children:"Blue"}),u.jsx("option",{value:"Green",children:"Green"}),u.jsx("option",{value:"Yellow",children:"Yellow"}),u.jsx("option",{value:"Orange",children:"Orange"}),u.jsx("option",{value:"Purple",children:"Purple"}),u.jsx("option",{value:"Pink",children:"Pink"}),u.jsx("option",{value:"Black",children:"Black"}),u.jsx("option",{value:"White",children:"White"}),u.jsx("option",{value:"Gray",children:"Gray"}),u.jsx("option",{value:"Others",children:"Other"})]}),b.color==="Others"&&u.jsx("input",{className:"FInput",type:"text",placeholder:"Specify color",value:a,onChange:x=>l(x.target.value),required:!0})]}),u.jsxs("div",{className:"FormRow",children:[u.jsx("label",{children:"Date Lost:"}),u.jsx("input",{className:"FInput",type:"date",id:"dateFound",value:b.dateFound,onChange:x=>k({...b,dateFound:x.target.value}),required:!0})]}),u.jsxs("div",{className:"FormRow",children:[u.jsx("label",{children:"Time Lost:"}),u.jsx("input",{className:"FInput",type:"time",id:"timeFound",value:b.timeFound,onChange:x=>k({...b,timeFound:x.target.value}),required:!0})]}),u.jsxs("div",{className:"FormRow",children:[u.jsx("label",{children:"Location Found:"}),u.jsx("input",{className:"FInput",type:"text",id:"locationFound",value:b.locationFound,onChange:x=>k({...b,locationFound:x.target.value}),required:!0,placeholder:"Enter where the item was Lost"})]}),u.jsxs("div",{className:"FormRow",children:[u.jsx("label",{children:"Upload Image:"}),u.jsx("input",{className:"FInput",type:"file",accept:"image/*",onChange:C})]})]}),u.jsxs("div",{className:"ButtonContainer",children:[u.jsx("button",{className:"PrevBtn",onClick:()=>n(e-1),children:"Previous"}),u.jsx("button",{className:"NextBtn",onClick:()=>U(),disabled:!L,children:"Submit"})]})]}),e===4&&u.jsxs("div",{className:"step4",children:[u.jsx("h2",{children:"REPORT A MISSING ITEM"}),u.jsxs("div",{className:"ProgressIndi",children:[u.jsx("div",{className:"step active",children:"1"}),u.jsx("div",{className:"step active",children:"2"}),u.jsx("div",{className:"step active",children:"3"}),u.jsx("div",{className:"step active",children:"4"})]}),u.jsxs("div",{className:"LReportLostContainer",children:[u.jsx("h3",{children:"Item Reported!"}),u.jsx("p",{children:"Your report has been submitted. We'll notify you if there's a match!"})]}),u.jsx("button",{className:"FinishBtn",onClick:()=>t("/homepage#body1"),children:"Finish"})]})]})}const WL=()=>{const t=Js();return u.jsxs("form",{children:[u.jsx("div",{children:u.jsx("h1",{children:"Hello"})}),u.jsx("div",{children:u.jsx("button",{className:"PrevBtn",type:"button",onClick:()=>{localStorage.setItem("scrollToSection","Report3"),t("/homepage")},children:"Home"})})]})};function GL(){return u.jsx("h2",{children:"404 - Page Not Found"})}function KL(){return u.jsx(Tk,{basename:"/systemproj",children:u.jsxs(Kw,{children:[u.jsx(Tt,{path:"/",element:u.jsx(zR,{})}),u.jsx(Tt,{path:"/login",element:u.jsx(qR,{})}),u.jsx(Tt,{path:"/homepage",element:u.jsx(EL,{})}),u.jsx(Tt,{path:"/report-lost-item/*",element:u.jsx(HL,{})}),u.jsx(Tt,{path:"/report-found-item/*",element:u.jsx(TL,{})}),u.jsx(Tt,{path:"/edit-reported-item/*",element:u.jsx(WL,{})}),u.jsx(Tt,{path:"/adminpage/*",element:u.jsx(qL,{})}),u.jsx(Tt,{path:"*",element:u.jsx(GL,{})})]})})}Lw(document.getElementById("root")).render(u.jsx(O.StrictMode,{children:u.jsx(KL,{})}));export{Vp as g};
